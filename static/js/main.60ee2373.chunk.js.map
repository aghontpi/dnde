{"version":3,"sources":["Components/UiWrapper.module.scss","Pages/Editor/Preview.module.css","Assets/Images/new_template.svg","Pages/List/Preview.tsx","Api/api.ts","Pages/List/List.tsx","Components/Messages.tsx","Utils/logger.ts","Utils/undoRedo.ts","Context/Editor.context.tsx","Components/Mods/HeadStyle.ts","Components/Mods/FontConfig.ts","Utils/findElementInMjmlJson.ts","Utils/closestParent.ts","Context/Htmlwrapper.context.tsx","Hooks/Htmlwrapper.hook.ts","Hooks/Editor.hook.ts","Context/Ckeditor.context.tsx","Hooks/Ckeditor.hook.ts","Context/CustomEditor.context.tsx","Hooks/CustomEditor.hook.ts","Utils/detectEmptyBody.ts","Utils/findElementsParent.ts","Utils/eventElementRelation.ts","Utils/dragStart.ts","Components/Section.tsx","Lib/base64.js","Utils/mjmlProcessor.ts","Components/Mods/CustomInlineEditor.tsx","Components/Mods/BorderCollection.tsx","Utils/generateDropItemPlaceholder.ts","Utils/typeoftag.ts","Utils/reorderSections.ts","Utils/inlineEditorActions.ts","Components/ColorPicker.tsx","Components/Mods/Background.tsx","Components/Mods/WidthHeight.tsx","Components/Mods/Title.tsx","Components/BodyAttributes.tsx","Hooks/Attribute.hook.ts","Hooks/useFonts.ts","Components/Mods/Link.tsx","Components/MoveUpDownRow.tsx","Components/HtmlWrapper.tsx","Utils/setToolbarPositions.ts","Utils/reactPropertyNames.ts","Utils/wrapWithOutline.tsx","Utils/htmlProcessor.tsx","Utils/removePlaceholders.ts","Utils/operations.ts","Utils/findTextNode.ts","Context/Quill.context.tsx","Hooks/Quill.hook.ts","Context/DragAndDrop.context.tsx","Hooks/Drag.hook.ts","Components/Mods/Editor.tsx","Components/UndoRedo.tsx","Pages/Editor/View.tsx","Components/Mods/Align.tsx","Components/Mods/BorderConfig.ts","Components/Mods/Border.tsx","Components/Mods/BorderRadius.tsx","Components/Mods/ContainerBackground.tsx","Components/Mods/Content.tsx","Components/Mods/FontSize.tsx","Components/Mods/Img.tsx","Components/Mods/InnerPadding.tsx","Components/Mods/Paddings.tsx","Components/ColumnSelector.tsx","Components/Mods/FontFamily.tsx","Components/Mods/VerticalAlign.tsx","Components/Mods/BackgroundImage.tsx","Components/ColumnAttributes.tsx","Components/Mods/LineHeight.tsx","Components/Mods/CustomCss.tsx","Components/Mods/AddCustomFonts.tsx","Pages/Editor/Attributes.tsx","Components/UiWrapper.tsx","Components/Button.tsx","Components/Text.tsx","Components/Image.tsx","Components/Spacer.tsx","Components/Html.tsx","Components/Divider.tsx","Components/Social.tsx","Components/SectionV2.tsx","Pages/Editor/ComponentBank.tsx","Pages/Editor/Preview.tsx","Pages/Editor/Editor.tsx","Pages/Editor/index.tsx","Pages/EditPage/index.tsx","Pages/index.ts","Pages/index.route.tsx","Store/list.ts","Store/store.tsx","App.tsx","reportWebVitals.ts","index.tsx","Pages/Editor/Editor.module.scss"],"names":["module","exports","PreviewContainer","styled","div","NewItem","history","useHistory","path","useRouteMatch","className","PlusOutlined","style","fontSize","onClick","push","size","type","src","newTemplate","alt","Preview","image","id","skeleton","height","minWidth","maxWidth","padding","DndeApi","createApi","baseQuery","fetchBaseQuery","baseUrl","process","endpoints","builder","getTemplates","query","getTemplate","sendMail","mutation","data","url","method","body","useGetTemplatesQuery","useLazyGetTemplateQuery","useSendMailMutation","List","isLoading","isSuccess","isError","autoHide","align","justify","span","textAlign","paddingTop","md","lg","target","href","GithubFilled","position","top","gutter","map","item","key","xs","active","response","docRef","preview","success","msg","message","logger","console","log","error","info","UndoRedo","undo","redo","this","action","length","_","isEqual","peekUndo","copy","storeToLocalStorage","current","itemToApply","pop","undoAction","redoAction","peek","localStorage","setItem","JSON","stringify","e","cloneDeep","UNDOREDO","window","UNDOREO","EditorContext","createContext","PageHeaderItems","tagName","content","children","attributes","name","value","font","initialState","width","mutableProperties","EDContext","props","useState","mjmlJson","setMjmlJson","setAttributes","Provider","findElementInJson","mjmljson","classidentifier","undefined","element","classNames","includes","i","child","res","findClosestParent","closest","uniqueClassName","findUniqueIdentifier","classList","classlist","identifier","findUniqueIdentifierFromString","split","generateUniqueIdRecursively","uidGenerator","attr","css_class","uid","updatedClassNames","classNamesArr","regexMatch","trim","match","replace","replaceGeneicTagWithUniqueId","findIndexOfIdentifierInChildren","uniqueIdentifier","HtmlContext","HtmlContextProvider","memo","activeHover","setActiveHover","setActive","ref","useRef","setId","getId","useHtmlWrapper","useContext","useEditor","CkeditorContext","Ckeditor","editorRef","ckeditorInstance","editorActive","x","setX","y","setY","delActive","setDelActive","delX","setDelX","delY","setDelY","copyActive","setCopyActive","copyX","setCopyX","copyY","setCopyY","isColumn","setIsColumn","isActive","drag","useCkeditor","CustomEditorContext","status","CustomEditorProvider","useCustomEditorPosition","useCustomEditorStatus","detectEmptyElement","nodeWithReactProperties","detect","detectElement","recursivelyFindParent","node","parentClassPartial","parent","parentElement","findSectionOfElement","isEventWithTargetElement","event","pos","getBoundingClientRect","eventX","clientX","eventY","clientY","within","left","right","bottom","dragStart","config","dataTransfer","effectAllowed","draggingItem","setDragImage","setData","columnPlaceholder","COLUMN","SECTION","cannot_have","Base64","Row","_keyStr","encode","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","output","_utf8_encode","charCodeAt","isNaN","charAt","decode","indexOf","String","fromCharCode","_utf8_decode","string","utftext","n","c","c2","c3","cleanMjmlJson","ignore","cssClass","isIgnoring","newChildren","result","exportJson","css","newCss","join","replaceContent","r","BorderDirection","generateDropItemPlaceholder","columnElement","currentTarget","nearestTag","nearestElement","suggestionDirection","middle","floor","closeToTopOrBottom","slice","lastIndexOf","parentObj","get","newOrder","childItem","placeItemPlaceHolder","updated","set","uniqueColumnIdentifier","cleaned","typeoftag","regExMatch","regex","moveSectionUp","directon","parentItem","parentPath","indexOfItem","childSection","nextChild","update_parent","newAction","InlineEditorActions","extras","preventDefault","stopPropagation","document","execCommand","ColorPicker","handleChange","mouseDown","color","setColor","ColorPickerContainer","onMouseDown","disableAlpha","onChange","hexCode","hex","decimalToHex","rgb","a","g","b","handleColorChange","alpha","Math","round","toString","Background","activePath","label","attribute","overrideAttribute","useVisibility","customPath","visible","useEffect","flex","Item","json","Col","ATTRIBUTE","Width","setValue","getValue","useValue","onKeyDown","ATTRIBUTE_HEIGHT","Height","Title","index","itemIndex","titleConfig","addonBefore","onBlur","update","BODY_PATH","BodyContainer","BodyAttributes","titleIndex","setTitleIndex","headConfig","title","property","setVisible","setPath","pathToElement","useFonts","fonts","setFonts","updateFonts","_value","_fonts","head","fontList","filter","sortedFontList","sort","uniq","mailFont","toUpdate","Link","setValueInState","userValue","addHttps","restoreSelection","restoreSel","getSelection","temp","removeAllRanges","addRange","InlineEditor","activeElement","fontlist","toolbar","querySelectorAll","forEach","addEventListener","ResetEventBehaviour","removeEventListener","editor","Event","stateChangeCallback","onKeyUp","getRangeAt","add","setAttribute","display","border","zIndex","backgroundColor","transition","dropdownStyle","defaultValue","Array","from","keys","Option","onFocus","overlayClassName","trigger","placement","destroyTooltipOnHide","icon","FontColorsOutlined","BgColorsOutlined","BoldOutlined","ItalicOutlined","UnderlineOutlined","setLinkCallback","LinkItem","link","setLink","linkRef","gap","placeholder","LinkOutlined","closestParent","find","itemJson","updateToSend","html","innerHTML","MoveUpDown","idRef","upActive","setUpActive","downActive","setDownActive","lastItem","flexDirection","rowGap","disabled","VerticalAlignTopOutlined","moveSectionDown","VerticalAlignBottomOutlined","HtmlWrapper","uniqueKey","originalNode","customEditorSetX","customEditorSetY","setCustomEditorStatus","uniqueId","useMemo","mjmlTarget","delete","numberOfIcons","setToolBars","draggable","outline","outlineClick","memoFind","useCallback","tag","ItemName","createElement","background","moveUpDown","Element","nodeName","onDragOver","debounce","nativeEvent","madeChange","cleanedMjmlJson","columnObj","sectionPath","parentSection","columnChildrenNewOrder","childColumn","genereateDropItemPlaceholderForColumn","onMouseOver","onDragStart","dropEffect","mode","cursor","possibleStandardNames","accept","acceptcharset","accesskey","allowfullscreen","as","async","autocapitalize","autocomplete","autocorrect","autofocus","autoplay","autosave","capture","cellpadding","cellspacing","challenge","charset","checked","cite","class","classid","classname","cols","colspan","contenteditable","contextmenu","controls","controlslist","coords","crossorigin","dangerouslysetinnerhtml","datetime","default","defaultchecked","defaultvalue","defer","dir","disablepictureinpicture","disableremoteplayback","download","enctype","enterkeyhint","for","form","formmethod","formaction","formenctype","formnovalidate","formtarget","frameborder","headers","hidden","high","hreflang","htmlfor","httpequiv","innerhtml","inputmode","integrity","is","itemid","itemprop","itemref","itemscope","itemtype","keyparams","keytype","kind","lang","list","loop","low","manifest","marginwidth","marginheight","max","maxlength","media","mediagroup","min","minlength","multiple","muted","nomodule","nonce","novalidate","open","optimum","pattern","playsinline","poster","preload","profile","radiogroup","readonly","referrerpolicy","rel","required","reversed","role","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","sizes","spellcheck","srcdoc","srclang","srcset","start","step","summary","tabindex","usemap","wmode","wrap","about","accentheight","accumulate","additive","alignmentbaseline","allowreorder","alphabetic","amplitude","arabicform","ascent","attributename","attributetype","autoreverse","azimuth","basefrequency","baselineshift","baseprofile","bbox","begin","bias","by","calcmode","capheight","clip","clippath","clippathunits","cliprule","colorinterpolation","colorinterpolationfilters","colorprofile","colorrendering","contentscripttype","contentstyletype","cx","cy","d","datatype","decelerate","descent","diffuseconstant","direction","divisor","dominantbaseline","dur","dx","dy","edgemode","elevation","enablebackground","end","exponent","externalresourcesrequired","fill","fillopacity","fillrule","filterres","filterunits","floodopacity","floodcolor","focusable","fontfamily","fontsize","fontsizeadjust","fontstretch","fontstyle","fontvariant","fontweight","format","fx","fy","g1","g2","glyphname","glyphorientationhorizontal","glyphorientationvertical","glyphref","gradienttransform","gradientunits","hanging","horizadvx","horizoriginx","ideographic","imagerendering","in2","in","inlist","intercept","k1","k2","k3","k4","k","kernelmatrix","kernelunitlength","kerning","keypoints","keysplines","keytimes","lengthadjust","letterspacing","lightingcolor","limitingconeangle","local","markerend","markerheight","markermid","markerstart","markerunits","markerwidth","mask","maskcontentunits","maskunits","mathematical","numoctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlineposition","overlinethickness","paintorder","panose1","pathlength","patterncontentunits","patterntransform","patternunits","pointerevents","points","pointsatx","pointsaty","pointsatz","prefix","preservealpha","preserveaspectratio","primitiveunits","radius","refx","refy","renderingintent","repeatcount","repeatdur","requiredextensions","requiredfeatures","resource","restart","results","rotate","rx","ry","scale","security","seed","shaperendering","slope","spacing","specularconstant","specularexponent","speed","spreadmethod","startoffset","stddeviation","stemh","stemv","stitchtiles","stopcolor","stopopacity","strikethroughposition","strikethroughthickness","stroke","strokedasharray","strokedashoffset","strokelinecap","strokelinejoin","strokemiterlimit","strokewidth","strokeopacity","suppresscontenteditablewarning","suppresshydrationwarning","surfacescale","systemlanguage","tablevalues","targetx","targety","textanchor","textdecoration","textlength","textrendering","to","transform","typeof","u1","u2","underlineposition","underlinethickness","unicode","unicodebidi","unicoderange","unitsperem","unselectable","valphabetic","values","vectoreffect","version","vertadvy","vertoriginx","vertoriginy","vhanging","videographic","viewbox","viewtarget","visibility","vmathematical","vocab","widths","wordspacing","writingmode","x1","x2","xchannelselector","xheight","xlinkactuate","xlinkarcrole","xlinkhref","xlinkrole","xlinkshow","xlinktitle","xlinktype","xmlbase","xmllang","xmlns","xmlnsxlink","xmlspace","y1","y2","ychannelselector","z","zoomandpan","WrapWithOutline","domParser","DOMParser","converter","toLowerCase","el","React","httpEquiv","dangerouslySetInnerHTML","__html","reactName","toCamelCase","convertStyleStringToObject","original","childNodes","textContent","replaceAll","contains","nodeType","styleObject","styleArray","stylePair","str","$1","toUpperCase","removePlaceholderBanner","Remove","ucn","movement","ObjectEquivalent","last","indexToRemove","parseInt","Copy","parentUniqueIdentifier","next_parent","getIndexOfElementInParent","copyOfConfig","droppedConfig","parentUniqueClassIdentifier","droppedConfigWithUid","splice","AddAtIndex","findTextNode","textNode","closestDivToTextNode","parentNode","QuillContext","QuillEditor","QuillActive","setQuillActive","quillEditor","setQuillEditor","quillX","setQuillX","quillY","setQuillY","useQuillEditor","def","mutableAttributes","DragAndCropContext","DNDContext","genId","useDragAndDropUniqueId","Editor","useUniqueIdGenerator","on","change","container","firstChild","off","hasAttribute","remove","lquill","Quill","theme","modules","getModule","clone","cloneNode","replaceChild","attach","scroll","domNode","deleteConfirm","CopyOperation","Delete","okText","cancelText","onConfirm","undoCallback","redoCallback","mouseEnterDelay","isUndoEmpty","UndoOutlined","isRedoEmpty","RedoOutlined","DesignContainer","View","print","viewHolder","onDrop","parse","getData","itemToInsert","insertAtPlaceholderIndicatorPosition","Add","MjmlProcessor","mjml","doc","parseFromString","htmlProcessor","mjml2html","alignOptions","prop","component","Align","BORDER_CONFIG","BorderAttribute","ColorPickerComponent","showColor","setShowColor","borderDirection","Top","Left","BorderCollection","setStyle","setWidth","unit","setUnit","Right","Bottom","VALUE","WIDTH","w","A","num","splitWidth","l","t","All","setVisibleValues","options","addonAfter","justifyContent","paddingRight","Border","attributeName","attribute_name","isAdvanced","setIsAdvanced","Text","BorderRadius","RegExp","exec","matchedValue","ContainerBackground","clicked","PROPERTY","Content","isReadOnly","setIsReadOnly","htmlBlock","setHtmlBlock","querySelector","TextArea","spellCheck","readOnly","FontSize","Img","InnerPadding","UpdateValue","Padding","setPadding","vertical","horizontal","Group","marginBottom","borderRadius","borderRight","ColumnSelector","setCustomEditorActive","sectionIdentifier","setSectionIdentifier","section","handleClick","changeTo","existingLength","convertLength","preProcessedColumn","updatedItem","click","one","marginTop","two","three","four","Image","flexGrow","SectionTitle","SectionImage","Select","FontFamily","fontvalue","VerticalAlign","URL","SIZE","REPEAT","BackgroundImage","setUrl","setSize","repeat","setRepeat","urlVisibility","urlPath","sizeVisibility","sizePath","repeatVisiblity","repeatPath","TabPane","Tabs","CustomTabs","ColumnAttributes","columns","setActiveColumns","uniqueSectionIdentifier","_columns","centered","tabBarGutter","defaultActiveKey","destroyInactiveTabPane","column","tab","LineHeight","IncrementDecrementInput","SetValue","changeValue","Input","increment","existingValue","toSearch","valueIncrementNumber","valueToSet","STYLEPATH","CustomCss","setIsActive","relatedTarget","AddCustomFonts","addFontActive","setAddFontActive","lenght","paddingBottom","flexWrap","closable","onClose","fontName","filteredfonts","handleRemove","addCustomFontClick","popOverCallBacK","FontInputContainer","GetFontsValue","setFontName","fontUrl","setFontUrl","marginLeft","word","Attributes","tabPosition","OnlyAttributesDrawer","isDisabled","setIsDisabled","init","setInit","destroyOnClose","getContainer","maskClosable","bodyStyle","mods","UiWrapper","wrapper","properties","properties_with_default_values","assigned_default_values","Button","mutalbePropertiesWithDefaultValues","onDragEnd","Spacer","Html","Divider","social_properties","social_element_config","Social","SectionV2","ComponentBank","Collapse","Panel","components","FullscreenModal","Modal","attrs","PreviewMode","visibleChange","inframeContent","setMode","onCancel","onOk","maskStyle","footer","margin","srcDoc","ModeSelect","buttonStyle","optionType","forwardRef","setPreview","useImperativeHandle","getHtml","getJson","loadJson","raw","parsedJson","processedJson","idGenerator","rawContent","regeneratedIdJson","consolidatedHeaders","exisitngHeaders","pageHeaers","importJson","reset","EMPTY_EDITOR_STATE","Error","_json","bank","view","flag","wrapContext","Layout","LOADING_KEY","EditPage","templateId","useParams","loading","duration","destroy","when","xl","ghost","onBack","back","subTitle","borderBottom","extra","navigator","clipboard","writeText","MESSAGEID","SendTestMail","Form","useForm","sendMailApi","CustomModal","validateFields","then","email","unwrap","catch","layout","validateTrigger","rules","Routing","exact","templateListReducer","createSlice","templates","reducers","reducer","store","configureStore","reducerPath","middleware","getDefaultMiddleware","concat","StoreProvider","App","getUserConfirmation","callback","Promise","resolve","confirm","userConfirm","Pages","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.60ee2373.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UiWrapper_wrapper__23xNH\",\"container\":\"UiWrapper_container__2hsjd\",\"button\":\"UiWrapper_button__25Pv1\",\"text\":\"UiWrapper_text__3oy98\",\"image\":\"UiWrapper_image__3F-94\",\"html\":\"UiWrapper_html__12ygP\",\"spacer\":\"UiWrapper_spacer__1yYqc\",\"divider\":\"UiWrapper_divider__B19qo\",\"social\":\"UiWrapper_social__3MvUF\",\"section\":\"UiWrapper_section__2ovUo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ant-modal\":\"Preview_ant-modal__3_7T8\",\"andt-modal-centered\":\"Preview_andt-modal-centered__3GZwp\"};","export default __webpack_public_path__ + \"static/media/new_template.3bcc1262.svg\";","import { Button } from 'antd';\nimport styled from 'styled-components';\nimport { PlusOutlined } from '@ant-design/icons';\nimport newTemplate from '../../Assets/Images/new_template.svg';\nimport { useHistory, useLocation, useRouteMatch } from 'react-router';\nimport { ReactNode } from 'react';\n\ninterface PreviewProps {\n  image?: string;\n  skeleton?: ReactNode;\n  id: string;\n}\n\nconst PreviewContainer = styled.div`\n  flex: 1 1 0%;\n  border: 0.4px solid rgb(225, 230, 242);\n  filter: drop-shadow(rgba(0, 0, 0, 0.08) 4px 4px 4px);\n  max-height: 500px;\n  min-height: 150px;\n  height: min-content;\n  max-width: 280px;\n  overflow: hidden;\n  border-radius: 4px;\n  margin-bottom: 25px;\n  transition: all 0.2s ease 0s;\n  position: relative;\n  text-align: center;\n  margin: 0 auto;\n\n  .hoverItem {\n    display: none;\n    position: absolute;\n    inset: 0px;\n    background: rgba(255, 255, 255, 0.9);\n    padding: 20px;\n    flex-direction: column;\n    .content {\n      display: flex;\n      flex: 1;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n    }\n  }\n\n  .hoverItem.alwaysActive {\n    display: flex;\n    background: unset;\n  }\n\n  &:hover {\n    box-shadow: rgb(0 0 0 / 15%) 0px 5px 20px;\n    .hoverItem {\n      display: flex;\n    }\n  }\n\n  img,\n  .newTemplate {\n    max-width: 280px;\n  }\n  .newTemplate {\n    max-height: 500px;\n    min-height: 250px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-bottom: 60px;\n  }\n\n  .btn-choose {\n    padding: 8px 16px;\n    text-transform: capitalize;\n  }\n`;\n\nexport const NewItem = () => {\n  const history = useHistory();\n  const { path } = useRouteMatch();\n  const onClick = () => {\n    history.push(`${path}/template/new`);\n  };\n\n  return (\n    <PreviewContainer>\n      <div className=\"newTemplate\">\n        <PlusOutlined style={{ fontSize: '40px' }} />\n      </div>\n      <div className=\"hoverItem alwaysActive\">\n        <div className=\"content\">\n          <Button onClick={onClick} size=\"large\" type=\"primary\" className=\"btn-choose\">\n            New Template\n          </Button>\n        </div>\n      </div>\n      <div>\n        <img src={newTemplate} alt=\"img new template\" />\n      </div>\n    </PreviewContainer>\n  );\n};\n\nconst Preview = ({ image, id, skeleton }: PreviewProps) => {\n  const history = useHistory();\n  const { path } = useRouteMatch();\n  const onClick = () => {\n    history.push(`${path}/template/${id}`);\n  };\n  return (\n    <PreviewContainer>\n      {skeleton ? (\n        <div style={{ height: '350px', minWidth: '280px', maxWidth: '280px', padding: '24px 24px' }}>{skeleton}</div>\n      ) : (\n        <img height=\"350px\" src={image} alt=\"preview\" />\n      )}\n      <div className=\"hoverItem\">\n        <div className=\"content\">\n          <Button onClick={onClick} size=\"large\" type=\"primary\" className=\"btn-choose\">\n            choose\n          </Button>\n        </div>\n      </div>\n    </PreviewContainer>\n  );\n};\nexport { Preview };\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\nexport interface ListTemplateResponse {\n  response: ListTemplateInfo[];\n}\n\nexport interface ListTemplateInfo {\n  preview: string;\n  docRef: string;\n  id: number;\n}\n\nexport interface getTemplateRequest {\n  id: string;\n}\n\nexport interface getTemplateResponse {\n  response: Response;\n}\nexport interface Response {\n  date: string;\n  docRef: string;\n  data: string;\n}\n\nexport interface sendMailRequest {\n  to: string;\n  html: string;\n}\n\ninterface SuccessResponse {\n  success: string;\n}\n\ninterface FailureResponse {\n  error: string;\n}\n\nexport const DndeApi = createApi({\n  baseQuery: fetchBaseQuery({ baseUrl: process.env.REACT_APP_API }),\n  endpoints: (builder) => ({\n    getTemplates: builder.query<ListTemplateResponse, void>({\n      query: () => `templates/`,\n    }),\n    getTemplate: builder.query<getTemplateResponse, getTemplateRequest>({\n      query: ({ id }) => `templates/${id}`,\n    }),\n    sendMail: builder.mutation<SuccessResponse | FailureResponse, sendMailRequest>({\n      query: (data) => {\n        return {\n          url: 'mail/demomail/',\n          method: 'POST',\n          body: data,\n        };\n      },\n    }),\n  }),\n});\n\nexport const { useGetTemplatesQuery, useLazyGetTemplateQuery, useSendMailMutation } = DndeApi;\n","import { NewItem, Preview } from './Preview';\nimport './List.scss';\nimport { useGetTemplatesQuery } from '../../Api/api';\nimport { Col, Row, Skeleton } from 'antd';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport { GithubFilled } from '@ant-design/icons';\n\nconst List = () => {\n  const { data, isLoading, isError, isSuccess } = useGetTemplatesQuery();\n\n  return (\n    <Scrollbars autoHide={true} style={{ height: '100%' }}>\n      <div className=\"template\">\n        <Row align=\"middle\" justify=\"center\" className=\"header\">\n          <Col span={24}>\n            <Row align=\"middle\" justify=\"center\">\n              <Col>\n                <span className=\"title\">Dnde</span>\n              </Col>\n            </Row>\n          </Col>\n          <Col span={24}>\n            <Row align=\"middle\" justify=\"center\">\n              <Col style={{ textAlign: 'center' }}>\n                <span className=\"subtitle\">\n                  Drag and Drop Editor tailored for <b>Mails</b>\n                </span>\n              </Col>\n            </Row>\n          </Col>\n          <Col style={{ paddingTop: '24px' }} span={24}>\n            <Row align=\"middle\" justify=\"center\">\n              <Col className=\"info\" md={24} lg={10} style={{ textAlign: 'center' }}>\n                <span>\n                  All features are optimised for mails, work flexibly through import/export, with responsive design for\n                  all devices.\n                </span>\n                <br />\n\n                <a target=\"_blank\" href=\"https://github.com/aghontpi/dnde\">\n                  <span>\n                    Check it on Github <GithubFilled style={{ position: 'relative', top: '4px', fontSize: '32px' }} />\n                  </span>\n                </a>\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n\n        <Row className=\"choose-template\" align=\"middle\" gutter={[0, 8]} justify=\"center\">\n          <Col span={16}>\n            <span className=\"title\">Choose a template and get started.</span>\n          </Col>\n          <Col span={16}>\n            <span className=\"subtitle\">All templates are redesigned in dnde, using original mail as reference.</span>\n          </Col>\n        </Row>\n\n        <Row justify=\"center\" className=\"template-list\" gutter={[0, 40]}>\n          <Col lg={6}>\n            <NewItem />\n          </Col>\n          {isLoading &&\n            [1, 2].map((item, key) => {\n              return (\n                <Col xs={24} md={12} lg={6} style={{ textAlign: 'center' }}>\n                  <Preview\n                    key={key}\n                    id={'8x93dummy'}\n                    skeleton={\n                      <>\n                        <Skeleton active={true} />\n                        <Skeleton active={true} />\n                      </>\n                    }\n                  />\n                </Col>\n              );\n            })}\n          {isSuccess && data\n            ? data.response.map((item, key) => {\n                return (\n                  <Col lg={6}>\n                    <Preview key={key} id={item.docRef} image={item.preview} />\n                  </Col>\n                );\n              })\n            : null}\n        </Row>\n      </div>\n    </Scrollbars>\n  );\n};\n\nexport { List };\n","import { message } from 'antd';\n\nconst success = (msg: string) => {\n  message.success(msg);\n};\n\nconst error = (msg: string) => {\n  message.error(msg);\n};\n\nconst warning = (msg: string) => {\n  message.warning(msg);\n};\n\nexport { success, error, warning };\n","const logger = {\n  log: (...args: any) => {\n    console.log(...args);\n  },\n  error: (...args: any) => {\n    console.error(...args);\n  },\n  info: (...args: any) => {\n    console.info(...args);\n  },\n};\n\nexport { logger };\n","import _ from 'lodash';\nimport { logger } from './logger';\n\nclass UndoRedo {\n  public undo: any[];\n  redo: any[];\n\n  constructor() {\n    this.undo = [];\n    this.redo = [];\n  }\n\n  public newAction(action: any) {\n    if (this.undo.length > 0 && _.isEqual(action, this.peekUndo())) {\n      logger.log('undoredo: prev action and new action are same, not performing action');\n      return;\n    }\n    this.undo.push(this.copy(action));\n    this.redo = [];\n    this.storeToLocalStorage();\n  }\n\n  public undoAction(current: any = false): any {\n    if (this.undo.length < 1) {\n      return false;\n    }\n\n    const itemToApply = this.copy(this.undo.pop());\n    this.redo.push(itemToApply);\n\n    if (current && _.isEqual(itemToApply, current)) {\n      logger.log('undoredo: undo action but view and current are same, proceeding one more step');\n      return this.undoAction(current);\n    }\n\n    return itemToApply;\n  }\n\n  public redoAction(current: any = false): any {\n    if (this.redo.length < 1) {\n      return false;\n    }\n\n    const itemToApply = this.copy(this.redo.pop());\n    this.undo.push(itemToApply);\n    if (current && _.isEqual(itemToApply, current)) {\n      logger.log('undoredo: redo action but view and current are same, proceeding one more step');\n      return this.redoAction(current);\n    }\n    return itemToApply;\n  }\n\n  public peekUndo() {\n    let peek: any | boolean = false;\n    if (this.undo.length > 0) {\n      peek = this.copy(this.undo[this.undo.length - 1]);\n    }\n    return peek;\n  }\n\n  public peekRedo() {\n    let peek: any | boolean = false;\n    if (this.redo.length > 0) {\n      peek = this.redo[this.redo.length - 1];\n    }\n    return peek;\n  }\n\n  public isUndoEmpty() {\n    return this.undo.length === 0;\n  }\n\n  public isRedoEmpty() {\n    return this.redo.length === 0;\n  }\n\n  public reset() {\n    this.undo = [];\n    this.redo = [];\n  }\n\n  public print() {\n    logger.log('undoredo: ', this.undo, this.redo);\n  }\n\n  private storeToLocalStorage() {\n    try {\n      localStorage.setItem('actions', JSON.stringify(this.undo[this.undo.length - 1]));\n    } catch (e) {\n      logger.log('undoredo: error storing to local storage');\n      logger.log('undoredo: it is possible this occured due to storage limit in localStorage,truncating undo');\n    }\n  }\n\n  private copy(item: any) {\n    return _.cloneDeep(item);\n  }\n}\n\nvar UNDOREDO = new UndoRedo();\n\n(window as any).UNDOREO = UNDOREDO;\n\nexport { UNDOREDO };\n","import _ from 'lodash';\nimport { createContext, FC, useState } from 'react';\nimport { FONTS_CONFIG } from '../Components/Mods/FontConfig';\nimport { HEADSTYLE } from '../Components/Mods/HeadStyle';\n\nexport const EditorContext = createContext<any>(null);\n\nexport const PageHeaderItems = [\n  { tagName: 'mj-title', content: 'dnde-editor' },\n  { tagName: 'mj-style', content: HEADSTYLE },\n  { tagName: 'mj-attributes', children: [{ tagName: 'mj-text', attributes: { 'font-family': 'Ubuntu' } }] },\n  ...FONTS_CONFIG.map((font) => {\n    return {\n      tagName: 'mj-font',\n      attributes: {\n        name: font.name,\n        href: font.value,\n      },\n    };\n  }),\n];\n\nconst initialState = {\n  tagName: 'mjml',\n  children: [\n    {\n      tagName: 'mj-head',\n      attributes: {},\n      children: [...PageHeaderItems],\n    },\n    {\n      tagName: 'mj-body',\n      attributes: { 'css-class': 'mjml-tag body identifier-mj-body', 'background-color': 'grey', width: '600px' },\n      children: [],\n      mutableProperties: ['width', 'background-color'],\n    },\n  ],\n  attributes: {},\n};\n\nexport const EDContext: FC = (props) => {\n  const [mjmlJson, setMjmlJson] = useState<any>(_.cloneDeep(initialState));\n\n  const [attributes, setAttributes] = useState<any>({});\n\n  return (\n    <EditorContext.Provider\n      value={{\n        mjmlJson: mjmlJson,\n        setMjmlJson,\n        attributes,\n        setAttributes,\n      }}\n    >\n      {props.children}\n    </EditorContext.Provider>\n  );\n};\n\nexport { initialState as EMPTY_EDITOR_STATE };\n","export const HEADSTYLE = `a{text-decoration:none!important}\n\n.body {} `;\n","export const FONTS_CONFIG = [\n  { name: 'Roboto', value: 'https://fonts.googleapis.com/css2?family=Roboto&display=swap' },\n  { name: 'Festive', value: 'https://fonts.googleapis.com/css2?family=Festive&display=swap' },\n  { name: 'Noto Sans Mono', value: 'https://fonts.googleapis.com/css2?family=Noto+Sans+Mono&display=swap' },\n  { name: 'Open Sans', value: 'https://fonts.googleapis.com/css2?family=Open+Sans&display=swap' },\n  { name: 'Andada Pro', value: 'https://fonts.googleapis.com/css2?family=Andada+Pro&display=swap' },\n  { name: 'Lato', value: 'https://fonts.googleapis.com/css2?family=Lato&display=swap' },\n  { name: 'Scheherazade New', value: 'https://fonts.googleapis.com/css2?family=Scheherazade+New&display=swap' },\n  { name: 'Montserrat', value: 'https://fonts.googleapis.com/css2?family=Montserrat&display=swap' },\n  { name: 'Roboto Condensed', value: 'https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap' },\n  { name: 'Source Sans Pro', value: 'https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap' },\n  { name: 'Poppins', value: 'https://fonts.googleapis.com/css2?family=Poppins&display=swap' },\n  { name: 'Oswald', value: 'https://fonts.googleapis.com/css2?family=Oswald&display=swap' },\n  { name: 'Noto sans', value: 'https://fonts.googleapis.com/css2?family=Noto+sans&display=swap' },\n  { name: 'Georama', value: 'https://fonts.googleapis.com/css2?family=Georama&display=swap' },\n  { name: 'Roboto Mono', value: 'https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap' },\n  { name: 'Raleway', value: 'https://fonts.googleapis.com/css2?family=Raleway&display=swap' },\n  { name: 'Nunito', value: 'https://fonts.googleapis.com/css2?family=Nunito&display=swap' },\n  { name: 'Roboto Slab', value: 'https://fonts.googleapis.com/css2?family=Roboto+Slab&display=swap' },\n  { name: 'PT Sans', value: 'https://fonts.googleapis.com/css2?family=PT+Sans&display=swap' },\n  { name: 'Merriweather', value: 'https://fonts.googleapis.com/css2?family=Merriweather&display=swap' },\n  { name: 'Playfair Display', value: 'https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap' },\n  { name: 'Lora', value: 'https://fonts.googleapis.com/css2?family=Lora&display=swap' },\n  { name: 'Rubix', value: 'https://fonts.googleapis.com/css2?family=Rubix&display=swap' },\n  { name: 'IM Fell English SC', value: 'https://fonts.googleapis.com/css2?family=IM+Fell+English+SC&display=swap' },\n  { name: 'Open Sans Condensed', value: 'https://fonts.googleapis.com/css2?family=Open+Sans+Condensed&display=swap' },\n  { name: 'Inter', value: 'https://fonts.googleapis.com/css2?family=Inter&display=swap' },\n  { name: 'Nunito Sans', value: 'https://fonts.googleapis.com/css2?family=Nunito+Sans&display=swap' },\n  { name: 'Work Sans', value: 'https://fonts.googleapis.com/css2?family=Work+Sans&display=swap' },\n  { name: 'Quicksand', value: 'https://fonts.googleapis.com/css2?family=Quicksand&display=swap' },\n  { name: 'Fira Sans', value: 'https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap' },\n  { name: 'Ubuntu', value: 'https://fonts.googleapis.com/css2?family=Ubuntu&display=swap' },\n];\n","export const findElementInJson = (mjmljson: any, classidentifier: any, path = ''): any => {\n  if (mjmljson === undefined) {\n    return null;\n  }\n  const element = mjmljson;\n  if (element.attributes && element.attributes['css-class']) {\n    const classNames: string = element.attributes['css-class'];\n    if (classNames.includes(classidentifier)) {\n      return [element, path];\n    }\n  }\n  if (element.children) {\n    for (var i = 0; i < element.children.length; i++) {\n      const child = element.children[i];\n      const res = findElementInJson(child, classidentifier, path + `.children[${i}]`);\n      if (res) {\n        return res;\n      }\n    }\n  }\n\n  return null;\n};\n","import { findElementInJson } from './findElementInMjmlJson';\nimport { findColumnOfElement } from './findElementsParent';\nimport { logger } from './logger';\n\nconst findClosestParent = (element: HTMLElement) => {\n  const closest = element.closest('.mjml-tag');\n  let uniqueClassName = null;\n\n  if (!closest) {\n    logger.info('unable to find closest');\n    return uniqueClassName;\n  }\n\n  uniqueClassName = findUniqueIdentifier(closest, closest.classList);\n\n  if (!uniqueClassName) {\n    logger.info('unable to find identifier');\n  }\n\n  return uniqueClassName;\n};\n\nconst findUniqueIdentifier = (element: Element, classlist: DOMTokenList, identifier = 'identifier-mj') => {\n  let uniqueClassName = null;\n  for (var i = 0; classlist && i < classlist.length; i++) {\n    const current = classlist[i];\n    if (current.includes(identifier)) {\n      uniqueClassName = current;\n      break;\n    }\n  }\n  return uniqueClassName;\n};\n\nconst findUniqueIdentifierFromString = (classList: string) => {\n  return findUniqueIdentifier(null as unknown as Element, classList.split(' ') as unknown as DOMTokenList);\n};\n\nconst replaceGeneicTagWithUniqueId = (classNames: string, uid: string) => {\n  let updatedClassNames = '';\n  if (typeof classNames !== 'string') {\n    logger.log(`classNames should be string while generating uniqueIdentifier, but found ${typeof classNames} instead`);\n    return null;\n  }\n  let classNamesArr = classNames.split(' ');\n  for (var i = 0; i < classNamesArr.length; i++) {\n    let current = classNamesArr[i];\n    if (current.includes('identifier-mj')) {\n      current = current.trim();\n\n      // checking if the element has already uniqueId,\n      //   if it has, instead of appending uid to tag, need to replace it.\n      const regexMatch = current.match(/-(\\d+)/); // regex match number after '-'\n      const log = current;\n      if (regexMatch) {\n        current = current.replace(regexMatch[0], `-${uid}`);\n      } else {\n        current = ` ${current}-${uid}`;\n      }\n      logger.log(`generating-tag: ${log} -> ${current} `);\n    }\n    updatedClassNames += ` ${current}`;\n  }\n  return updatedClassNames;\n};\n\n// section with different columns are stored in config without unqiueId's,\n//   replacing those with unqiueIds (only for mj-columns).\nconst generateUniqueIdRecursively = (item: any, uidGenerator: () => string): any => {\n  if (!item) {\n    return;\n  }\n\n  for (var i = 0; item['children'] && i < item['children'].length; i++) {\n    item['children'][i] = generateUniqueIdRecursively(item['children'][i], uidGenerator);\n  }\n\n  let attr = item['attributes'];\n  if (attr) {\n    let css_class = attr['css-class'];\n    css_class = replaceGeneicTagWithUniqueId(css_class, uidGenerator());\n    attr['css-class'] = css_class;\n  }\n\n  item['attributes'] = attr;\n\n  return item;\n};\n\nconst findIndexOfIdentifierInChildren = (children: [any], uniqueIdentifier: string) => {\n  for (var i = 0; uniqueIdentifier && children && children.length > 0 && i < children.length; i++) {\n    const child = children[i];\n    if (child && child['attributes'] && child['attributes']['css-class'].includes(uniqueIdentifier)) {\n      return i;\n    }\n  }\n  return -1;\n};\n\nconst getIndexOfElementInParent = (node: HTMLElement, mjmlJson: any, uniqueIdentifier: string) => {\n  let index = -1;\n  let parent = node.closest('.mjml-tag');\n  // closest can be he same node, so go to parent\n  if (parent === node) {\n    parent = node.parentElement;\n  }\n\n  // element must be outside of column\n  while (index === -1 && parent) {\n    const parentUniqueIdentifier = findUniqueIdentifier(parent, parent.classList);\n    if (parentUniqueIdentifier) {\n      let element = findElementInJson(mjmlJson, parentUniqueIdentifier);\n      if (element) {\n        [element] = element;\n        index = findIndexOfIdentifierInChildren(element.children, uniqueIdentifier);\n        if (index !== -1) {\n          break;\n        }\n      }\n    }\n\n    const next_parent = parent.closest('.mjml-tag');\n    if (next_parent && next_parent === parent) {\n      if (parent.parentElement) {\n        parent = parent.parentElement.closest('.mjml-tag');\n      }\n    } else {\n      parent = next_parent;\n    }\n  }\n\n  const parentIdentifier = parent && parent.classList ? findUniqueIdentifier(parent, parent.classList) : null;\n  return [index, parentIdentifier];\n};\n\nexport {\n  findClosestParent,\n  findUniqueIdentifier,\n  findUniqueIdentifierFromString,\n  replaceGeneicTagWithUniqueId,\n  generateUniqueIdRecursively,\n  getIndexOfElementInParent,\n};\n","import { createContext, FC, memo, useContext, useEffect, useRef, useState } from 'react';\nimport { logger } from '../Utils/logger';\n\nexport const HtmlContext = createContext<any>(null);\n\nexport const HtmlContextProvider: FC = memo((props) => {\n  const [activeHover, setActiveHover] = useState<any>();\n\n  const [active, setActive] = useState<any>();\n\n  const ref = useRef<any>(1);\n\n  const [id, setId] = useState<any>(1);\n\n  const getId = () => {\n    setId(id + 1);\n    logger.log('getId', id);\n  };\n\n  return (\n    <HtmlContext.Provider\n      value={{\n        activeHover,\n        setActiveHover,\n        active,\n        setActive,\n        id,\n        setId,\n        getId,\n      }}\n    >\n      <div>{<>{logger.log('uiContextRerendering', ref.current++)} </>}</div>\n      {props.children}\n    </HtmlContext.Provider>\n  );\n});\n","import { useContext } from 'react';\nimport { HtmlContext } from '../Context/Htmlwrapper.context';\n\nexport const useHtmlWrapper = () => {\n  const htmlContext = useContext(HtmlContext);\n  return htmlContext as unknown as {\n    activeHover: any;\n    setActiveHover: (id: string) => void;\n    active: any;\n    setActive: (args: any) => void;\n    id: any;\n    setId: (prev?: any) => void;\n    getId: () => number;\n  };\n};\n","import _ from 'lodash';\nimport { useCallback, useContext, useEffect, useState } from 'react';\nimport { EditorContext } from '../Context/Editor.context';\nimport { findUniqueIdentifier } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { logger } from '../Utils/logger';\nimport { useHtmlWrapper } from './Htmlwrapper.hook';\n\nexport const useEditor = () => {\n  const context = useContext(EditorContext);\n  return context as unknown as {\n    mjmlJson: any;\n    setMjmlJson: (v: any) => void;\n    attributes: any;\n    setAttributes: (v: any) => void;\n  };\n};\n\nexport const useEditorUpdater = () => {\n  const { active: activeElement } = useHtmlWrapper();\n  const { setMjmlJson, mjmlJson } = useEditor();\n  const [item, setItem] = useState<any>(null);\n  const [path, setPath] = useState<any>(null);\n\n  useEffect(() => {\n    logger.log('editor value updater: ae->', activeElement);\n    if (activeElement && mjmlJson) {\n      const uniqueIdentifer = findUniqueIdentifier(activeElement as HTMLElement, activeElement.classList);\n      if (uniqueIdentifer) {\n        const find = findElementInJson(mjmlJson, uniqueIdentifer);\n        if (find) {\n          const [, _path] = find;\n          setPath(_path);\n          const _item = _.get(mjmlJson, _path.slice(1));\n          if (_item) {\n            setItem(_item);\n          }\n        } else {\n          logger.log(`editor value updater: unable to find item in json, ${find}, identifier: ${uniqueIdentifer}`);\n        }\n      }\n    }\n  }, [activeElement]);\n\n  const update = useCallback(\n    (updatedValue: any) => {\n      if (path) {\n        const updated = _.set(mjmlJson, path.slice(1), updatedValue);\n        if (updated) {\n          setMjmlJson({ ...updated });\n        }\n      }\n    },\n    [path]\n  );\n\n  return [item, update];\n};\n","import { createContext, FC, useRef, useState } from 'react';\n\nexport const CkeditorContext = createContext<any>(null);\n\nexport const Ckeditor: FC = (props) => {\n  const editorRef = useRef(null);\n  const ckeditorInstance = useRef(null);\n  const [editorActive, setActive] = useState(false);\n  const [x, setX] = useState(0);\n  const [y, setY] = useState(0);\n  const [delActive, setDelActive] = useState(false);\n  const [delX, setDelX] = useState(0);\n  const [delY, setDelY] = useState(0);\n  const [copyActive, setCopyActive] = useState(false);\n  const [copyX, setCopyX] = useState(0);\n  const [copyY, setCopyY] = useState(0);\n  const [isColumn, setIsColumn] = useState(false);\n\n  // should only be one instance, only manipulate the locations\n  return (\n    <CkeditorContext.Provider\n      value={{\n        ref: editorRef,\n        isActive: editorActive,\n        setActive,\n        x,\n        y,\n        setX,\n        setY,\n        delX,\n        delY,\n        setDelX,\n        setDelY,\n        drag: {\n          isColumn,\n          setIsColumn,\n        },\n        copy: {\n          copyActive,\n          setCopyActive,\n          copyX,\n          setCopyX,\n          copyY,\n          setCopyY,\n        },\n        delActive,\n        setDelActive,\n        ckeditorInstance,\n      }}\n    >\n      {props.children}\n    </CkeditorContext.Provider>\n  );\n};\n","import { useContext } from 'react';\nimport { CkeditorContext } from '../Context/Ckeditor.context';\n\nexport const useCkeditor = () => {\n  const Ckeditor = useContext(CkeditorContext);\n  return Ckeditor as unknown as {\n    ref: any;\n    isActive: boolean;\n    setActive: (arg: boolean) => void;\n    x: number;\n    y: number;\n    setX: (arg: number) => void;\n    setY: (arg: number) => void;\n    delX: number;\n    delY: number;\n    setDelX: (arg: number) => void;\n    setDelY: (arg: number) => void;\n    delActive: boolean;\n    setDelActive: (arg: boolean) => void;\n    ckeditorInstance: any;\n    drag: {\n      isColumn: boolean;\n      setIsColumn: (arg: boolean) => void;\n    };\n    copy: {\n      copyActive: boolean;\n      setCopyActive: (arg: boolean) => void;\n      copyX: number;\n      copyY: number;\n      setCopyX: (arg: number) => void;\n      setCopyY: (arg: number) => void;\n    };\n  };\n};\n","import { createContext, FC, useState } from 'react';\n\ntype Set<T> = React.Dispatch<React.SetStateAction<T>>;\n\nexport const CustomEditorContext = createContext<{\n  position: { x: number; y: number; setX: Set<number>; setY: Set<number> };\n  status: { active: boolean; setActive: Set<boolean> };\n}>({ position: { x: 0, y: 0, setX: () => {}, setY: () => {} }, status: { active: false, setActive: () => {} } });\n\nexport const CustomEditorProvider: FC = (props) => {\n  const [x, setX] = useState(0);\n  const [y, setY] = useState(0);\n  const [active, setActive] = useState(false);\n  return (\n    <CustomEditorContext.Provider value={{ position: { x, y, setX, setY }, status: { active, setActive } }}>\n      {props.children}\n    </CustomEditorContext.Provider>\n  );\n};\n","import { useContext } from 'react';\nimport { CustomEditorContext } from '../Context/CustomEditor.context';\n\nconst useCustomEditorPosition = () => {\n  const { position } = useContext(CustomEditorContext);\n  return position;\n};\n\nconst useCustomEditorStatus = () => {\n  const { status } = useContext(CustomEditorContext);\n  return status;\n};\n\nexport { useCustomEditorPosition, useCustomEditorStatus };\n","const detectEmptyElement = (nodeWithReactProperties: any, detect: string) => {\n  return (\n    detectElement(nodeWithReactProperties, detect) &&\n    nodeWithReactProperties.children &&\n    nodeWithReactProperties.children < 1\n  );\n};\n\nconst detectElement = (nodeWithReactProperties: any, detect: string) => {\n  if (!detect) {\n    return false;\n  } else if (detect === 'body') {\n    detect = 'identifier-mj-body';\n  } else if (detect === 'section') {\n    detect = 'identifier-mj-section';\n  } else if (detect === 'column') {\n    detect = 'identifier-mj-column';\n  } else {\n    return false;\n  }\n\n  return (\n    nodeWithReactProperties.props &&\n    nodeWithReactProperties.props['className'] &&\n    typeof nodeWithReactProperties.props['className'] === 'string' &&\n    nodeWithReactProperties.props['className'].includes(detect)\n  );\n};\n\nconst countEmptyChildrenLevels = (nodeWithReactProperties: any, count: number = 0): number => {\n  if (!nodeWithReactProperties) {\n    return count + 0;\n  }\n  let children = null;\n  if (nodeWithReactProperties['children']) {\n    children = nodeWithReactProperties['children'][0];\n  } else if (nodeWithReactProperties['props']['children']) {\n    children = nodeWithReactProperties['props']['children'][0];\n  }\n  if (children) {\n    return countEmptyChildrenLevels(children, count + 1);\n  } else {\n    return count;\n  }\n};\n\nexport { detectElement, detectEmptyElement, countEmptyChildrenLevels };\n","import { findUniqueIdentifier } from './closestParent';\n\nconst recursivelyFindParent = (node: HTMLElement | any, parentClassPartial: string): any => {\n  if (!node) {\n    return null;\n  }\n  let parent = node.closest('.mjml-tag');\n  if (parent && parent.classList) {\n    const uniqueIdentifier = findUniqueIdentifier(parent, parent.classList);\n    if (uniqueIdentifier && uniqueIdentifier.includes(parentClassPartial)) {\n      return [parent, uniqueIdentifier];\n    }\n    parent = parent.parentElement;\n  }\n\n  return recursivelyFindParent(parent, parentClassPartial);\n};\n\nconst findColumnOfElement = (node: HTMLElement | any): any => {\n  return recursivelyFindParent(node, 'mj-column');\n};\n\nconst findSectionOfElement = (node: HTMLElement | any): any => {\n  return recursivelyFindParent(node, 'mj-section');\n};\n\nexport { findColumnOfElement, findSectionOfElement };\n","import { floor } from 'lodash';\n\nconst isEventWithTargetElement = (event: any, target: HTMLElement) => {\n  const pos = target.getBoundingClientRect();\n  const eventX = event.clientX;\n  const eventY = event.clientY;\n\n  let within = pos && eventX && eventY && true;\n\n  if (eventX < pos.left || eventX > pos.right) {\n    within = false;\n  }\n\n  if (eventY < pos.top || eventY > pos.bottom) {\n    within = false;\n  }\n\n  return within;\n};\n\nconst closeToTopOrBottom = (event: any, target: HTMLElement) => {\n  const pos = target.getBoundingClientRect();\n  const eventY = event.clientY;\n\n  if (isEventWithTargetElement(event, target)) {\n    const middle = floor((pos.bottom - pos.top) / 2) + pos.top;\n    if (eventY < middle) {\n      return 'top';\n    } else if (eventY > middle) {\n      return 'bottom';\n    }\n  }\n\n  return false;\n};\n\nexport { isEventWithTargetElement, closeToTopOrBottom };\n","const dragStart = (e: DragEvent, config: any) => {\n  if (e && e.dataTransfer) {\n    e.dataTransfer.effectAllowed = 'move';\n    const draggingItem = e.target as HTMLElement;\n    e.dataTransfer.setDragImage(draggingItem, -5, -5);\n    e.dataTransfer.setData('config', JSON.stringify(config));\n  }\n};\n\nexport { dragStart };\n","import { Row } from 'antd';\nimport _, { floor } from 'lodash';\nimport { Fragment, SyntheticEvent } from 'react';\nimport styled from 'styled-components';\nimport { useCkeditor } from '../Hooks/Ckeditor.hook';\nimport { findUniqueIdentifier } from '../Utils/closestParent';\nimport { dragStart } from '../Utils/dragStart';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = ['background-color', 'background-position', 'background-position-x', 'background-position-y', 'background-repeat', 'background-size', 'background-url', 'border', 'border-bottom', 'border-left', 'border-radius', 'border-right', 'border-top', 'css-class', 'direction', 'full-width', 'padding', 'padding-bottom', 'padding-left', 'padding-right', 'padding-top', 'text-align'];\n\n// prettier-ignore\nconst properties_with_default_values = {\"background-color\": \"\", \"background-position\": \"top center\", \"background-position-x\": \"none\", \"background-position-y\": \"none\", \"background-repeat\": \"repeat\", \"background-size\": \"auto\", \"background-url\": \"\", \"border\": \"none\", \"border-bottom\": \"\", \"border-left\": \"\", \"border-radius\": \"\", \"border-right\": \"\", \"border-top\": \"\", \"css-class\": \"\", \"direction\": \"ltr\", \"full-width\": \"\", \"padding\": \"20px 0\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"text-align\": \"center\"};\n\n// prettier-ignore\nconst assigned_default_values  = {\"align\": \"center\", \"background-color\": \"#414141\", \"border\": \"none\", \"border-radius\": \"3px\", \"color\": \"#ffffff\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-weight\": \"normal\", \"inner-padding\": \"10px 25px\", \"line-height\": \"120%\", \"padding\": \"10px 25px\", \"target\": \"_blank\", \"text-align\": \"none\", \"text-decoration\": \"none\", \"text-transform\": \"none\", \"vertical-align\": \"middle\"};\n\n// prettier-ignore\nconst properties_column = [\"background-color\", \"inner-background-color\", \"border\", \"border-bottom\", \"border-left\", \"border-right\", \"border-top\", \"border-radius\", \"inner-border\", \"inner-border-bottom\", \"inner-border-left\", \"inner-border-right\", \"inner-border-top\", \"inner-border-radius\", \"width\", \"vertical-align\", \"padding\", \"padding-top\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"css-class\"]\n\n// prettier-ignore\nconst properties_with_default_values_column = {\"background-color\": \"\", \"inner-background-color\": \"\", \"border\": \"none\", \"border-bottom\": \"\", \"border-left\": \"\", \"border-right\": \"\", \"border-top\": \"\", \"border-radius\": \"\", \"inner-border\": \"\", \"inner-border-bottom\": \"\", \"inner-border-left\": \"\", \"inner-border-right\": \"\", \"inner-border-top\": \"\", \"inner-border-radius\": \"\", \"width\": \"(100 / number of non-raw elements in section)%\", \"vertical-align\": \"top\", \"padding\": \"\", \"padding-top\": \"\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"css-class\": \"\"}\n\n// prettier-ignore\nconst assigned_default_values_column = {\"border\": \"none\", \"width\": \"(100 / number of non-raw elements in section)%\", \"vertical-align\": \"top\"}\n\nexport const columnPlaceholder = [\n  {\n    tagName: 'mj-image',\n    attributes: {\n      src: 'https://dev.bluepie.in/assets/87583817874843.svg',\n      'css-class': 'mj-placeholder',\n      width: '120px',\n    },\n  },\n  {\n    tagName: 'mj-text',\n    attributes: {\n      'padding-top': '0px',\n      'font-size': '16px',\n      align: 'center',\n      'css-class': 'mj-placeholder',\n    },\n    content: 'drag and drop a content block here!',\n  },\n];\n\nexport const COLUMN = {\n  tagName: 'mj-column',\n  attributes: {\n    'css-class': 'mjml-tag identifier-mj-column',\n    padding: '0px 0px',\n  },\n  children: [...columnPlaceholder],\n  mutableProperties: properties_column,\n};\n\nexport const SECTION = {\n  tagName: 'mj-section',\n  attributes: {\n    ...assigned_default_values,\n    'css-class': 'mjml-tag identifier-mj-section',\n    'border-radius': '0px',\n    'background-color': '#fff',\n    'text-align': 'center',\n  },\n  children: [],\n  cannot_have: ['mj-section', 'mj-column'], // 'https://documentation.mjml.io/#mj-column' Columns cannot be nested into columns, and sections cannot be nested into columns as well.\n  mutableProperties: properties,\n};\n\nexport const Section = () => {\n  let config = {\n    ...SECTION,\n  };\n\n  const {\n    drag: { setIsColumn },\n  } = useCkeditor();\n\n  const onDragStart = (e: DragEvent) => {\n    const target = e.target as Element;\n    const identifier = findUniqueIdentifier(target, target.classList, 'mj-columns');\n    if (identifier) {\n      const match = identifier.match(/mj-columns-(.*)/);\n      if (match) {\n        let count = parseInt(match[1]);\n        let children = [];\n        while (count > 0) {\n          children.push(COLUMN);\n          count--;\n        }\n        config = _.set(config, 'children', children);\n      }\n    }\n    dragStart(e as any, config);\n    setIsColumn(true);\n  };\n\n  let dynamicRenderer = [1, 2, 3, 4].map((value, index) => {\n    return (\n      <Fragment key={value}>\n        <SectionTitle key={value + index + 'title'}>\n          <p>{value} Column</p>\n        </SectionTitle>\n        <SectionImage\n          key={value + index + 'section'}\n          className={`mj-columns-${value}`}\n          draggable={true}\n          onDragStart={onDragStart}\n        >\n          <div className={`wrapper`}>\n            <div className=\"border\">\n              <Generator length={value} />\n            </div>\n          </div>\n        </SectionImage>\n      </Fragment>\n    );\n  });\n  return <>{dynamicRenderer}</>;\n};\n\nconst SectionTitle = styled(Row)`\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n  p {\n    text-align: inherit;\n    color: rgb(85, 85, 85);\n    font-size: 14px;\n    font-weight: 600;\n  }\n`;\n\nconst SectionImage = styled(Row)`\n  background-color: rgb(252, 252, 252);\n  border: 1px solid rgb(229, 229, 229);\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: flex;\n  box-shadow: none;\n  cursor: grab;\n\n  &:hover {\n    background-color: rgb(255, 255, 255);\n    box-shadow: rgb(0 0 0 / 20%) 0px 1px 4px;\n    border-color: rgb(255, 255, 255);\n  }\n\n  .wrapper {\n    margin: 10px;\n    background-color: rgb(255, 255, 255);\n    position: relative;\n    width: 100%;\n    display: flex;\n    border-radius: 3px;\n    box-sizing: border-box;\n\n    .border {\n      border: 1px solid rgb(85, 85, 85);\n      border-radius: 3px;\n      display: flex;\n      -webkit-box-align: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n    }\n  }\n`;\n\nconst Generator = ({ length }: { length: number }) => {\n  let content = [];\n  const flexGrow = floor(100 / length);\n\n  for (let i = 0; i < length; i++) {\n    content.push(\n      <div\n        key={i + flexGrow}\n        style={{\n          display: 'flex',\n          flexGrow,\n          height: '16px',\n          borderRight: i === length - 1 ? '' : '1px solid rgb(85, 85, 85)',\n          borderRadius: '0px',\n        }}\n      ></div>\n    );\n  }\n  return <>{content}</>;\n};\n","/**\n *  was unable to handle latin1 characters in the btoa,\n *  thus including this base64 library\n *\n *  Base64 encode / decode\n *  http://www.webtoolkit.info\n *\n **/\nexport const Base64 = {\n  // private property\n  _keyStr: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n\n  // public method for encoding\n  encode: function (input) {\n    var output = '';\n    var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n    var i = 0;\n\n    input = Base64._utf8_encode(input);\n\n    while (i < input.length) {\n      chr1 = input.charCodeAt(i++);\n      chr2 = input.charCodeAt(i++);\n      chr3 = input.charCodeAt(i++);\n\n      enc1 = chr1 >> 2;\n      enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n      enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n      enc4 = chr3 & 63;\n\n      if (isNaN(chr2)) {\n        enc3 = enc4 = 64;\n      } else if (isNaN(chr3)) {\n        enc4 = 64;\n      }\n\n      output =\n        output +\n        this._keyStr.charAt(enc1) +\n        this._keyStr.charAt(enc2) +\n        this._keyStr.charAt(enc3) +\n        this._keyStr.charAt(enc4);\n    } // Whend\n\n    return output;\n  }, // End Function encode\n\n  // public method for decoding\n  decode: function (input) {\n    var output = '';\n    var chr1, chr2, chr3;\n    var enc1, enc2, enc3, enc4;\n    var i = 0;\n\n    input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, '');\n    while (i < input.length) {\n      enc1 = this._keyStr.indexOf(input.charAt(i++));\n      enc2 = this._keyStr.indexOf(input.charAt(i++));\n      enc3 = this._keyStr.indexOf(input.charAt(i++));\n      enc4 = this._keyStr.indexOf(input.charAt(i++));\n\n      chr1 = (enc1 << 2) | (enc2 >> 4);\n      chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n      chr3 = ((enc3 & 3) << 6) | enc4;\n\n      output = output + String.fromCharCode(chr1);\n\n      if (enc3 != 64) {\n        output = output + String.fromCharCode(chr2);\n      }\n\n      if (enc4 != 64) {\n        output = output + String.fromCharCode(chr3);\n      }\n    } // Whend\n\n    output = Base64._utf8_decode(output);\n\n    return output;\n  }, // End Function decode\n\n  // private method for UTF-8 encoding\n  _utf8_encode: function (string) {\n    var utftext = '';\n    string = string.replace(/\\r\\n/g, '\\n');\n\n    for (var n = 0; n < string.length; n++) {\n      var c = string.charCodeAt(n);\n\n      if (c < 128) {\n        utftext += String.fromCharCode(c);\n      } else if (c > 127 && c < 2048) {\n        utftext += String.fromCharCode((c >> 6) | 192);\n        utftext += String.fromCharCode((c & 63) | 128);\n      } else {\n        utftext += String.fromCharCode((c >> 12) | 224);\n        utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n        utftext += String.fromCharCode((c & 63) | 128);\n      }\n    } // Next n\n\n    return utftext;\n  }, // End Function _utf8_encode\n\n  // private method for UTF-8 decoding\n  _utf8_decode: function (utftext) {\n    var string = '';\n    var i = 0;\n    var c, c1, c2, c3;\n    c = c1 = c2 = 0;\n\n    while (i < utftext.length) {\n      c = utftext.charCodeAt(i);\n\n      if (c < 128) {\n        string += String.fromCharCode(c);\n        i++;\n      } else if (c > 191 && c < 224) {\n        c2 = utftext.charCodeAt(i + 1);\n        string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n        i += 2;\n      } else {\n        c2 = utftext.charCodeAt(i + 1);\n        c3 = utftext.charCodeAt(i + 2);\n        string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n        i += 3;\n      }\n    } // Whend\n\n    return string;\n  }, // End Function _utf8_decode\n};\n","import _ from 'lodash';\nimport { columnPlaceholder } from '../Components/Section';\nimport { PageHeaderItems } from '../Context/Editor.context';\nimport { Base64 } from '../Lib/base64';\nimport { generateUniqueIdRecursively } from './closestParent';\nimport { logger } from './logger';\n\nconst cleanMjmlJson = (mjmlJson: any, ignore: string = '') => {\n  if (!mjmlJson) {\n    return null;\n  }\n\n  if (mjmlJson['attributes'] && mjmlJson['attributes']['css-class']) {\n    const cssClass = mjmlJson['attributes']['css-class'];\n    if (cssClass.includes('placeitem-placeholder')) {\n      return null;\n    }\n  }\n\n  // before processing children, if the parent has ignore class, then dont process its children\n  //  the active item being hovered on is passed as ignore, (specifically the column of the active item being hovered)\n  const isIgnoring =\n    ignore &&\n    mjmlJson['attributes'] &&\n    mjmlJson['attributes']['css-class'] &&\n    mjmlJson['attributes']['css-class'].includes(ignore);\n\n  let newChildren: any = [];\n  for (var i = 0; mjmlJson['children'] && i < mjmlJson['children'].length; i++) {\n    const item = mjmlJson['children'][i];\n\n    const result = isIgnoring ? item : cleanMjmlJson(item, ignore);\n    if (result) {\n      newChildren.push(result);\n    }\n  }\n\n  // if the children is column and its length is 0,\n  //  then add a placeholder to the column\n  if (mjmlJson && mjmlJson['tagName'] === 'mj-column' && newChildren.length === 0) {\n    newChildren.push(...columnPlaceholder);\n  }\n\n  if (newChildren.length) {\n    mjmlJson['children'] = newChildren;\n  }\n\n  return mjmlJson;\n};\n\nconst exportJson = (input: any, build: any = {}) => {\n  if (!input) {\n    return;\n  }\n\n  // todo: remove addtional properties too, then write a seperate deserializer to include it back in\n\n  if (input['attributes'] && input['attributes']['css-class']) {\n    let css = input['attributes']['css-class'];\n    css = css.split(' ');\n    let newCss = [];\n    for (var i = 0; i < css.length; i++) {\n      const current: string = css[i];\n      if (\n        current.includes('identifier-mj') ||\n        current.includes('mj-placeholder') ||\n        current.includes('placeitem-placeholder')\n      ) {\n        continue;\n      }\n      newCss.push(current);\n    }\n    if (newCss.length) {\n      css = newCss.join(' ');\n    }\n  }\n\n  if (input['content']) {\n    // input['content'] = input['content'].replace(/\"/g, '\\\\\"');\n    input['content'] = Base64.encode(input['content']);\n  }\n\n  let children: any = [];\n  for (let i = 0; input['children'] && i < input['children'].length; i++) {\n    const child = input['children'][i];\n    const _ = exportJson(child);\n    if (_) {\n      children.push(_);\n    }\n  }\n\n  if (children.length) {\n    input['children'] = children;\n  }\n\n  return input;\n};\n\nfunction replaceContent(input: any) {\n  if (!input) {\n    return;\n  }\n\n  if (input['content']) {\n    input['content'] = Base64.decode(input['content']);\n  }\n\n  let children: any = [];\n  for (let i = 0; input['children'] && i < input['children'].length; i++) {\n    const child = input['children'][i];\n    const _ = replaceContent(child);\n    if (_) {\n      children.push(_);\n    }\n  }\n\n  if (children.length) {\n    input['children'] = children;\n  }\n\n  return input;\n}\n\nconst importJson = (input: any, idGenerator: () => string, rawContent: boolean = false) => {\n  let regeneratedIdJson = generateUniqueIdRecursively(input, idGenerator);\n\n  // if its not raw, content is utf-8 base64 encoded, during export.\n  if (!rawContent) {\n    regeneratedIdJson = replaceContent(regeneratedIdJson);\n  }\n\n  let consolidatedHeaders = [];\n\n  // process existing headers.\n  if (\n    regeneratedIdJson &&\n    regeneratedIdJson.tagName &&\n    regeneratedIdJson.tagName === 'mjml' &&\n    regeneratedIdJson.children &&\n    regeneratedIdJson.children.length > 1\n  ) {\n    const exisitngHeaders = regeneratedIdJson.children[0].children;\n    for (let i = 0; exisitngHeaders && i < exisitngHeaders.length; i++) {\n      const item = exisitngHeaders[i];\n      if (item && (item.tagName.includes('title') || item.tagName.includes('style'))) {\n        consolidatedHeaders.push(item);\n      }\n    }\n\n    let pageHeaers = _.cloneDeep(PageHeaderItems);\n    for (let i = 0; pageHeaers && i < pageHeaers.length; i++) {\n      const item = pageHeaers[i];\n      if (item && (item.tagName.includes('title') || item.tagName.includes('style'))) {\n        continue;\n      }\n      consolidatedHeaders.push(item);\n    }\n\n    regeneratedIdJson.children[0].children = consolidatedHeaders;\n  }\n  logger.log('::import -> processedJson', regeneratedIdJson);\n  return regeneratedIdJson;\n};\n\nexport { cleanMjmlJson, exportJson, importJson };\n","import { Button, Input, Popover, Select } from 'antd';\nimport _ from 'lodash';\nimport { useEffect, useRef, useState } from 'react';\nimport { useCustomEditorPosition, useCustomEditorStatus } from '../../Hooks/CustomEditor.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport {\n  FontColorsOutlined,\n  BoldOutlined,\n  ItalicOutlined,\n  UnderlineOutlined,\n  BgColorsOutlined,\n  LinkOutlined,\n} from '@ant-design/icons';\nimport { InlineEditorActions } from '../../Utils/inlineEditorActions';\nimport { ColorPicker } from '../ColorPicker';\nimport { findClosestParent, findUniqueIdentifier } from '../../Utils/closestParent';\nimport { findElementInJson } from '../../Utils/findElementInMjmlJson';\nimport { useFonts } from '../../Hooks/useFonts';\nimport { logger } from '../../Utils/logger';\nimport { addHttps } from './Link';\n\nlet r: any;\n\nconst restoreSelection = () => {\n  let restoreSel = window.getSelection();\n  if (!restoreSel) {\n    return;\n  }\n  const temp = r;\n  restoreSel?.removeAllRanges();\n  restoreSel?.addRange(r);\n  r = temp;\n};\n\nconst InlineEditor = () => {\n  const ref = useRef<any>(null);\n  const { x, y } = useCustomEditorPosition();\n  const { active } = useCustomEditorStatus();\n  const { active: activeElement }: { active: HTMLDivElement } = useHtmlWrapper();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [fontlist] = useFonts();\n\n  // on mount, override the default behaviour of the antd dropdown select\n  useEffect(() => {\n    if (ref.current) {\n      const toolbar = document.querySelectorAll('#customtoolbar .ant-select-selector');\n      if (toolbar) {\n        toolbar.forEach((item) => {\n          logger.log('attaching click event listener to container');\n          item.addEventListener('click', ResetEventBehaviour);\n        });\n        return () =>\n          toolbar.forEach((item) => {\n            logger.log('removing click event listener to container');\n            item.removeEventListener('click', ResetEventBehaviour);\n          });\n      }\n    }\n  }, [ref]);\n\n  useEffect(() => {\n    if (active && activeElement) {\n      const uniqueIdentifier = findUniqueIdentifier(activeElement, activeElement.classList);\n      if (uniqueIdentifier?.includes('mj-text')) {\n        let editor: any = activeElement.children[0].children[0];\n\n        const Event = (e: any) => {\n          stateChangeCallback(editor, mjmlJson, setMjmlJson);\n          // e.stopPropagation();\n          // e.preventDefault();\n          // e.target.focus();\n          // return false;\n        };\n\n        const onKeyUp = () => {\n          r = window.getSelection()?.getRangeAt(0);\n        };\n\n        editor.addEventListener('focusout', Event, true);\n        editor.addEventListener('keyup', onKeyUp, false);\n        editor.addEventListener('click', onKeyUp, false);\n\n        editor.classList.add('editor-active');\n        editor.setAttribute('contentEditable', 'true');\n        editor.setAttribute('spellcheck', 'false');\n\n        if (r) {\n          // restoreSelection();\n        }\n\n        return () => {\n          logger.log('custom editor: cleaning up dynamic attributes');\n          editor.removeEventListener('focusout', Event, true);\n          editor.removeEventListener('keyup', onKeyUp, false);\n          editor.removeEventListener('click', onKeyUp, false);\n        };\n      }\n    }\n  }, [activeElement, mjmlJson]);\n\n  return (\n    <div\n      style={{\n        display: active ? 'block' : 'none',\n        position: 'fixed',\n        top: `${y}px`,\n        left: `${x}px`,\n        padding: '4px 8px',\n        border: '1px solid black',\n        zIndex: 999,\n        backgroundColor: '#fff',\n        transition: 'all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)',\n      }}\n      id=\"customtoolbar\"\n      ref={ref}\n      onMouseDown={ResetEventBehaviour}\n    >\n      <Select\n        size=\"small\"\n        dropdownStyle={{ minWidth: '18px' }}\n        defaultValue={2}\n        style={{ fontSize: '12px' }}\n        onChange={(value: any) => {\n          InlineEditorActions(null, 'size', value);\n        }}\n      >\n        {Array.from(Array(7).keys()).map((i) => (\n          <Select.Option\n            onMouseDown={ResetEventBehaviour}\n            onFocus={ResetEventBehaviour}\n            style={{ fontSize: '12px' }}\n            value={i + 1}\n          >\n            <span onMouseDown={ResetEventBehaviour} onFocus={ResetEventBehaviour}>\n              {i + 1}\n            </span>\n          </Select.Option>\n        ))}\n      </Select>\n      <Select\n        size=\"small\"\n        defaultValue={'Ubuntu'}\n        dropdownStyle={{ minWidth: '140px' }}\n        style={{ fontSize: '12px' }}\n        onChange={(value: any) => {\n          InlineEditorActions(null, 'fontFamily', value);\n        }}\n        onMouseDown={ResetEventBehaviour}\n      >\n        {fontlist.map((font) => (\n          <Select.Option\n            onMouseDown={ResetEventBehaviour}\n            onFocus={ResetEventBehaviour}\n            style={{ fontSize: '12px' }}\n            value={font}\n          >\n            <span onMouseDown={ResetEventBehaviour} onFocus={ResetEventBehaviour}>\n              {font}\n            </span>\n          </Select.Option>\n        ))}\n      </Select>\n\n      <Popover\n        overlayClassName=\"inline-editor-popover-color-picker\"\n        trigger=\"click\"\n        placement=\"bottom\"\n        content={\n          <ColorPicker\n            handleChange={(color) => {\n              InlineEditorActions(null, 'fontColor', color);\n            }}\n            mouseDown={false}\n          />\n        }\n        destroyTooltipOnHide={true}\n      >\n        <Button icon={<FontColorsOutlined />} style={{ fontSize: '12px' }} size=\"small\"></Button>\n      </Popover>\n      <Popover\n        overlayClassName=\"inline-editor-popover-color-picker\"\n        trigger=\"click\"\n        placement=\"bottom\"\n        content={\n          <ColorPicker\n            handleChange={(color) => {\n              InlineEditorActions(null, 'color', color);\n            }}\n            mouseDown={false}\n          />\n        }\n        destroyTooltipOnHide={true}\n      >\n        <Button icon={<BgColorsOutlined />} style={{ fontSize: '12px' }} size=\"small\"></Button>\n      </Popover>\n      <Button\n        icon={<BoldOutlined />}\n        onClick={(e) => InlineEditorActions(e, 'bold')}\n        style={{ fontSize: '12px' }}\n        size=\"small\"\n      ></Button>\n      <Button\n        icon={<ItalicOutlined />}\n        onClick={(e) => InlineEditorActions(e, 'italics')}\n        style={{ fontSize: '12px' }}\n        size=\"small\"\n      ></Button>\n      <Button\n        icon={<UnderlineOutlined />}\n        onClick={(e) => InlineEditorActions(e, 'underline')}\n        style={{ fontSize: '12px' }}\n        size=\"small\"\n      ></Button>\n      <LinkItem setLinkCallback={(e) => InlineEditorActions(e, 'link')} />\n    </div>\n  );\n};\n\ninterface LinkItemProps {\n  setLinkCallback: (e: any) => void;\n}\n\nconst LinkItem = ({ setLinkCallback }: LinkItemProps) => {\n  const [active, setActive] = useState(false);\n  const [link, setLink] = useState('');\n  const linkRef = useRef<any>(null);\n\n  const onChange = (e: any) => {\n    setLink(e.target.value);\n  };\n\n  const onMouseDown = (e: any) => {\n    restoreSelection();\n  };\n\n  return (\n    <Popover\n      visible={active}\n      content={\n        <div style={{ display: 'flex', gap: '8px' }}>\n          <Input\n            className=\"inline-editor-link\"\n            ref={linkRef}\n            value={link}\n            onMouseDown={onMouseDown}\n            onChange={onChange}\n            placeholder=\"link\"\n          />\n          <Button\n            type=\"default\"\n            onMouseDown={ResetEventBehaviour}\n            onClick={() => {\n              setActive(false);\n              restoreSelection();\n              document.execCommand(\n                'insertHTML',\n                false,\n                '<a href=\"' + addHttps(link) + '\" target=\"_blank\">' + document.getSelection() + '</a>'\n              );\n            }}\n          >\n            create\n          </Button>\n        </div>\n      }\n      trigger=\"click\"\n      placement=\"bottom\"\n    >\n      <Button\n        style={{ fontSize: '12px' }}\n        onClick={(e) => {\n          ResetEventBehaviour(e);\n          setActive(!active);\n          setLink('');\n        }}\n        size=\"small\"\n        icon={<LinkOutlined />}\n      ></Button>\n    </Popover>\n  );\n};\n\nconst stateChangeCallback = (item: any, mjmlJson: any, setMjmlJson: any) => {\n  logger.log(`custom Inline Editor: updating state callback`);\n  const closestParent = findClosestParent(item);\n  if (!closestParent) {\n    return;\n  }\n  const uniqueIdentifier = closestParent;\n  if (uniqueIdentifier?.includes('mj-text')) {\n    const find = findElementInJson(mjmlJson, uniqueIdentifier);\n    if (find) {\n      const [, path] = find;\n      let itemJson = _.get(mjmlJson, path.slice(1));\n      if (itemJson) {\n        let updateToSend = _.cloneDeep(itemJson);\n        logger.log('inline editor: updating', item);\n        const html = item.innerHTML;\n        updateToSend.content = html;\n        const updated = _.set(mjmlJson, path.slice(1), updateToSend);\n        setMjmlJson({ ...updated });\n      }\n    }\n  }\n};\n\nexport const ResetEventBehaviour = (e: any) => {\n  logger.log('::reset', e.target);\n  if (\n    e.target &&\n    e.target.tagName === 'INPUT' &&\n    e.target.className &&\n    e.target.className.includes('inline-editor-link')\n  ) {\n    logger.log('::reset, returning');\n    return;\n  }\n  logger.log('::reset->reset behaviour', e.target);\n  e.preventDefault();\n  e.stopPropagation();\n  return false;\n};\n\nexport { InlineEditor };\n","import _ from 'lodash';\nimport { BORDER_CONFIG } from './BorderConfig';\nimport { UnitConfig } from './UnitConfig';\nimport { Select, Input, Typography } from 'antd';\nimport { ChromePicker } from 'react-color';\nimport { useEffect, useState } from 'react';\nimport { Row, Col } from 'antd';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useVisibility, useValue } from '../../Hooks/Attribute.hook';\nimport styled from 'styled-components';\n\nexport enum BorderDirection {\n  Top,\n  Bottom,\n  Left,\n  Right,\n  All,\n}\n\ninterface ColorPickerComponentProps {\n  color: string;\n  setColor: Function;\n  showColor: boolean;\n  setShowColor: Function;\n  borderDirection?: BorderDirection;\n}\n\nconst ColorPickerComponent = ({\n  color,\n  setColor,\n  showColor,\n  setShowColor,\n  borderDirection,\n}: ColorPickerComponentProps) => {\n  let left = '0px';\n  if (borderDirection === BorderDirection.Top || borderDirection === BorderDirection.Left) left = '-40px';\n  else left = '-200px';\n\n  return (\n    <ColorPicker left={left} color={color}>\n      <div className=\"swatch\" onClick={() => setShowColor(true)}>\n        <div className=\"color\"></div>\n      </div>\n      {showColor ? (\n        <div className=\"popover\">\n          <div className=\"cover\" onClick={() => setShowColor(false)}></div>\n          <ChromePicker disableAlpha={false} color={color} onChange={(x) => setColor(x.hex)} />\n        </div>\n      ) : null}\n    </ColorPicker>\n  );\n};\n\ninterface BorderCollectionProps {\n  activePath: string | undefined;\n  direction: BorderDirection;\n}\n\nenum BorderAttribute {\n  Top = 'border-top',\n  Bottom = 'border-bottom',\n  Left = 'border-left',\n  Right = 'border-right',\n}\n\nexport const BorderCollection = ({ activePath, direction }: BorderCollectionProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [visible, path] = useVisibility({ attribute: 'border', customPath: activePath });\n\n  const [style, setStyle] = useState<string>('none');\n  const [color, setColor] = useState<string>('#000');\n  const [showColor, setShowColor] = useState<boolean>(false);\n  const [width, setWidth] = useState<string>('0');\n  const [unit, setUnit] = useState<string>('px');\n\n  const handleChange = (value: string): void => {\n    if (visible && path) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      if (direction === BorderDirection.Left || direction === BorderDirection.All)\n        element.attributes[BorderAttribute.Left] = value;\n      if (direction === BorderDirection.Right || direction === BorderDirection.All)\n        element.attributes[BorderAttribute.Right] = value;\n      if (direction === BorderDirection.Top || direction === BorderDirection.All)\n        element.attributes[BorderAttribute.Top] = value;\n      if (direction === BorderDirection.Bottom || direction === BorderDirection.All)\n        element.attributes[BorderAttribute.Bottom] = value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  const splitWidth = (w: string): string[] => {\n    const numPattern = /[0-9]/g;\n    const alphaPattern = /[a-zA-Z]/g;\n    let A: string[] = [];\n    const num = w.match(numPattern);\n    const alpha = w.match(alphaPattern);\n    A.push(num === null ? '' : num.join(''));\n    A.push(alpha === null ? '' : alpha.join(''));\n    return A;\n  };\n\n  // Values\n  const left = useValue({ path, visible, attribute: BorderAttribute.Left });\n  const right = useValue({ path, visible, attribute: BorderAttribute.Right });\n  const top = useValue({ path, visible, attribute: BorderAttribute.Top });\n  const bottom = useValue({ path, visible, attribute: BorderAttribute.Bottom });\n\n  const defaultValue: string = '0px none #000';\n\n  const setValue = (value: string): void => {\n    const VALUE: string[] = value.split(' ');\n    const WIDTH: string[] = splitWidth(VALUE[0]);\n    if (VALUE.length === 3 && WIDTH.length === 2) {\n      setWidth(WIDTH[0]);\n      setUnit(WIDTH[1]);\n      setStyle(VALUE[1]);\n      setColor(VALUE[2]);\n    } else {\n      setValue(defaultValue);\n    }\n  };\n\n  const setVisibleValues = () => {\n    let l: string | undefined = left.getValue();\n    let r: string | undefined = right.getValue();\n    let t: string | undefined = top.getValue();\n    let b: string | undefined = bottom.getValue();\n\n    if (l === r && l === t && l === b && l !== '' && direction === BorderDirection.All) {\n      l && setValue(l);\n    } else {\n      switch (direction) {\n        case BorderDirection.Left:\n          if (l !== undefined) setValue(l);\n          else setValue(defaultValue);\n          break;\n        case BorderDirection.Right:\n          if (r !== undefined) setValue(r);\n          else setValue(defaultValue);\n          break;\n        case BorderDirection.Top:\n          if (t !== undefined) setValue(t);\n          else setValue(defaultValue);\n          break;\n        case BorderDirection.Bottom:\n          if (b !== undefined) setValue(b);\n          else setValue(defaultValue);\n          break;\n        case BorderDirection.All:\n          setValue(defaultValue);\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (visible && path) {\n      setVisibleValues();\n    }\n  }, [visible, path]);\n\n  useEffect(() => {\n    handleChange(width + unit + ' ' + style + ' ' + color);\n  }, [style, color, width, unit]);\n\n  return visible ? (\n    <>\n      {direction === BorderDirection.All && (\n        <Row gutter={[8, 4]} justify=\"space-between\">\n          <Col span={12}>\n            <Select value={style} options={BORDER_CONFIG} onChange={(x) => setStyle(x)} />\n          </Col>\n          <Col flex=\"none\">\n            <Input\n              style={{ width: '88px' }}\n              placeholder=\"Width\"\n              value={width}\n              onChange={(x) => setWidth(x.target.value)}\n              addonAfter={unit}\n            />\n          </Col>\n          <Col span={4} style={{ display: 'flex', justifyContent: 'flex-end', paddingRight: '0px' }}>\n            <ColorPickerComponent\n              color={color}\n              borderDirection={direction}\n              setColor={setColor}\n              showColor={showColor}\n              setShowColor={setShowColor}\n            />\n          </Col>\n        </Row>\n      )}\n\n      {direction !== BorderDirection.All && (\n        <Row gutter={[0, 4]} justify=\"space-between\">\n          <Col span={24}>\n            <Select value={style} options={BORDER_CONFIG} onChange={(x) => setStyle(x)} />\n          </Col>\n          <Col span={24}>\n            <Row justify=\"space-between\" align=\"middle\">\n              {/* Border width */}\n              <Col flex=\"none\" style={{ width: '88px' }}>\n                <Input placeholder=\"Width\" value={width} onChange={(x) => setWidth(x.target.value)} addonAfter={unit} />\n              </Col>\n              {/* Border color */}\n              <Col flex=\"none\">\n                <ColorPickerComponent\n                  color={color}\n                  borderDirection={direction}\n                  setColor={setColor}\n                  showColor={showColor}\n                  setShowColor={setShowColor}\n                />\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n      )}\n\n      {/* dont show unit for user for now */}\n      {/* <Row>\n        <Col span={12}>\n        </Col>\n        <Col span={11} offset={1}>\n          <Select value={unit} options={UnitConfig} onChange={(x) => setUnit(x)} style={{ width: '50%' }} />\n        </Col> \n      </Row> */}\n    </>\n  ) : null;\n};\n\nconst ColorPicker = styled(Col)<{ left: string }>`\n  display: flex;\n  .color {\n    width: 25px;\n    height: 25px;\n    border-radius: 2px;\n    background: ${(props) => props.color};\n  }\n  .swatch {\n    padding: 3px;\n    background: #fff;\n    border-radius: 1px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .popover {\n    position: absolute;\n    z-index: 2;\n    top: -108px;\n    left: ${(props) => props.left};\n  }\n\n  .cover {\n    position: fixed;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n  }\n`;\n","import _ from 'lodash';\nimport { findUniqueIdentifier, findUniqueIdentifierFromString } from './closestParent';\nimport { closeToTopOrBottom, isEventWithTargetElement } from './eventElementRelation';\nimport { findElementInJson } from './findElementInMjmlJson';\nimport { logger } from './logger';\nimport { cleanMjmlJson } from './mjmlProcessor';\n\ninterface generateDropItemPlacehodlerProps {\n  setMjmlJson: any;\n  mjmlJson: any;\n  nearestTag: any;\n  columnElement: any;\n  currentTarget: any;\n  event: any;\n}\n\nconst generateDropItemPlaceholder = ({\n  mjmlJson,\n  setMjmlJson,\n  columnElement,\n  event: e,\n  currentTarget,\n  nearestTag,\n}: generateDropItemPlacehodlerProps) => {\n  if (columnElement && nearestTag) {\n    const nearestElement = currentTarget.closest(`.${nearestTag}`);\n    if (nearestElement && columnElement) {\n      if (isEventWithTargetElement(e, columnElement)) {\n        const suggestionDirection = closeToTopOrBottom(e, nearestElement);\n        if (suggestionDirection) {\n          let item = findElementInJson(_.cloneDeep(mjmlJson), nearestTag);\n          if (item) {\n            const [, path]: [any, string] = item;\n            // omit the last .child.. index, cuz parent is needed\n            const parent = path.slice(1, path.lastIndexOf('.children'));\n            let parentObj = _.get(_.cloneDeep(mjmlJson), parent);\n            let newOrder = [];\n            for (var i = 0; parentObj && parentObj.children && i < parentObj.children.length; i++) {\n              let childItem = parentObj['children'][i];\n              logger.log(childItem);\n              const cssClass = childItem.attributes && childItem['attributes']['css-class'];\n              // if there is existing placeholders, removing them\n              if (cssClass && cssClass.includes('placeitem-placeholder')) {\n                continue;\n              }\n              if (cssClass && cssClass.includes(nearestTag)) {\n                if (suggestionDirection === 'top') {\n                  newOrder.push(placeItemPlaceHolder, childItem);\n                } else if (suggestionDirection === 'bottom') {\n                  newOrder.push(childItem, placeItemPlaceHolder);\n                }\n                continue;\n              }\n              newOrder.push(childItem);\n            }\n\n            if (parentObj && newOrder.length > 0) {\n              // replace with new order\n              parentObj.children = newOrder;\n              const updated = _.set(_.cloneDeep(mjmlJson), parent, parentObj);\n              const uniqueColumnIdentifier = findUniqueIdentifier(\n                columnElement,\n                columnElement.classList,\n                'identifier-mj-column'\n              );\n              if (uniqueColumnIdentifier) {\n                const cleaned = cleanMjmlJson(updated, uniqueColumnIdentifier);\n                if (!_.isEqual(mjmlJson, cleaned)) {\n                  logger.log('::update::', mjmlJson, cleaned);\n                  setMjmlJson({ ...cleaned });\n                } else {\n                  logger.log('::update:: -> but elements are the same, not triggering rerender');\n                }\n              } else {\n                if (!_.isEqual(mjmlJson, updated)) {\n                  logger.log('::update::', mjmlJson, updated);\n                  setMjmlJson({ ...updated });\n                } else {\n                  logger.log('::update:: -> but elements are the same, not triggering rerender');\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\n\nconst genereateDropItemPlaceholderForColumn = ({\n  mjmlJson,\n  setMjmlJson,\n  nearestTag,\n}: Omit<generateDropItemPlacehodlerProps, 'event' | 'columnElement' | 'currentTarget'>) => {\n  if (nearestTag) {\n    let find = findElementInJson(mjmlJson, nearestTag);\n    if (find) {\n      const cleanedMjmlJson = cleanMjmlJson(_.cloneDeep(mjmlJson));\n      logger.log('::beforechange::', mjmlJson, cleanedMjmlJson);\n      const [, path]: [any, string] = find;\n      let columnObj = _.get(_.cloneDeep(cleanedMjmlJson), path.slice(1));\n      let newOrder = [];\n      for (let i = 0; columnObj && columnObj.children && i < columnObj.children.length; i++) {\n        const childItem = columnObj['children'][i];\n        const cssClass = childItem.attributes && childItem['attributes']['css-class'];\n        // if there is existing placeholders, removing them\n        if (cssClass && cssClass.includes('placeitem-placeholder')) {\n          continue;\n        }\n        // remove column empty placeholders\n        if (cssClass && cssClass.includes('mj-placeholder')) {\n          continue;\n        }\n        newOrder.push(childItem);\n      }\n\n      // newOrder will not be zero if the column already has items\n      if (newOrder.length > 0) {\n        // todo: handle generateDropItemPlaceholder inside this fn.\n        //  by getting event and performing calculations.\n        return false;\n      }\n\n      // add the new element\n      newOrder.push(placeItemPlaceHolder);\n\n      let sectionPath = path.slice(1, path.lastIndexOf('.children'));\n      if (columnObj) {\n        //  section can contain multiple,\n        // identify which column is active and replace with new order\n        columnObj.children = newOrder;\n        let parentSection = _.get(_.cloneDeep(cleanedMjmlJson), sectionPath);\n        let columnChildrenNewOrder = [];\n        for (let i = 0; parentSection && parentSection.children && i < parentSection.children.length; i++) {\n          const childColumn = parentSection['children'][i];\n          const cssClass = childColumn.attributes && childColumn['attributes']['css-class'];\n          const uniqueIdentifer = findUniqueIdentifierFromString(cssClass);\n          // nearestTag is the  uniqueId of the column,\n          //   replace the old column with new one\n          if (uniqueIdentifer === nearestTag) {\n            columnChildrenNewOrder.push(columnObj);\n            continue;\n          }\n          columnChildrenNewOrder.push(childColumn);\n        }\n        parentSection.children = columnChildrenNewOrder;\n        const updated = _.set(cleanedMjmlJson, sectionPath, parentSection);\n        if (!_.isEqual(mjmlJson, updated)) {\n          logger.log('::update::', cleanedMjmlJson, updated);\n          setMjmlJson({ ...updated });\n        } else {\n          logger.log('::update:: -> but elements are the same, not triggering rerender');\n        }\n        return true;\n      }\n    }\n  }\n};\n\nexport { generateDropItemPlaceholder, genereateDropItemPlaceholderForColumn };\n\nconst placeItemPlaceHolder = {\n  tagName: 'mj-text',\n  attributes: {\n    align: 'center',\n    'css-class': 'placeitem-placeholder',\n  },\n  content: '<div style=\"padding:24px\">  </div>',\n};\n","const typeoftag = (className: string) => {\n  let regExMatch = 'content';\n  let regex = className.match(/identifier-mj-(.*)/);\n  if (regex) {\n    regExMatch = regex[1];\n    if (regExMatch.includes('social-element')) {\n      regExMatch = regExMatch.replace('social-element', 'icon');\n    }\n\n    if (regExMatch.includes('-')) {\n      regExMatch = regExMatch.split('-')[0];\n    }\n  }\n  return regExMatch;\n};\n\nexport { typeoftag };\n","import _ from 'lodash';\nimport { findUniqueIdentifierFromString } from './closestParent';\nimport { findElementInJson } from './findElementInMjmlJson';\nimport { UNDOREDO } from './undoRedo';\n\nconst moveSectionUp = (className: string, mjmlJson: any, setMjmlJson: any, directon = 'up') => {\n  const uniqueClassName = findUniqueIdentifierFromString(className);\n  if (uniqueClassName) {\n    const child = findElementInJson(mjmlJson, uniqueClassName);\n    const parent = findElementInJson(mjmlJson, 'identifier-mj-body');\n    if (child && parent) {\n      const [parentItem, parentPath] = parent;\n      const [childItem] = child;\n\n      let newOrder = [];\n      let indexOfItem = -1;\n      for (let i = 0; parentItem.children.length > 1 && i < parentItem.children.length; i++) {\n        const childSection = parentItem.children[i];\n        if (childSection && childSection.attributes && childSection.attributes['css-class'].includes(uniqueClassName)) {\n          indexOfItem = i;\n          break;\n        }\n      }\n\n      if (indexOfItem !== -1) {\n        for (let i = 0; parentItem.children.length > 1 && i < parentItem.children.length; i++) {\n          const childSection = parentItem.children[i];\n          if (childSection && directon === 'up') {\n            // moveup -> indexOfItem -1;\n            if (i === indexOfItem - 1) {\n              newOrder.push(childItem);\n              newOrder.push(childSection);\n              i += 1;\n              continue;\n            }\n            newOrder.push(childSection);\n          }\n          if (childSection && directon === 'down') {\n            // movedown\n            if (i === indexOfItem) {\n              const nextChild = parentItem.children[i + 1];\n              newOrder.push(nextChild);\n              newOrder.push(childItem);\n              i += 1;\n              continue;\n            }\n            newOrder.push(childSection);\n          }\n        }\n      }\n      if (newOrder.length > 1) {\n        let update_parent = _.cloneDeep(parentItem);\n        update_parent.children = _.cloneDeep(newOrder);\n        const updated = _.set(mjmlJson, parentPath.slice(1), update_parent);\n        UNDOREDO.newAction(updated);\n        setMjmlJson({ ...updated });\n      }\n    }\n  }\n};\n\nconst moveSectionDown = (uniqueClassName: string, mjmlJson: any, setMjmlJson: any) => {\n  return moveSectionUp(uniqueClassName, mjmlJson, setMjmlJson, 'down');\n};\n\nexport { moveSectionUp, moveSectionDown };\n","import { logger } from './logger';\n\nconst InlineEditorActions = (e: any, type: string, extras = '') => {\n  if (e) {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  logger.log('editor action:', type, extras);\n  switch (type) {\n    case 'bold':\n      document.execCommand('bold');\n      break;\n    case 'underline':\n      document.execCommand('underline');\n      break;\n    case 'italics':\n      document.execCommand('italic');\n      break;\n    case 'size':\n      document.execCommand('fontSize', false, extras);\n      break;\n    case 'color':\n      document.execCommand('backColor', false, extras);\n      break;\n    case 'fontColor':\n      document.execCommand('foreColor', false, extras);\n      break;\n    case 'fontFamily':\n      document.execCommand('fontName', false, extras);\n      break;\n    default:\n      logger.info(`unhandled action ${type}`);\n  }\n  return false;\n};\n\nexport { InlineEditorActions };\n","import styled from 'styled-components';\nimport { ChromePicker } from 'react-color';\nimport { useState } from 'react';\n\ninterface ColorPickerProps {\n  handleChange: (color: string) => void;\n  mouseDown: boolean;\n}\n\nexport const ColorPicker = ({ handleChange, mouseDown }: ColorPickerProps) => {\n  const [color, setColor] = useState(() => '#ccc');\n\n  const handleColorChange = (color: any) => {\n    const hexCode = `${color.hex}${decimalToHex(color.rgb.a)}`;\n    setColor(hexCode);\n    handleChange(`rgba(${color.rgb.r},${color.rgb.g},${color.rgb.b},${color.rgb.a})`);\n  };\n\n  return (\n    <ColorPickerContainer\n      onMouseDown={(e) => {\n        if (!mouseDown) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      }}\n      color={color}\n    >\n      <div className=\"popover\">\n        <ChromePicker disableAlpha={false} color={color} onChange={(color: any) => handleColorChange(color)} />\n      </div>\n    </ColorPickerContainer>\n  );\n};\n\nconst decimalToHex = (alpha: number) => (alpha === 0 ? '00' : Math.round(255 * alpha).toString(16));\n\nconst ColorPickerContainer = styled.div`\n  display: inline-block;\n  .ant-popover-inner-content {\n    padding: 0;\n  }\n`;\n","import _ from 'lodash';\nimport styled from 'styled-components';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Form, Row } from 'antd';\nimport { ChromePicker } from 'react-color';\nimport { useEffect, useState } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { logger } from '../../Utils/logger';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\n\nconst ATTRIBUTE = 'background-color';\ninterface BackgroundProps {\n  activePath?: string;\n  label?: string;\n  overrideAttribute?: string;\n}\n\nexport const Background = ({ activePath, label, overrideAttribute }: BackgroundProps) => {\n  const attribute = overrideAttribute || ATTRIBUTE;\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [active, setActive] = useState(() => false);\n  const [color, setColor] = useState(() => '#ccc');\n  const [visible, path] = useVisibility({ attribute, customPath: activePath });\n\n  useEffect(() => {\n    if (visible && path) {\n      const item = _.get(mjmlJson, path);\n      if (item && item.attributes && item.attributes[attribute]) {\n        setColor(item.attributes[attribute]);\n      }\n    }\n    logger.log('background reloading,', path, visible);\n  }, [path, visible]);\n\n  const handleColorChange = (color: any) => {\n    const hexCode = `${color.hex}${decimalToHex(color.rgb.a)}`;\n    setColor(hexCode);\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      element.attributes[attribute] = hexCode;\n      let json = _.set(mjmlJson, path, element);\n\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <>\n      <Row>\n        <Col flex=\"auto\">\n          <Form.Item label={label ? label : 'Background'}></Form.Item>\n        </Col>\n\n        <ColorPicker color={color} flex=\"none\">\n          <div className=\"swatch\" onClick={() => setActive(true)}>\n            <div className=\"color\"></div>\n          </div>\n          {active ? (\n            <div className=\"popover\">\n              <div className=\"cover\" onClick={() => setActive(false)}></div>\n              <ChromePicker disableAlpha={false} color={color} onChange={(color: any) => handleColorChange(color)} />\n            </div>\n          ) : null}\n        </ColorPicker>\n      </Row>\n    </>\n  ) : null;\n};\n\nconst decimalToHex = (alpha: number) => (alpha === 0 ? '00' : Math.round(255 * alpha).toString(16));\n\nconst ColorPicker = styled(Col)`\n  .color {\n    width: 25px;\n    height: 25px;\n    border-radius: 2px;\n    background: ${(props) => props.color};\n  }\n  .swatch {\n    padding: 5px;\n    background: #fff;\n    border-radius: 1px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .popover {\n    position: absolute;\n    z-index: 2;\n    top: -108px;\n    left: -200px;\n  }\n\n  .cover {\n    position: fixed;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n  }\n`;\n","import _ from 'lodash';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Form, Input } from 'antd';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { useCallback, useEffect, useState } from 'react';\n\nconst ATTRIBUTE = 'width';\n\ninterface WidthHeightProps {\n  activePath?: string;\n}\n\nexport const Width = ({ activePath }: WidthHeightProps) => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE, customPath: activePath });\n\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState<string>('');\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n\n  useEffect(() => {\n    if (visible) {\n      setValue(getValue());\n    }\n  }, [visible]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n    if (e.target.value === '' || e.target.value === '%') {\n      e.target.value = '0';\n    }\n    if (visible && path && e.target.value) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = e.target.value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n  const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n      e.currentTarget.value = '';\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"Width\">\n      <Input onChange={handleChange} value={value} onKeyDown={onKeyDown} />\n    </Form.Item>\n  ) : null;\n};\n\nconst ATTRIBUTE_HEIGHT = 'height';\n\nexport const Height = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE_HEIGHT });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE_HEIGHT });\n  const [value, setValue] = useState('');\n\n  useEffect(() => {\n    if (visible) {\n      setValue(getValue());\n    }\n  }, [visible]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n    if (e.target.value === '' || e.target.value === '%') {\n      e.target.value = '';\n    }\n    if (visible && path && e.target.value) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE_HEIGHT] = e.target.value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n  const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n      e.currentTarget.value = '';\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"Height\">\n      <Input onChange={handleChange} value={value} onKeyDown={onKeyDown} />\n    </Form.Item>\n  ) : null;\n};\n","import { Form, Row, Col, Input } from 'antd';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useEditor } from '../../Hooks/Editor.hook';\n\ninterface TitleProps {\n  itemIndex: number;\n}\n\nconst Title = ({ itemIndex: index }: TitleProps) => {\n  const [value, setValue] = useState();\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  useEffect(() => {\n    if (index !== -1) {\n      const titleConfig = mjmlJson.children[0].children[index];\n      if (titleConfig && titleConfig.content) {\n        setValue(titleConfig.content);\n      }\n    }\n  }, [index]);\n\n  const handleChange = (e: any) => {\n    if (index !== -1) {\n      setValue(e.target.value);\n    }\n  };\n\n  const onBlur = (e: any) => {\n    if (e && index !== -1) {\n      let titleConfig = _.cloneDeep(mjmlJson.children[0].children[index]);\n      if (titleConfig) {\n        titleConfig['content'] = e.target.value;\n        const update = _.set(mjmlJson, `children[0].children[${index}]`, titleConfig);\n        setMjmlJson({ ...update });\n      }\n    }\n  };\n\n  return (\n    <Form.Item>\n      <Row>\n        <Col span={24}>\n          <Input addonBefore=\"title\" value={value} onBlur={onBlur} onChange={handleChange} />\n        </Col>\n      </Row>\n    </Form.Item>\n  );\n};\n\nexport { Title };\n","import { Col, Row } from 'antd';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { Background } from './Mods/Background';\nimport { Width } from './Mods/WidthHeight';\nimport { Title as TitleMod } from './Mods/Title';\nimport { UNDOREDO } from '../Utils/undoRedo';\n\nexport const BODY_PATH = 'children[1]';\n\nexport const HEAD_PATH = 'children[0]';\n\nconst BodyContainer = styled.div`\n  padding: 16px 0px;\n  .title {\n    font-size: 14px;\n    font-weight: 600;\n  }\n  .props-container {\n    padding: 16px;\n  }\n`;\n\nconst BodyAttributes = () => {\n  const { mjmlJson } = useEditor();\n  const [titleIndex, setTitleIndex] = useState<number>(-1);\n\n  useEffect(() => {\n    // taking advantage of the fact that head tag always has a static path\n    if (mjmlJson && mjmlJson['children'] && mjmlJson['children'].length > 0) {\n      let headConfig = mjmlJson['children'][0];\n      if (\n        headConfig &&\n        headConfig['tagName'] &&\n        headConfig['tagName'].includes('head') &&\n        headConfig.children &&\n        headConfig.children.length > 0\n      ) {\n        let children = headConfig.children;\n        for (let i = 0; i < children.length; i++) {\n          const child = children[i];\n          if (child && child.tagName && child.tagName.includes('title')) {\n            setTitleIndex(i);\n          }\n        }\n      }\n    }\n  }, []);\n\n  return (\n    <BodyContainer\n      onMouseDown={(e) => {\n        UNDOREDO.newAction(mjmlJson);\n      }}\n      onBlur={(e) => {\n        UNDOREDO.newAction(mjmlJson);\n      }}\n    >\n      <Title title=\"Body Properties\" />\n      <div className=\"props-container\">\n        <TitleMod itemIndex={titleIndex} />\n        <Width activePath={BODY_PATH} />\n        <Background activePath={BODY_PATH} label=\"Body Background:\" />\n      </div>\n    </BodyContainer>\n  );\n};\n\nconst Title = ({ title }: { title: string }) => {\n  return (\n    <Row justify=\"center\">\n      <Col span={24} style={{ textAlign: 'center' }}>\n        <span className=\"title\">{title}</span>\n      </Col>\n    </Row>\n  );\n};\n\nexport { BodyAttributes, BodyContainer as SideBarDefaultLayout, Title as SideBarDefaultTitle };\n","import _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { BODY_PATH } from '../Components/BodyAttributes';\nimport { findUniqueIdentifier } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { useEditor } from './Editor.hook';\nimport { useHtmlWrapper } from './Htmlwrapper.hook';\n\ninterface useVisibilityProps {\n  attribute?: string;\n  property?: string;\n  customPath?: string;\n}\n\nconst useVisibility = ({ attribute, property, customPath }: useVisibilityProps): [boolean | null, string, any] => {\n  const [visible, setVisible] = useState<boolean | null>(false);\n\n  const { active } = useHtmlWrapper();\n\n  const [path, setPath] = useState('');\n\n  const { mjmlJson } = useEditor();\n\n  useEffect(() => {\n    // if its body, no need to tranverse, as soon as the state'mjmlJson' is available,\n    //   it can be show to the ui\n    // possible optimization: body properties are being on every active item click.\n    //  write seperate Mods for body ex: instead of using common width, create width uniquely for body\n    if (mjmlJson && customPath && customPath === BODY_PATH) {\n      setVisible(true);\n      setPath(BODY_PATH);\n      return;\n    }\n\n    if (active) {\n      const uniqueIdentifier = findUniqueIdentifier(active, active.classList);\n      if (uniqueIdentifier) {\n        let path = findElementInJson(mjmlJson, uniqueIdentifier);\n\n        if (customPath) {\n          path = [null, '.' + customPath];\n        }\n\n        if (path) {\n          const [, pathToElement] = path;\n          if (pathToElement.length > 0) {\n            setPath(pathToElement.slice(1));\n          }\n          if (attribute) {\n            const item = _.get(mjmlJson, pathToElement.slice(1));\n            if (item && item.mutableProperties && item.mutableProperties.includes(attribute)) {\n              setVisible(true);\n              return;\n            }\n          } else if (property) {\n            const item = _.get(mjmlJson, pathToElement.slice(1));\n            if (item && item[property]) {\n              setVisible(true);\n              return;\n            }\n          }\n        }\n      }\n    }\n    setVisible(false);\n    setPath('');\n  }, [active]);\n\n  return [visible, path, active];\n};\n\ninterface useValueProps {\n  path: string;\n  visible: boolean | null;\n  attribute: string;\n}\n\nconst useValue = ({ path, visible, attribute }: useValueProps) => {\n  const { mjmlJson } = useEditor();\n  // todo: optimize this\n  const getValue = () => {\n    let value = '';\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      if (element && element.attributes) {\n        value = element.attributes[attribute];\n      }\n    }\n    return value;\n  };\n\n  return { getValue };\n};\n\nexport { useVisibility, useValue };\n","import _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useValue, useVisibility } from './Attribute.hook';\nimport { useEditor } from './Editor.hook';\n\nconst ATTRIBUTE = 'font-family';\n\nconst useFonts = (): [string[], string] => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState('');\n  const [fonts, setFonts] = useState<[]>([]);\n\n  useEffect(() => {\n    updateFonts(mjmlJson, fonts, setFonts, setMjmlJson);\n  }, []);\n\n  useEffect(() => {\n    updateFonts(mjmlJson, fonts, setFonts, setMjmlJson);\n  }, [mjmlJson]);\n\n  useEffect(() => {\n    if (visible && mjmlJson) {\n      const _value = getValue();\n      if (_value && _value.indexOf(',')) {\n        const _fonts = _value.split(',')[0];\n        setValue(_fonts);\n      }\n    }\n  }, [mjmlJson]);\n\n  return [fonts, value];\n};\n\nconst updateFonts = (mjmlJson: any, fonts: any, setFonts: (arg: any) => void, setMjmlJson: (arg: any) => void) => {\n  if (mjmlJson) {\n    const head = mjmlJson.children[0];\n    if (head && head.children) {\n      const fontList = head.children.filter((item: any) => item && item.tagName && item.tagName.includes('font'));\n      if (fonts && fontList && fontList.length !== fonts.length) {\n        let sortedFontList = fontList\n          .map((item: any) => item.attributes.name.trim())\n          .sort((a: any, b: any) => (a > b ? 1 : -1));\n        sortedFontList = _.uniq(sortedFontList);\n\n        setFonts(sortedFontList);\n\n        // update the overall fonts in the mail\n        // uitlizing the fact that the path to attributes tag is always the same/static\n        let mailFont = mjmlJson.children[0].children[2];\n        let toUpdate = 'Ubuntu,' + sortedFontList.join(',');\n        // updating attributes tag in head section. the font-family for changing 'font-family' on the fly for text-tag\n        if (\n          mailFont &&\n          mailFont.tagName.includes('attributes') &&\n          mailFont.children &&\n          mailFont.children[0] &&\n          mailFont.children[0].tagName.includes('text') &&\n          mailFont.children[0]['attributes']['font-family'] !== toUpdate\n        ) {\n          mailFont.children[0].attributes['font-family'] = toUpdate;\n          const update = _.set(mjmlJson, 'children[0].children[2]', mailFont);\n          if (update) {\n            setMjmlJson({ ...update });\n          }\n        }\n      }\n    }\n  }\n};\n\nexport { useFonts };\n","import _ from 'lodash';\nimport { ChangeEvent, useEffect, useState } from 'react';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Input, Row } from 'antd';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport FormItem from 'antd/lib/form/FormItem';\n\nconst ATTRIBUTE = 'href';\n\nconst Link = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n  const [value, setValue] = useState('');\n\n  useEffect(() => {\n    if (visible) {\n      setValue(getValue());\n    }\n  }, [visible, path]);\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n    if (path && visible) {\n      setValueInState(e.target.value);\n    }\n  };\n\n  const setValueInState = (userValue: string) => {\n    let json = {};\n    let element = _.get(mjmlJson, path);\n    element.attributes[ATTRIBUTE] = userValue;\n    json = _.set(mjmlJson, path, element);\n    setMjmlJson({ ...json });\n  };\n\n  // if entered url does not contain 'https://' | 'http://' add it on blur event,\n  // after the user finises typing.\n  const onBlur = (e: any) => {\n    if (e && e.target && e.target.value) {\n      const url = addHttps(e.target.value);\n      setValueInState(url);\n      setValue(url);\n    }\n  };\n\n  return visible ? (\n    <FormItem>\n      <Row>\n        <Col span={24}>\n          <Input addonBefore={ATTRIBUTE} onBlur={onBlur} onChange={handleChange} value={value} />\n        </Col>\n      </Row>\n    </FormItem>\n  ) : null;\n};\n\nconst addHttps = (url: string) => {\n  url = url.trim();\n  if (url && !url.includes('https://') && !url.includes('http://')) {\n    url = `https://${url}`;\n  }\n  return url;\n};\n\nexport { Link, addHttps };\n","import { VerticalAlignTopOutlined, VerticalAlignBottomOutlined } from '@ant-design/icons';\nimport { Button } from 'antd';\nimport { useEffect, useState } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { findUniqueIdentifierFromString } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { moveSectionDown, moveSectionUp } from '../Utils/reorderSections';\nimport { ResetEventBehaviour } from './Mods/CustomInlineEditor';\n\ninterface MoveUpDownProps {\n  idRef: any;\n  active: any;\n  className: string;\n}\n\nconst MoveUpDown = ({ className, idRef, active }: MoveUpDownProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [upActive, setUpActive] = useState(true);\n  const [downActive, setDownActive] = useState(true);\n\n  useEffect(() => {\n    if (idRef.current === active) {\n      const uniqueClassName = findUniqueIdentifierFromString(className);\n      if (uniqueClassName) {\n        const child = findElementInJson(mjmlJson, findUniqueIdentifierFromString(className));\n        const parent = findElementInJson(mjmlJson, 'identifier-mj-body');\n        if (child && parent) {\n          const [parentItem] = parent;\n          const [childItem] = child;\n\n          // if section element is the first element\n          if (parentItem && parentItem.children && parentItem.children.length === 1) {\n            setUpActive(false);\n            setDownActive(false);\n            return;\n          } else if (parentItem && parentItem.children && parentItem.children.length > 1) {\n            const lastItem = parentItem.children.length - 1;\n            for (let i = 0; i < parentItem.children.length; i++) {\n              const childSection = parentItem.children[i];\n              if (\n                childSection &&\n                childSection.attributes &&\n                childSection.attributes['css-class'] &&\n                childSection.attributes['css-class'].includes(uniqueClassName)\n              ) {\n                if (i === lastItem) {\n                  setDownActive(false);\n                  setUpActive(true);\n                  break;\n                } else if (i === 0) {\n                  setUpActive(false);\n                  setDownActive(true);\n                  break;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }, [mjmlJson, idRef, active]);\n\n  const MoveUp = (e: any) => {\n    ResetEventBehaviour(e);\n    moveSectionUp(className, mjmlJson, setMjmlJson);\n  };\n\n  const MoveDown = (e: any) => {\n    ResetEventBehaviour(e);\n    moveSectionDown(className, mjmlJson, setMjmlJson);\n  };\n\n  return (\n    <div onMouseDown={ResetEventBehaviour} style={{ display: active === idRef.current ? 'block' : 'none' }}>\n      <div\n        style={{\n          zIndex: 200,\n          position: 'absolute',\n          left: -38,\n          bottom: 0,\n          display: 'flex',\n          flexDirection: 'column',\n          rowGap: '4px',\n        }}\n      >\n        <Button\n          type=\"primary\"\n          disabled={!upActive}\n          onClick={MoveUp}\n          icon={<VerticalAlignTopOutlined style={{ fontSize: '20px' }} />}\n        />\n        <Button\n          type=\"primary\"\n          disabled={!downActive}\n          onClick={MoveDown}\n          icon={<VerticalAlignBottomOutlined style={{ fontSize: '20px' }} />}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport { MoveUpDown };\n","import _ from 'lodash';\nimport { cloneElement, createElement, memo, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useCkeditor } from '../Hooks/Ckeditor.hook';\nimport { useCustomEditorPosition, useCustomEditorStatus } from '../Hooks/CustomEditor.hook';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../Hooks/Htmlwrapper.hook';\nimport { findClosestParent, findUniqueIdentifier } from '../Utils/closestParent';\nimport { detectEmptyElement } from '../Utils/detectEmptyBody';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { findColumnOfElement } from '../Utils/findElementsParent';\nimport {\n  generateDropItemPlaceholder,\n  genereateDropItemPlaceholderForColumn,\n} from '../Utils/generateDropItemPlaceholder';\nimport { logger } from '../Utils/logger';\nimport { setToolBars } from '../Utils/setToolbarPositions';\nimport { typeoftag } from '../Utils/typeoftag';\nimport { MoveUpDown } from './MoveUpDownRow';\n\ninterface HtmlWrapperProps {\n  // children: React.DOMElement<React.DOMAttributes<Element>, Element>;\n  uniqueKey: string | number;\n  originalNode: any;\n}\n\nexport const HtmlWrapper = memo(({ uniqueKey, originalNode }: HtmlWrapperProps) => {\n  const { setActive, setActiveHover, active, activeHover, id, setId, getId } = useHtmlWrapper();\n  const {\n    setDelActive,\n    setDelX,\n    setDelY,\n    copy,\n    drag: { isColumn },\n  } = useCkeditor();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { setX: customEditorSetX, setY: customEditorSetY } = useCustomEditorPosition();\n  const { setActive: setCustomEditorStatus } = useCustomEditorStatus();\n  const idRef = useRef(id);\n  const uniqueId = useRef(id);\n\n  const { setCopyX, setCopyActive, setCopyY } = copy;\n\n  useEffect(() => {\n    getId();\n  }, []);\n\n  // while move items in editor, hide these\n  useEffect(() => {\n    if (active === null) {\n      setCopyActive(false);\n      setDelActive(false);\n      setCustomEditorStatus(false);\n    }\n  }, [active]);\n\n  const onHover = (e: any) => {\n    e.stopPropagation();\n    activeHover !== idRef.current && setActiveHover(idRef.current);\n  };\n\n  const onClick = useMemo(\n    () =>\n      idRef.current === activeHover\n        ? (e: any) => {\n            // text element with links in editor mode, should not trigger clicks\n            if (e && e.target && e.target.tagName === 'A') {\n              e.preventDefault();\n            }\n            setActive(idRef.current);\n            const clickTarget = e.target;\n            const mjmlTarget = clickTarget.closest('.mjml-tag');\n            if (mjmlTarget) {\n              const pos = mjmlTarget.getBoundingClientRect();\n\n              // activate editor only for text elements,\n              const identifier = findUniqueIdentifier(mjmlTarget, mjmlTarget.classList);\n\n              // if its body, dont show copy or delte.\n              if (identifier?.includes('body')) {\n                setDelActive(false);\n                setCopyActive(false);\n                return;\n              }\n\n              if (identifier?.includes('text')) {\n                const x = pos.left;\n                const y = pos.top - 38;\n\n                setCustomEditorStatus(true);\n                customEditorSetX(x);\n                customEditorSetY(y);\n              } else {\n                setCustomEditorStatus(false);\n              }\n\n              // moving the delete positon to currently selected elements right\n              setDelActive(true);\n              setCopyActive(true);\n\n              setToolBars({ pos, delete: { setDelX, setDelY }, copy: { setCopyX, setCopyY } });\n            }\n          }\n        : null,\n    [idRef, activeHover]\n  );\n  const draggable = activeHover === idRef.current && !idRef.current.className.includes('section');\n  const cursetStyle = useMemo(() => (activeHover === idRef.current ? 'pointer' : 'default'), [activeHover, idRef]);\n  const outline = activeHover === idRef.current ? '2px dashed rgb(121, 202, 182)' : 'unset';\n  const outlineClick = active === idRef.current ? '2px solid rgb(121, 202, 182)' : 'unset';\n\n  // detect empty body\n  if (detectEmptyElement(originalNode, 'body')) {\n    logger.info('empty body detected');\n  }\n  // detect empty section\n  if (detectEmptyElement(originalNode, 'section')) {\n    logger.info('empty section detected');\n  }\n\n  const onDragStart = (e: any) => {\n    if (active) {\n      setActive(null);\n    }\n    e.dataTransfer.dropEffect = 'move';\n    const uniqueClassName = findClosestParent(e.target);\n    const find = findElementInJson(mjmlJson, uniqueClassName);\n    if (find) {\n      const [, path] = find;\n      let item = _.get(mjmlJson, path.slice(1));\n      item = { mode: 'move', uniqueClassName: uniqueClassName, config: _.cloneDeep(item) };\n      let target = e.target;\n      // const backup = target.children[1]?.cloneNode(true);\n      // target.children[1].remove();\n      // target.addEventListener('dragend', () => {\n      //   target.appendChild(backup);\n      // });\n      // const dummyElement = document.createElement('div');\n\n      e.dataTransfer.setDragImage(target, 0, 0);\n      e.dataTransfer.setData('config', JSON.stringify(item));\n    } else {\n      logger.info(`move items: drag unable to find the config to transfer ${uniqueClassName}`);\n    }\n  };\n\n  const memoFind = useCallback((e: HTMLElement) => findColumnOfElement(e), []);\n\n  //todo: add removed perfomance optimization once functionality dev is complete.\n  const onDragOver = (e: any) => {\n    if (isColumn) {\n      // column & section can not be nested,\n      return;\n    }\n    const currentTarget = e.nativeEvent.target;\n    const nearestTag = findClosestParent(currentTarget);\n    // only show place item sign for column's children\n    if (nearestTag?.includes('mj-column') || nearestTag?.includes('mj-section')) {\n      logger.log('::indicator: trigger->column');\n      if (nearestTag.includes('mj-column')) {\n        const madeChange = genereateDropItemPlaceholderForColumn({ mjmlJson, nearestTag, setMjmlJson });\n        if (madeChange === true) {\n          logger.log('::indicator: trigger->column -> stopping further processing');\n          return;\n        }\n        logger.log('::indicator: trigger->column -> no updates where done -> proceeding further processing');\n      }\n    }\n\n    let columnElement = memoFind(currentTarget);\n    // find column of element returns element and uniqueIdentifier\n    if (columnElement) {\n      [columnElement] = columnElement;\n    }\n    logger.log('::indicator: trigger->insideColumn');\n    generateDropItemPlaceholder({\n      mjmlJson,\n      nearestTag,\n      columnElement,\n      currentTarget,\n      setMjmlJson,\n      event: e,\n    });\n  };\n\n  const tag = typeoftag(originalNode.props.className);\n\n  const ItemName = createElement(\n    'div',\n    {\n      style: {\n        position: 'absolute',\n        right: -2,\n        bottom: -24,\n        zIndex: 100,\n        display: tag !== 'social-element' ? 'block' : 'none',\n        minWidth: 64,\n        textAlign: 'right',\n      },\n      draggable: false,\n    },\n\n    activeHover === idRef.current || active === idRef.current\n      ? createElement(\n          'span',\n          { style: { padding: '4px 6px', background: '#1890ff', color: 'white', fontSize: '14px' } },\n          typeoftag(originalNode.props.className)\n        )\n      : null\n  );\n\n  let moveUpDown = null;\n\n  // for sections show Indicators to show up and down.\n  if (originalNode && originalNode.props.className.includes('mj-section')) {\n    moveUpDown = <MoveUpDown className={originalNode.props.className} idRef={idRef} active={active} />;\n  }\n\n  const Element = createElement(\n    originalNode.nodeName as string,\n    {\n      ...originalNode.props,\n      onDragOver: _.debounce(onDragOver, 150),\n      onMouseOver: onHover,\n      onDragStart,\n      draggable,\n      ref: idRef,\n      id: uniqueId.current,\n      onClick,\n      key: uniqueKey,\n      style: {\n        ...originalNode.props.style,\n        cursor: 'pointer',\n        outline: active === idRef.current ? outlineClick : outline,\n        position: 'relative',\n      },\n    },\n    originalNode.children ? [...originalNode.children, ItemName, moveUpDown] : null\n  );\n\n  return Element;\n});\n","import { floor } from 'lodash';\n\ntype fn = (arg: number) => void;\n\ninterface SetToolBarsProps {\n  pos: any;\n  delete: {\n    setDelX: fn;\n    setDelY: fn;\n  };\n  copy: {\n    setCopyX: fn;\n    setCopyY: fn;\n  };\n}\n\nconst setToolBars = ({ pos, delete: { setDelX, setDelY }, copy: { setCopyX, setCopyY } }: SetToolBarsProps) => {\n  const IconSize = 32;\n  const numberOfIcons = 2 * IconSize;\n  if (pos) {\n    setDelX(pos.right + 4);\n    const middle = floor((pos.bottom - pos.top) / 2) - numberOfIcons / 2;\n    setDelY(pos.top + middle);\n    setCopyX(pos.right + 4);\n    // below the delete icon, with a little offset\n    setCopyY(pos.top + middle + IconSize + 4);\n  }\n};\n\nexport { setToolBars };\n","//https://raw.githubusercontent.com/facebook/react/cae635054e17a6f107a39d328649137b83f25972/packages/react-dom/src/shared/possibleStandardNames.js\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// When adding attributes to the HTML or SVG allowed attribute list, be sure to\n// also add them to this module to ensure casing and incorrect name\n// warnings.\nconst possibleStandardNames: any = {\n  // HTML\n  accept: 'accept',\n  acceptcharset: 'acceptCharset',\n  'accept-charset': 'acceptCharset',\n  accesskey: 'accessKey',\n  action: 'action',\n  allowfullscreen: 'allowFullScreen',\n  alt: 'alt',\n  align: 'align', // deprecated, but still adding it since, mjml uses it, msdn: Instead of using the obsolete align attribute, you should instead use the CSS text-align property to establish left, center, right, or justify alignment for the row's cells. To apply character-based alignment, set the CSS text-align property to the alignment character (such as \".\" or \",\").\n  as: 'as',\n  async: 'async',\n  autocapitalize: 'autoCapitalize',\n  autocomplete: 'autoComplete',\n  autocorrect: 'autoCorrect',\n  autofocus: 'autoFocus',\n  autoplay: 'autoPlay',\n  autosave: 'autoSave',\n  capture: 'capture',\n  cellpadding: 'cellPadding',\n  cellspacing: 'cellSpacing',\n  challenge: 'challenge',\n  charset: 'charSet',\n  checked: 'checked',\n  children: 'children',\n  cite: 'cite',\n  class: 'className',\n  classid: 'classID',\n  classname: 'className',\n  cols: 'cols',\n  colspan: 'colSpan',\n  content: 'content',\n  contenteditable: 'contentEditable',\n  contextmenu: 'contextMenu',\n  controls: 'controls',\n  controlslist: 'controlsList',\n  coords: 'coords',\n  crossorigin: 'crossOrigin',\n  dangerouslysetinnerhtml: 'dangerouslySetInnerHTML',\n  data: 'data',\n  datetime: 'dateTime',\n  default: 'default',\n  defaultchecked: 'defaultChecked',\n  defaultvalue: 'defaultValue',\n  defer: 'defer',\n  dir: 'dir',\n  disabled: 'disabled',\n  disablepictureinpicture: 'disablePictureInPicture',\n  disableremoteplayback: 'disableRemotePlayback',\n  download: 'download',\n  draggable: 'draggable',\n  enctype: 'encType',\n  enterkeyhint: 'enterKeyHint',\n  for: 'htmlFor',\n  form: 'form',\n  formmethod: 'formMethod',\n  formaction: 'formAction',\n  formenctype: 'formEncType',\n  formnovalidate: 'formNoValidate',\n  formtarget: 'formTarget',\n  frameborder: 'frameBorder',\n  headers: 'headers',\n  height: 'height',\n  hidden: 'hidden',\n  high: 'high',\n  href: 'href',\n  hreflang: 'hrefLang',\n  htmlfor: 'htmlFor',\n  httpequiv: 'httpEquiv',\n  'http-equiv': 'httpEquiv',\n  icon: 'icon',\n  id: 'id',\n  innerhtml: 'innerHTML',\n  inputmode: 'inputMode',\n  integrity: 'integrity',\n  is: 'is',\n  itemid: 'itemID',\n  itemprop: 'itemProp',\n  itemref: 'itemRef',\n  itemscope: 'itemScope',\n  itemtype: 'itemType',\n  keyparams: 'keyParams',\n  keytype: 'keyType',\n  kind: 'kind',\n  label: 'label',\n  lang: 'lang',\n  list: 'list',\n  loop: 'loop',\n  low: 'low',\n  manifest: 'manifest',\n  marginwidth: 'marginWidth',\n  marginheight: 'marginHeight',\n  max: 'max',\n  maxlength: 'maxLength',\n  media: 'media',\n  mediagroup: 'mediaGroup',\n  method: 'method',\n  min: 'min',\n  minlength: 'minLength',\n  multiple: 'multiple',\n  muted: 'muted',\n  name: 'name',\n  nomodule: 'noModule',\n  nonce: 'nonce',\n  novalidate: 'noValidate',\n  open: 'open',\n  optimum: 'optimum',\n  pattern: 'pattern',\n  placeholder: 'placeholder',\n  playsinline: 'playsInline',\n  poster: 'poster',\n  preload: 'preload',\n  profile: 'profile',\n  radiogroup: 'radioGroup',\n  readonly: 'readOnly',\n  referrerpolicy: 'referrerPolicy',\n  rel: 'rel',\n  required: 'required',\n  reversed: 'reversed',\n  role: 'role',\n  rows: 'rows',\n  rowspan: 'rowSpan',\n  sandbox: 'sandbox',\n  scope: 'scope',\n  scoped: 'scoped',\n  scrolling: 'scrolling',\n  seamless: 'seamless',\n  selected: 'selected',\n  shape: 'shape',\n  size: 'size',\n  sizes: 'sizes',\n  span: 'span',\n  spellcheck: 'spellCheck',\n  src: 'src',\n  srcdoc: 'srcDoc',\n  srclang: 'srcLang',\n  srcset: 'srcSet',\n  start: 'start',\n  step: 'step',\n  style: 'style',\n  summary: 'summary',\n  tabindex: 'tabIndex',\n  target: 'target',\n  title: 'title',\n  type: 'type',\n  usemap: 'useMap',\n  value: 'value',\n  width: 'width',\n  wmode: 'wmode',\n  wrap: 'wrap',\n\n  // SVG\n  about: 'about',\n  accentheight: 'accentHeight',\n  'accent-height': 'accentHeight',\n  accumulate: 'accumulate',\n  additive: 'additive',\n  alignmentbaseline: 'alignmentBaseline',\n  'alignment-baseline': 'alignmentBaseline',\n  allowreorder: 'allowReorder',\n  alphabetic: 'alphabetic',\n  amplitude: 'amplitude',\n  arabicform: 'arabicForm',\n  'arabic-form': 'arabicForm',\n  ascent: 'ascent',\n  attributename: 'attributeName',\n  attributetype: 'attributeType',\n  autoreverse: 'autoReverse',\n  azimuth: 'azimuth',\n  basefrequency: 'baseFrequency',\n  baselineshift: 'baselineShift',\n  'baseline-shift': 'baselineShift',\n  baseprofile: 'baseProfile',\n  bbox: 'bbox',\n  begin: 'begin',\n  bias: 'bias',\n  by: 'by',\n  calcmode: 'calcMode',\n  capheight: 'capHeight',\n  'cap-height': 'capHeight',\n  clip: 'clip',\n  clippath: 'clipPath',\n  'clip-path': 'clipPath',\n  clippathunits: 'clipPathUnits',\n  cliprule: 'clipRule',\n  'clip-rule': 'clipRule',\n  color: 'color',\n  colorinterpolation: 'colorInterpolation',\n  'color-interpolation': 'colorInterpolation',\n  colorinterpolationfilters: 'colorInterpolationFilters',\n  'color-interpolation-filters': 'colorInterpolationFilters',\n  colorprofile: 'colorProfile',\n  'color-profile': 'colorProfile',\n  colorrendering: 'colorRendering',\n  'color-rendering': 'colorRendering',\n  contentscripttype: 'contentScriptType',\n  contentstyletype: 'contentStyleType',\n  cursor: 'cursor',\n  cx: 'cx',\n  cy: 'cy',\n  d: 'd',\n  datatype: 'datatype',\n  decelerate: 'decelerate',\n  descent: 'descent',\n  diffuseconstant: 'diffuseConstant',\n  direction: 'direction',\n  display: 'display',\n  divisor: 'divisor',\n  dominantbaseline: 'dominantBaseline',\n  'dominant-baseline': 'dominantBaseline',\n  dur: 'dur',\n  dx: 'dx',\n  dy: 'dy',\n  edgemode: 'edgeMode',\n  elevation: 'elevation',\n  enablebackground: 'enableBackground',\n  'enable-background': 'enableBackground',\n  end: 'end',\n  exponent: 'exponent',\n  externalresourcesrequired: 'externalResourcesRequired',\n  fill: 'fill',\n  fillopacity: 'fillOpacity',\n  'fill-opacity': 'fillOpacity',\n  fillrule: 'fillRule',\n  'fill-rule': 'fillRule',\n  filter: 'filter',\n  filterres: 'filterRes',\n  filterunits: 'filterUnits',\n  floodopacity: 'floodOpacity',\n  'flood-opacity': 'floodOpacity',\n  floodcolor: 'floodColor',\n  'flood-color': 'floodColor',\n  focusable: 'focusable',\n  fontfamily: 'fontFamily',\n  'font-family': 'fontFamily',\n  fontsize: 'fontSize',\n  'font-size': 'fontSize',\n  fontsizeadjust: 'fontSizeAdjust',\n  'font-size-adjust': 'fontSizeAdjust',\n  fontstretch: 'fontStretch',\n  'font-stretch': 'fontStretch',\n  fontstyle: 'fontStyle',\n  'font-style': 'fontStyle',\n  fontvariant: 'fontVariant',\n  'font-variant': 'fontVariant',\n  fontweight: 'fontWeight',\n  'font-weight': 'fontWeight',\n  format: 'format',\n  from: 'from',\n  fx: 'fx',\n  fy: 'fy',\n  g1: 'g1',\n  g2: 'g2',\n  glyphname: 'glyphName',\n  'glyph-name': 'glyphName',\n  glyphorientationhorizontal: 'glyphOrientationHorizontal',\n  'glyph-orientation-horizontal': 'glyphOrientationHorizontal',\n  glyphorientationvertical: 'glyphOrientationVertical',\n  'glyph-orientation-vertical': 'glyphOrientationVertical',\n  glyphref: 'glyphRef',\n  gradienttransform: 'gradientTransform',\n  gradientunits: 'gradientUnits',\n  hanging: 'hanging',\n  horizadvx: 'horizAdvX',\n  'horiz-adv-x': 'horizAdvX',\n  horizoriginx: 'horizOriginX',\n  'horiz-origin-x': 'horizOriginX',\n  ideographic: 'ideographic',\n  imagerendering: 'imageRendering',\n  'image-rendering': 'imageRendering',\n  in2: 'in2',\n  in: 'in',\n  inlist: 'inlist',\n  intercept: 'intercept',\n  k1: 'k1',\n  k2: 'k2',\n  k3: 'k3',\n  k4: 'k4',\n  k: 'k',\n  kernelmatrix: 'kernelMatrix',\n  kernelunitlength: 'kernelUnitLength',\n  kerning: 'kerning',\n  keypoints: 'keyPoints',\n  keysplines: 'keySplines',\n  keytimes: 'keyTimes',\n  lengthadjust: 'lengthAdjust',\n  letterspacing: 'letterSpacing',\n  'letter-spacing': 'letterSpacing',\n  lightingcolor: 'lightingColor',\n  'lighting-color': 'lightingColor',\n  limitingconeangle: 'limitingConeAngle',\n  local: 'local',\n  markerend: 'markerEnd',\n  'marker-end': 'markerEnd',\n  markerheight: 'markerHeight',\n  markermid: 'markerMid',\n  'marker-mid': 'markerMid',\n  markerstart: 'markerStart',\n  'marker-start': 'markerStart',\n  markerunits: 'markerUnits',\n  markerwidth: 'markerWidth',\n  mask: 'mask',\n  maskcontentunits: 'maskContentUnits',\n  maskunits: 'maskUnits',\n  mathematical: 'mathematical',\n  mode: 'mode',\n  numoctaves: 'numOctaves',\n  offset: 'offset',\n  opacity: 'opacity',\n  operator: 'operator',\n  order: 'order',\n  orient: 'orient',\n  orientation: 'orientation',\n  origin: 'origin',\n  overflow: 'overflow',\n  overlineposition: 'overlinePosition',\n  'overline-position': 'overlinePosition',\n  overlinethickness: 'overlineThickness',\n  'overline-thickness': 'overlineThickness',\n  paintorder: 'paintOrder',\n  'paint-order': 'paintOrder',\n  panose1: 'panose1',\n  'panose-1': 'panose1',\n  pathlength: 'pathLength',\n  patterncontentunits: 'patternContentUnits',\n  patterntransform: 'patternTransform',\n  patternunits: 'patternUnits',\n  pointerevents: 'pointerEvents',\n  'pointer-events': 'pointerEvents',\n  points: 'points',\n  pointsatx: 'pointsAtX',\n  pointsaty: 'pointsAtY',\n  pointsatz: 'pointsAtZ',\n  prefix: 'prefix',\n  preservealpha: 'preserveAlpha',\n  preserveaspectratio: 'preserveAspectRatio',\n  primitiveunits: 'primitiveUnits',\n  property: 'property',\n  r: 'r',\n  radius: 'radius',\n  refx: 'refX',\n  refy: 'refY',\n  renderingintent: 'renderingIntent',\n  'rendering-intent': 'renderingIntent',\n  repeatcount: 'repeatCount',\n  repeatdur: 'repeatDur',\n  requiredextensions: 'requiredExtensions',\n  requiredfeatures: 'requiredFeatures',\n  resource: 'resource',\n  restart: 'restart',\n  result: 'result',\n  results: 'results',\n  rotate: 'rotate',\n  rx: 'rx',\n  ry: 'ry',\n  scale: 'scale',\n  security: 'security',\n  seed: 'seed',\n  shaperendering: 'shapeRendering',\n  'shape-rendering': 'shapeRendering',\n  slope: 'slope',\n  spacing: 'spacing',\n  specularconstant: 'specularConstant',\n  specularexponent: 'specularExponent',\n  speed: 'speed',\n  spreadmethod: 'spreadMethod',\n  startoffset: 'startOffset',\n  stddeviation: 'stdDeviation',\n  stemh: 'stemh',\n  stemv: 'stemv',\n  stitchtiles: 'stitchTiles',\n  stopcolor: 'stopColor',\n  'stop-color': 'stopColor',\n  stopopacity: 'stopOpacity',\n  'stop-opacity': 'stopOpacity',\n  strikethroughposition: 'strikethroughPosition',\n  'strikethrough-position': 'strikethroughPosition',\n  strikethroughthickness: 'strikethroughThickness',\n  'strikethrough-thickness': 'strikethroughThickness',\n  string: 'string',\n  stroke: 'stroke',\n  strokedasharray: 'strokeDasharray',\n  'stroke-dasharray': 'strokeDasharray',\n  strokedashoffset: 'strokeDashoffset',\n  'stroke-dashoffset': 'strokeDashoffset',\n  strokelinecap: 'strokeLinecap',\n  'stroke-linecap': 'strokeLinecap',\n  strokelinejoin: 'strokeLinejoin',\n  'stroke-linejoin': 'strokeLinejoin',\n  strokemiterlimit: 'strokeMiterlimit',\n  'stroke-miterlimit': 'strokeMiterlimit',\n  strokewidth: 'strokeWidth',\n  'stroke-width': 'strokeWidth',\n  strokeopacity: 'strokeOpacity',\n  'stroke-opacity': 'strokeOpacity',\n  suppresscontenteditablewarning: 'suppressContentEditableWarning',\n  suppresshydrationwarning: 'suppressHydrationWarning',\n  surfacescale: 'surfaceScale',\n  systemlanguage: 'systemLanguage',\n  tablevalues: 'tableValues',\n  targetx: 'targetX',\n  targety: 'targetY',\n  textanchor: 'textAnchor',\n  'text-anchor': 'textAnchor',\n  textdecoration: 'textDecoration',\n  'text-decoration': 'textDecoration',\n  textlength: 'textLength',\n  textrendering: 'textRendering',\n  'text-rendering': 'textRendering',\n  to: 'to',\n  transform: 'transform',\n  typeof: 'typeof',\n  u1: 'u1',\n  u2: 'u2',\n  underlineposition: 'underlinePosition',\n  'underline-position': 'underlinePosition',\n  underlinethickness: 'underlineThickness',\n  'underline-thickness': 'underlineThickness',\n  unicode: 'unicode',\n  unicodebidi: 'unicodeBidi',\n  'unicode-bidi': 'unicodeBidi',\n  unicoderange: 'unicodeRange',\n  'unicode-range': 'unicodeRange',\n  unitsperem: 'unitsPerEm',\n  'units-per-em': 'unitsPerEm',\n  unselectable: 'unselectable',\n  valphabetic: 'vAlphabetic',\n  'v-alphabetic': 'vAlphabetic',\n  values: 'values',\n  vectoreffect: 'vectorEffect',\n  'vector-effect': 'vectorEffect',\n  version: 'version',\n  vertadvy: 'vertAdvY',\n  'vert-adv-y': 'vertAdvY',\n  vertoriginx: 'vertOriginX',\n  'vert-origin-x': 'vertOriginX',\n  vertoriginy: 'vertOriginY',\n  'vertical-align': 'vertial-align',\n  'vert-origin-y': 'vertOriginY',\n  vhanging: 'vHanging',\n  'v-hanging': 'vHanging',\n  videographic: 'vIdeographic',\n  'v-ideographic': 'vIdeographic',\n  viewbox: 'viewBox',\n  viewtarget: 'viewTarget',\n  visibility: 'visibility',\n  vmathematical: 'vMathematical',\n  'v-mathematical': 'vMathematical',\n  vocab: 'vocab',\n  widths: 'widths',\n  wordspacing: 'wordSpacing',\n  'word-spacing': 'wordSpacing',\n  writingmode: 'writingMode',\n  'writing-mode': 'writingMode',\n  x1: 'x1',\n  x2: 'x2',\n  x: 'x',\n  xchannelselector: 'xChannelSelector',\n  xheight: 'xHeight',\n  'x-height': 'xHeight',\n  xlinkactuate: 'xlinkActuate',\n  'xlink:actuate': 'xlinkActuate',\n  xlinkarcrole: 'xlinkArcrole',\n  'xlink:arcrole': 'xlinkArcrole',\n  xlinkhref: 'xlinkHref',\n  'xlink:href': 'xlinkHref',\n  xlinkrole: 'xlinkRole',\n  'xlink:role': 'xlinkRole',\n  xlinkshow: 'xlinkShow',\n  'xlink:show': 'xlinkShow',\n  xlinktitle: 'xlinkTitle',\n  'xlink:title': 'xlinkTitle',\n  xlinktype: 'xlinkType',\n  'xlink:type': 'xlinkType',\n  xmlbase: 'xmlBase',\n  'xml:base': 'xmlBase',\n  xmllang: 'xmlLang',\n  'xml:lang': 'xmlLang',\n  xmlns: 'xmlns',\n  'xml:space': 'xmlSpace',\n  xmlnsxlink: 'xmlnsXlink',\n  'xmlns:xlink': 'xmlnsXlink',\n  xmlspace: 'xmlSpace',\n  y1: 'y1',\n  y2: 'y2',\n  y: 'y',\n  ychannelselector: 'yChannelSelector',\n  z: 'z',\n  zoomandpan: 'zoomAndPan',\n};\n\nexport default possibleStandardNames;\n","import { createElement } from 'react';\n\ninterface WrapWithOutlineProps {\n  nodeName: string;\n  props: any;\n  children: any;\n  id: number;\n}\n\nconst WrapWithOutline = ({ nodeName, props, children, id }: WrapWithOutlineProps) => {\n  return createElement(\n    nodeName,\n    { ...props, key: id, style: { ...props.style, outline: '2px dashed rgb(121,202,182)' } },\n    children\n  );\n};\n\nexport { WrapWithOutline };\n","import React, { createElement, ReactNode } from 'react';\r\nimport { HtmlWrapper } from '../Components/HtmlWrapper';\r\nimport { logger } from './logger';\r\nimport possibleStandardNames from './reactPropertyNames';\r\nimport { WrapWithOutline } from './wrapWithOutline';\r\n\r\nconst DEBUG = false;\r\n\r\nexport const domParser: any = new DOMParser();\r\n\r\nexport const htmlProcessor = (html: string): ReactNode => {\r\n  if (typeof html !== 'string') {\r\n    logger.error('htmlParser: html is not a string');\r\n    return React.createElement('div', {}, 'errors: please check dev console') as ReactNode;\r\n  }\r\n\r\n  let doc = domParser.parseFromString(html, 'text/html');\r\n\r\n  if (doc === null) {\r\n    logger.error('htmlParser: doc is null, unable to process html');\r\n    return React.createElement('p', {}, 'errors: please check dev console') as ReactNode;\r\n  }\r\n  return converter(doc as unknown as HTMLElement, 1);\r\n};\r\n\r\nconst converter = (element: HTMLElement, key = 0) => {\r\n  if (element === undefined) {\r\n    return;\r\n  }\r\n\r\n  let nodeName = element.nodeName.toLowerCase();\r\n\r\n  // meta, script, style, ..etc, tags don't have children,\r\n  if (\r\n    nodeName === 'script' ||\r\n    nodeName === 'style' ||\r\n    nodeName === 'meta' ||\r\n    nodeName === 'link' ||\r\n    nodeName === 'title' ||\r\n    nodeName === 'br'\r\n  ) {\r\n    if (nodeName === 'meta') {\r\n      let el = element as HTMLMetaElement;\r\n      return React.createElement(\r\n        nodeName,\r\n        { httpEquiv: el.httpEquiv, content: el.content, key: nodeName + key++ },\r\n        null\r\n      );\r\n    }\r\n    if (nodeName === 'link') {\r\n      let el = element as HTMLLinkElement;\r\n      let type = null;\r\n      if (el.type) {\r\n        type = el.type;\r\n      }\r\n      return React.createElement(\r\n        nodeName,\r\n        {\r\n          href: el.href,\r\n          rel: el.rel,\r\n          type,\r\n          key: nodeName + key++,\r\n        },\r\n        null\r\n      );\r\n    }\r\n    if (nodeName === 'br') {\r\n      return React.createElement(nodeName, { key: nodeName + key++ }, null);\r\n    }\r\n\r\n    return React.createElement(nodeName, {\r\n      dangerouslySetInnerHTML: { __html: element.innerHTML, key: nodeName + key++ },\r\n    });\r\n  }\r\n\r\n  let attributes: { [key: string]: string | { [key: string]: string } | any } = {};\r\n\r\n  for (var i = 0; element.attributes && i < element.attributes.length; i++) {\r\n    let attribute = element.attributes[i];\r\n    let reactName = possibleStandardNames[attribute.name];\r\n\r\n    if (reactName === undefined) {\r\n      reactName = toCamelCase(attribute.name);\r\n      const msg = `htmlParser: ${attribute.name} is not found in possible attributes,\r\n      using ${reactName} instead.`;\r\n      DEBUG && logger.error(msg, element);\r\n    }\r\n\r\n    let value = attribute.name === 'style' ? convertStyleStringToObject(attribute.value) : attribute.value.trim();\r\n\r\n    attributes[reactName] = value;\r\n  }\r\n\r\n  attributes['key'] = key++;\r\n\r\n  let children: ReactNode[] = [];\r\n\r\n  if (element.className && element.className.includes('mj-text')) {\r\n    // if element is mj-text, we edit it with customInlineEditor by making div 'contentEditable' true.\r\n    //  do not handle children in react.\r\n\r\n    const original = {\r\n      nodeName,\r\n      props: { ...attributes },\r\n      children: [createElement('span', { dangerouslySetInnerHTML: { __html: element.innerHTML } })],\r\n    };\r\n\r\n    return <HtmlWrapper uniqueKey={key++} originalNode={original} />;\r\n  }\r\n\r\n  for (let i = 0; i < element.childNodes.length; i++) {\r\n    let child = element.childNodes[i];\r\n\r\n    if (child['nodeName'] === '#text') {\r\n      if (child.textContent) {\r\n        // remove all new line characters & trim, problem with user's text content\r\n        //   is handled before this section in 'mj-text'\r\n        const content = child.textContent.replaceAll('\\n', '').trim();\r\n        if (content) {\r\n          children.push(content);\r\n        }\r\n      }\r\n      continue;\r\n    }\r\n\r\n    if (child['nodeName'] === '#comment') {\r\n      continue;\r\n    }\r\n\r\n    if (nodeName !== 'script' && nodeName !== 'style') {\r\n      children.push(converter(child as HTMLElement, key++));\r\n    }\r\n  }\r\n  if (element.classList && element.classList.contains('mjml-tag')) {\r\n    DEBUG && logger.info(`identified mjml-tag for : ${nodeName}, with attributes: ${JSON.stringify(attributes)}`);\r\n    // const ReactNode = React.createElement(nodeName, { key: key++, ...attributes }, children);\r\n    const original = { nodeName, props: { ...attributes }, children };\r\n\r\n    return <HtmlWrapper uniqueKey={key++} originalNode={original} />;\r\n    // return <HtmlWrapper children={ReactNode} key={key++} originalNode={original} />;\r\n  }\r\n\r\n  // process placehodler item differently, if mj-text is placer, the wrapper is td,\r\n  //    td does not obey border properties, so outline can be used.\r\n  if (element.classList && element.classList.contains('placeitem-placeholder')) {\r\n    return <WrapWithOutline id={key++} nodeName={nodeName} props={{ ...attributes }} children={children} />;\r\n  }\r\n\r\n  // if root document, create it with div,\r\n  // todo: rnd if this document can be abstracted from the main document,\r\n  if (nodeName === '#document') {\r\n    nodeName = 'div';\r\n  }\r\n\r\n  // remove href in link\r\n  if (nodeName === 'a') {\r\n    delete attributes['href'];\r\n    delete attributes['target'];\r\n  }\r\n\r\n  // img tag should not have child param passed to it\r\n  if (nodeName === 'img') {\r\n    return React.createElement(nodeName, { key: key++, ...attributes }, null);\r\n  } else if (element.nodeType === 3) {\r\n    return React.createElement(nodeName, { ...attributes, key: key++ }, element.textContent);\r\n  }\r\n\r\n  return React.createElement(nodeName, attributes, children);\r\n};\r\n\r\nconst convertStyleStringToObject = (style: string) => {\r\n  let styleObject: { [key: string]: string } = {};\r\n\r\n  //  edgecase\r\n  //  \"background:#ffffff url('background:#ffffff url('https://lh3.googleusercontent.com/-y_e1bS8pZSc/YKkCKwNrxgI/AAAAAAAADuY/l1ygemViAp8ZXd44mAvqypqg7zsTD2gIACLcBGAsYHQ/s1600/1621688872017805-1.png') center top / auto repeat;') center top / auto repeat;background-position:center top;background-repeat:repeat;background-size:auto;margin:0px auto;border-radius:0px;max-width:600px;\"\r\n  // https://stackoverflow.com/a/9219386/6843092, with negative lookahead\r\n  let styleArray = style.split(/;+(?![^(]*\\))/g);\r\n\r\n  for (let i = 0; i < styleArray.length; i++) {\r\n    if (styleArray[i] === '') {\r\n      continue;\r\n    }\r\n\r\n    // bug while parsing\r\n    // 'background:#ffffff url('https://...') center top / auto repeat;'\r\n    let [key, ..._value] = styleArray[i].split(':');\r\n\r\n    let stylePair = [key, _value.join(':')];\r\n    let property = stylePair[0].trim();\r\n    property = toCamelCase(property);\r\n    let value = stylePair[1].trim();\r\n    styleObject[property] = value;\r\n  }\r\n\r\n  return styleObject;\r\n};\r\n\r\nconst toCamelCase = (str: string) => {\r\n  return str.replace(/([-_][a-z])/gi, ($1) => {\r\n    return $1.toUpperCase().replace('-', '').replace('_', '');\r\n  });\r\n};\r\n","// remove the empty placeholder-banner if present\nconst removePlaceholderBanner = (item: any) => {\n  if (item && item.children) {\n    item.children = item.children.filter((config: any) => {\n      if (config && config['attributes'] && config['attributes']['css-class']) {\n        return !config['attributes']['css-class'].includes('mj-placeholder');\n      }\n      return true;\n    });\n  }\n  return item;\n};\n\nconst insertAtPlaceholderIndicatorPosition = (item: any, itemToInsert: any) => {\n  if (item.tagName !== 'mj-body' && item.children && item.children.length) {\n    // place the dropped config in the placeholder position, this only is needed for\n    //   items, which has children\n    for (var i = 0; i < item.children.length; i++) {\n      const child = item.children[i];\n      const cssClass = child.attributes['css-class'];\n      if (cssClass && cssClass.includes('placeitem-placeholder')) {\n        item.children[i] = itemToInsert;\n        continue;\n      }\n      item.children[i] = child;\n    }\n  } else {\n    // children are empty\n    item.children.push(itemToInsert);\n  }\n\n  return item;\n};\n\nexport { removePlaceholderBanner, insertAtPlaceholderIndicatorPosition };\n","import { message } from 'antd';\nimport _ from 'lodash';\nimport { error } from '../Components/Messages';\nimport { columnPlaceholder } from '../Components/Section';\nimport {\n  findClosestParent,\n  findUniqueIdentifier,\n  generateUniqueIdRecursively,\n  getIndexOfElementInParent,\n} from './closestParent';\nimport { findElementInJson } from './findElementInMjmlJson';\nimport { logger } from './logger';\nimport { cleanMjmlJson } from './mjmlProcessor';\nimport { insertAtPlaceholderIndicatorPosition, removePlaceholderBanner } from './removePlaceholders';\nimport { UNDOREDO } from './undoRedo';\n\ninterface AddProps {\n  target: HTMLElement;\n  droppedConfig: any;\n  mjmlJson: any;\n  setMjmlJson: any;\n  uid: () => string;\n}\n\nconst Add = ({ target, droppedConfig, setMjmlJson, mjmlJson, uid }: AddProps) => {\n  let uniqueClassName = findClosestParent(target);\n\n  if (!uniqueClassName) {\n    const cleanedMjmlJson = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleanedMjmlJson });\n    return null;\n  }\n\n  if (droppedConfig.tagName !== 'mj-section') {\n    if (uniqueClassName === 'identifier-mj-body' || uniqueClassName === 'identifier-mj-section') {\n      const cleanedMjmlJson = cleanMjmlJson(mjmlJson);\n      setMjmlJson({ ...cleanedMjmlJson });\n      message.error('Use a section to place the item');\n      return null;\n    }\n  }\n\n  if (droppedConfig.tagName && droppedConfig.tagName === 'mj-section') {\n    if (uniqueClassName !== 'identifier-mj-body') {\n      const msg = 'Sections can not be nested! it will break mobile design';\n      message.info(msg);\n      logger.log(`operation add: ${msg}`);\n      return;\n    }\n  }\n\n  let droppedConfigWithUid = _.cloneDeep(droppedConfig);\n  droppedConfigWithUid = generateUniqueIdRecursively(droppedConfigWithUid, uid);\n\n  const ObjectEquivalent = findElementInJson(_.cloneDeep(mjmlJson), uniqueClassName);\n\n  if (!ObjectEquivalent) {\n    return null;\n  }\n\n  let [item, path] = ObjectEquivalent;\n  logger.info('operation add: item in Object:', item, 'path to Object:', path);\n\n  item = removePlaceholderBanner(item);\n\n  item = insertAtPlaceholderIndicatorPosition(item, droppedConfigWithUid);\n\n  if (UNDOREDO.isUndoEmpty()) {\n    UNDOREDO.newAction(cleanMjmlJson(_.cloneDeep(mjmlJson)));\n  }\n\n  let updated = _.set(mjmlJson, path.slice(1), item);\n  updated = cleanMjmlJson(updated);\n  UNDOREDO.newAction(updated);\n  setMjmlJson({ ...updated });\n};\n\ninterface AddAtIndexProps {\n  droppedConfig: any;\n  mjmlJson: any;\n  setMjmlJson: any;\n  uid: () => string;\n  parentUniqueClassIdentifier: string;\n  index: number;\n}\n\nconst AddAtIndex = ({\n  droppedConfig,\n  setMjmlJson,\n  mjmlJson,\n  uid,\n  parentUniqueClassIdentifier,\n  index,\n}: AddAtIndexProps) => {\n  let uniqueClassName = parentUniqueClassIdentifier;\n\n  if (!uniqueClassName) {\n    const cleanedMjmlJson = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleanedMjmlJson });\n    return null;\n  }\n\n  let droppedConfigWithUid = _.cloneDeep(droppedConfig);\n  droppedConfigWithUid = generateUniqueIdRecursively(droppedConfigWithUid, uid);\n\n  const ObjectEquivalent = findElementInJson(mjmlJson, uniqueClassName);\n\n  if (!ObjectEquivalent) {\n    return null;\n  }\n\n  let [item, path] = ObjectEquivalent;\n  logger.info('operation add: item in Object:', item, 'path to Object:', path);\n\n  item = removePlaceholderBanner(item);\n\n  // insert the dropped config at the specified location\n  if (index > -1) {\n    for (var i = 0; item && item.children && i < item.children.length; i++) {\n      if (i === index) {\n        item.children.splice(i, 0, droppedConfigWithUid);\n      }\n    }\n  }\n  let updated = _.set(mjmlJson, path.slice(1), item);\n  updated = cleanMjmlJson(updated);\n\n  UNDOREDO.newAction(updated);\n  setMjmlJson({ ...updated });\n};\n\ninterface RemoveProps {\n  target?: HTMLElement | undefined;\n  uniqueClassName?: string;\n  mjmlJson: any;\n  setMjmlJson: any;\n  setDelActive: any;\n  setCopyActive: any;\n  setActive: any;\n  movement?: boolean;\n}\n\nconst Remove = ({\n  target,\n  uniqueClassName: ucn,\n  mjmlJson,\n  setMjmlJson,\n  setDelActive,\n  setCopyActive,\n  setActive,\n  movement,\n}: RemoveProps) => {\n  let uniqueClassName;\n  if (target) {\n    uniqueClassName = findClosestParent(target);\n  } else if (ucn) {\n    uniqueClassName = ucn;\n  } else {\n    logger.info(`operation remove: either target/uniqueClassName must be provided \n      to perform this operation\n    `);\n    return;\n  }\n  if (!uniqueClassName) {\n    return null;\n  }\n\n  const ObjectEquivalent = findElementInJson(mjmlJson, uniqueClassName);\n  if (!ObjectEquivalent) {\n    return null;\n  }\n\n  let [, path]: [any, string] = ObjectEquivalent;\n  let parent: any = path.split('.');\n  const last: string = parent.pop();\n  parent = parent.join('.');\n  let item = _.get(mjmlJson, parent.slice(1));\n  const regExMatch = last.match(/\\[(.*?)\\]/);\n\n  if (regExMatch) {\n    const indexToRemove = parseInt(regExMatch[1]);\n    let newChildren = [];\n    for (var i = 0; item && item.children && i < item.children.length; i++) {\n      if (i !== indexToRemove) {\n        newChildren.push(item.children[i]);\n      }\n    }\n\n    // if column is empty, fill it with placeholder\n    if (parent) {\n      const parentItem = _.get(mjmlJson, parent.slice(1));\n\n      if (parentItem.tagName && parentItem.tagName === 'mj-column' && newChildren.length === 0) {\n        newChildren = columnPlaceholder;\n      }\n    }\n\n    item.children = newChildren;\n  }\n\n  setActive(null);\n  const updated = _.set(mjmlJson, parent.slice(1), item);\n  if (updated) {\n    setDelActive(false);\n    setCopyActive(false);\n    setMjmlJson({ ...updated });\n    // for moving elements in editor,\n    //   the way it works is that the element is removed from the parent first,\n    //   then the placeholder is replaced with the element\n    //   for undo action dont need to show the process\n    if (!movement) {\n      UNDOREDO.newAction(updated);\n    }\n  } else {\n    logger.info('operation remove: unable to delete the item');\n  }\n};\n\ninterface UpdateValueProps {\n  visible: boolean | null;\n  path: string;\n  mjmlJson: any;\n  setMjmlJson: any;\n  attribute: string;\n  value: any;\n}\n\nconst UpdateValue = ({ visible, path, mjmlJson, setMjmlJson, attribute, value }: UpdateValueProps) => {\n  if (visible && path) {\n    let item = _.get(mjmlJson, path, visible);\n    if (item) {\n      if (item['attributes'] && item['attributes'][attribute] !== value) {\n        item['attributes'][attribute] = value;\n        const updated = _.set(mjmlJson, path, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  }\n};\n\ninterface CopyProps extends Exclude<RemoveProps, 'uniqueClassName'> {\n  target: HTMLElement;\n  uidGenerator: () => string;\n}\n\nconst Copy = ({ mjmlJson, setActive, setMjmlJson, setCopyActive, setDelActive, target, uidGenerator }: CopyProps) => {\n  const uniqueIdentifier = findUniqueIdentifier(target, target.classList);\n  let parentUniqueIdentifier = '';\n  let index = -1;\n\n  if (uniqueIdentifier) {\n    const _ = getIndexOfElementInParent(target, mjmlJson, uniqueIdentifier);\n    if (_ && typeof _[0] === 'number' && typeof _[1] === 'string') {\n      [index, parentUniqueIdentifier] = _;\n    } else {\n      message.error('Unable to copy element');\n      return;\n    }\n  }\n\n  let copyOfConfig = findElementInJson(mjmlJson, uniqueIdentifier);\n  if (copyOfConfig && index > -1) {\n    [copyOfConfig] = copyOfConfig;\n    setCopyActive(false);\n    setDelActive(false);\n    setActive(null);\n\n    return AddAtIndex({\n      droppedConfig: _.cloneDeep(copyOfConfig),\n      setMjmlJson,\n      mjmlJson,\n      uid: uidGenerator,\n      index,\n      parentUniqueClassIdentifier: parentUniqueIdentifier,\n    });\n  }\n};\n\nexport { Add, Remove, UpdateValue, Copy };\n","const findTextNode = (node: any): any => {\n  if (node.nodeType === 3) {\n    return node;\n  }\n\n  for (let i = 0; node.childNodes && i < node.childNodes.length; i++) {\n    const textNode = findTextNode(node.childNodes[i]);\n    if (textNode) {\n      return closestDivToTextNode(textNode);\n    }\n  }\n};\n\nconst closestDivToTextNode = (node: any): any => {\n  if (!node) {\n    return null;\n  }\n  if (node.nodeType === 3) {\n    return closestDivToTextNode(node.parentNode);\n  }\n\n  const element = node;\n\n  if (element.nodeType === 1) {\n    const closestDiv = element.closest('div');\n    return closestDiv;\n  }\n\n  return element;\n};\n\nexport { findTextNode };\n","import { createContext, FC, useState } from 'react';\n\nexport const QuillContext = createContext<any>(null);\n\nexport const QuillEditor: FC = (props) => {\n  const [QuillActive, setQuillActive] = useState(false);\n  const [quillEditor, setQuillEditor] = useState<any>(null);\n  const [quillX, setQuillX] = useState(0);\n  const [quillY, setQuillY] = useState(0);\n\n  return (\n    <QuillContext.Provider\n      value={{\n        QuillActive,\n        setQuillActive,\n        quillEditor,\n        setQuillEditor,\n        quillX,\n        quillY,\n        setQuillX,\n        setQuillY,\n      }}\n    >\n      {props.children}\n    </QuillContext.Provider>\n  );\n};\n","import { useContext } from 'react';\nimport { QuillContext } from '../Context/Quill.context';\n\nexport const useQuillEditor = () => {\n  const Quill = useContext(QuillContext);\n  return Quill as unknown as {\n    QuillActive: boolean;\n    setQuillActive: (args: boolean) => void;\n    quillEditor: any;\n    setQuillEditor: (args: any) => void;\n    quillX: number;\n    quillY: number;\n    setQuillX: (args: number) => void;\n    setQuillY: (args: number) => void;\n  };\n};\n","import { createContext, FC, useEffect, useMemo, useRef } from 'react';\n\nconst def = {\n  mutableAttributes: {},\n  id: '',\n  type: '',\n};\n\nexport const DragAndCropContext = createContext<any>(def);\n\nexport const DNDContext: FC = (props) => {\n  const ref = useRef(1);\n\n  const genId = () => {\n    if (ref.current && typeof ref.current === 'number') {\n      return ++ref.current;\n    }\n  };\n\n  return <DragAndCropContext.Provider value={{ genId }}>{props.children}</DragAndCropContext.Provider>;\n};\n","import { useContext } from 'react';\nimport { DragAndCropContext } from '../Context/DragAndDrop.context';\n\nconst useDragAndDropUniqueId = () => {\n  const { genId } = useContext(DragAndCropContext);\n  return {\n    getId: () => genId(),\n  };\n};\n\nexport { useDragAndDropUniqueId, useDragAndDropUniqueId as useUniqueIdGenerator };\n","import { CKEditor } from '@ckeditor/ckeditor5-react';\nimport { Button, Popconfirm } from 'antd';\nimport ED from 'ckeditor5-custom-build/build/ckeditor';\nimport { useEffect, useMemo } from 'react';\nimport { useCkeditor } from '../../Hooks/Ckeditor.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { Remove, Copy as CopyOperation } from '../../Utils/operations';\nimport { findTextNode } from '../../Utils/findTextNode';\nimport Quill from 'quill';\nimport { useQuillEditor } from '../../Hooks/Quill.hook';\nimport { findUniqueIdentifier } from '../../Utils/closestParent';\nimport { findElementInJson } from '../../Utils/findElementInMjmlJson';\nimport _ from 'lodash';\nimport CopyFilled from '@ant-design/icons/lib/icons/CopyFilled';\nimport DeleteFilled from '@ant-design/icons/lib/icons/DeleteFilled';\nimport { useUniqueIdGenerator } from '../../Hooks/Drag.hook';\nimport { logger } from '../../Utils/logger';\n\nexport const Editor = () => {\n  const { ref, isActive, x, y, delActive, delX, delY, setDelActive, copy } = useCkeditor();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { active, setActive } = useHtmlWrapper();\n  const { QuillActive, quillX, quillY, setQuillEditor, setQuillActive } = useQuillEditor();\n  let { quillEditor } = useQuillEditor();\n  const { copyActive, setCopyActive, copyX, copyY } = copy;\n  const { getId } = useUniqueIdGenerator();\n\n  useEffect(() => {\n    if (quillEditor) {\n      const identifier = findUniqueIdentifier(active, active.classList);\n      quillEditor.on('text-change', () => {\n        const change = quillEditor.container.firstChild.innerHTML;\n        logger.log(change);\n        if (identifier) {\n          let position = findElementInJson(mjmlJson, identifier);\n          if (position) {\n            let [, path] = position;\n            let item = _.get(mjmlJson, path.slice(1));\n            item.content = change;\n            const updated = _.set(mjmlJson, path.slice(1), item);\n            setMjmlJson({ ...updated });\n          }\n        }\n      });\n    }\n    return () => quillEditor && quillEditor.off('text-change');\n  }, [quillEditor]);\n\n  useEffect(() => {\n    if (active && QuillActive) {\n      let textNode = findTextNode(active);\n\n      if (quillEditor) {\n        // previous instance listeners\n        quillEditor.off('text-change');\n      }\n\n      if (textNode) {\n        // fix for QuillWrapper keeps wrapping up an extra div on init\n        while (textNode.parentElement.classList.contains('ql-container') || textNode.hasAttribute('data-gramm')) {\n          textNode = textNode.parentElement;\n        }\n        if (textNode.classList.contains('ql-container')) {\n          textNode.classList.remove('ql-container');\n          textNode.classList.remove('ql-snow');\n        }\n\n        let lquill: any = new Quill(textNode, { theme: 'snow', modules: { toolbar: '#toolbarContainer' } });\n\n        // fix for allowing multiple instances,\n        // on how it works refer, 'https://github.com/quilljs/quill/blob/develop/modules/toolbar.js'\n        // pain \\u{1F63F}\n        lquill.getModule('toolbar').container.childNodes.forEach((element: any) => {\n          const clone = element.cloneNode(true);\n          element.parentNode.replaceChild(clone, element);\n        });\n\n        let toolbar = lquill.getModule('toolbar');\n\n        toolbar.container.childNodes.forEach((input: any) => {\n          toolbar.attach(input);\n        }, toolbar);\n\n        setQuillEditor(lquill);\n        lquill.editor.scroll.domNode.classList.remove('ql-editor');\n\n        // remove clipboard and tooltip\n        lquill.container.children[1].remove();\n        lquill.container.children[1].remove();\n        lquill = undefined;\n      }\n    }\n  }, [active]);\n\n  const deleteConfirm = useMemo(\n    () => () => {\n      if (active) {\n        // setQuillActive(false);\n        Remove({ target: active, mjmlJson, setMjmlJson, setDelActive, setActive, setCopyActive });\n      }\n    },\n    [active]\n  );\n\n  const copyAction = () => {\n    if (active) {\n      CopyOperation({\n        mjmlJson,\n        setActive,\n        setMjmlJson,\n        setCopyActive,\n        setDelActive,\n        target: active,\n        uidGenerator: getId,\n      });\n    }\n  };\n\n  return (\n    <>\n      {/* <div\n        id=\"toolbarContainer\"\n        style={{\n          visibility: QuillActive ? 'visible' : 'hidden',\n          backgroundColor: '#fff',\n          zIndex: 99,\n          position: 'fixed',\n          left: `${quillX}px`,\n          top: `${quillY}px`,\n        }}\n      >\n        <button className=\"ql-bold\"></button>\n        <button className=\"ql-italic\"></button>\n        <button className=\"ql-underline\"></button>\n        <button className=\"ql-script\" value=\"sub\"></button>\n        <button className=\"ql-script\" value=\"super\"></button>\n      </div> */}\n\n      {/* <div\n        key=\"editorContainer\"\n        id=\"editorContainer\"\n        ref={ref}\n        style={{ display: isActive ? 'block' : 'none', position: 'fixed', left: `${x}px`, top: `${y}px` }}\n      >\n        <div key=\"editor\">\n          <CKEditor\n            editor={ED}\n            disabled={false}\n            config={{\n              toolbar: [\n                'fontSize',\n                'fontColor',\n                'FontFamily',\n                'FontBackgroundColor',\n                '|',\n                'heading',\n                '|',\n                'bold',\n                'italic',\n                '|',\n                'undo',\n                'redo',\n                'insertTable',\n              ],\n            }}\n            data={'placement'}\n            onReady={(editor) => {}}\n            onChange={(event, editor) => {}}\n            onBlur={(event, editor) => {}}\n            onFocus={(event, editor) => {}}\n          />\n        </div>\n      </div> */}\n      <Delete\n        style={{\n          zIndex: 200,\n          display: delActive ? 'block' : 'none',\n          position: 'fixed',\n          left: `${delX}px`,\n          top: `${delY}px`,\n        }}\n        deleteConfirm={deleteConfirm}\n      />\n      <Copy\n        onClick={copyAction}\n        style={{\n          zIndex: 200,\n          display: copyActive ? 'block' : 'none',\n          position: 'fixed',\n          left: `${copyX}px`,\n          top: `${copyY}px`,\n        }}\n      />\n    </>\n  );\n};\n\ninterface DeleteProps {\n  style: any;\n  deleteConfirm: () => void;\n}\n\nconst Delete = ({ style, deleteConfirm }: DeleteProps) => {\n  return (\n    <Popconfirm placement=\"right\" title=\"Are you sure ?\" okText=\"Delete\" cancelText=\"Cancel\" onConfirm={deleteConfirm}>\n      <Button style={style} type=\"primary\" icon={<DeleteFilled />} />\n    </Popconfirm>\n  );\n};\n\ninterface CopyProps {\n  style: any;\n  onClick: () => void;\n}\n\nconst Copy = ({ style, onClick }: CopyProps) => {\n  return <Button style={style} onClick={onClick} type=\"primary\" icon={<CopyFilled />} />;\n};\n","import { UndoOutlined, RedoOutlined } from '@ant-design/icons';\nimport { Button, Tooltip } from 'antd';\nimport { UNDOREDO } from '../Utils/undoRedo';\n\ninterface UndoRedoProps {\n  undoCallback: () => void;\n  redoCallback: () => void;\n}\n\nconst UndoRedo = ({ undoCallback, redoCallback }: UndoRedoProps) => {\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        padding: '8px',\n        display: 'flex',\n        flexDirection: 'column',\n        rowGap: '4px',\n        zIndex: 200,\n      }}\n    >\n      <Tooltip mouseEnterDelay={0.5} color=\"cyan\" title=\"undo\" placement=\"right\">\n        <Button\n          disabled={UNDOREDO.isUndoEmpty()}\n          onClick={undoCallback}\n          type=\"default\"\n          size=\"large\"\n          style={{ background: '#fff' }}\n          icon={<UndoOutlined />}\n        />\n      </Tooltip>\n\n      <Tooltip mouseEnterDelay={0.5} color=\"cyan\" title=\"redo\" placement=\"right\">\n        <Button\n          disabled={UNDOREDO.isRedoEmpty()}\n          onClick={redoCallback}\n          type=\"default\"\n          style={{ background: '#fff' }}\n          size=\"large\"\n          icon={<RedoOutlined />}\n        />\n      </Tooltip>\n    </div>\n  );\n};\n\nexport { UndoRedo };\n","import { useEditor } from '../../Hooks/Editor.hook';\nimport mjml2html from 'mjml-browser';\nimport css from './Editor.module.scss';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport { htmlProcessor } from '../../Utils/htmlProcessor';\nimport { Editor } from '../../Components/Mods/Editor';\nimport { Add, Remove } from '../../Utils/operations';\nimport { useDragAndDropUniqueId } from '../../Hooks/Drag.hook';\nimport '../../Assets/Css/ckeditorOverride.css';\nimport '../../Assets/Css/quillOverride.css';\nimport { InlineEditor } from '../../Components/Mods/CustomInlineEditor';\nimport styled from 'styled-components';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { useCkeditor } from '../../Hooks/Ckeditor.hook';\nimport { memo, useCallback, useEffect } from 'react';\nimport { UndoRedo } from '../../Components/UndoRedo';\nimport _ from 'lodash';\nimport { UNDOREDO } from '../../Utils/undoRedo';\nimport { logger } from '../../Utils/logger';\n\ninterface ViewProps {}\n\nconst DesignContainer = styled('div')`\n  .editor-active {\n    :focus {\n      outline: none;\n    }\n  }\n`;\n\nexport const View = (props: ViewProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getId } = useDragAndDropUniqueId();\n  const { setActive, active } = useHtmlWrapper();\n  const {\n    setDelActive,\n    copy,\n    drag: { setIsColumn, isColumn },\n  } = useCkeditor();\n  const { setCopyActive } = copy;\n\n  useEffect(() => {\n    UNDOREDO.print();\n  }, [mjmlJson]);\n\n  const undoCallback = () => {\n    const action = UNDOREDO.undoAction(mjmlJson);\n    if (action) {\n      setMjmlJson({ ...action });\n      setActive(null);\n      setDelActive(false);\n      setCopyActive(false);\n    }\n  };\n  const redoCallback = () => {\n    const action = UNDOREDO.redoAction(mjmlJson);\n    if (action) {\n      setActive(null);\n      setMjmlJson({ ...action });\n      setDelActive(false);\n      setCopyActive(false);\n    }\n  };\n\n  const onDragOver = useCallback(\n    (e: any) => {\n      if (active) {\n        setActive(null);\n      }\n      e.preventDefault();\n    },\n    [setActive, active]\n  );\n\n  const onDrop = (e: any) => {\n    e.preventDefault();\n    isColumn && setIsColumn(false);\n    let config = JSON.parse(e.dataTransfer.getData('config'));\n    if (config && config.mode && config.mode === 'move' && config['config']) {\n      // remove the item old position, before inserting in new position\n      Remove({\n        uniqueClassName: config.uniqueClassName,\n        mjmlJson,\n        setMjmlJson,\n        setActive,\n        setDelActive,\n        setCopyActive,\n        movement: true,\n      });\n      logger.info(`operation move: onDrop -> removed previous instance \n      of config :'${config.uniqueClassName}'`);\n      config = config['config'];\n    }\n    Add({\n      target: e.nativeEvent.target,\n      droppedConfig: config,\n      mjmlJson,\n      setMjmlJson,\n      uid: getId,\n    });\n  };\n\n  return (\n    <Scrollbars style={{ height: '100%' }}>\n      <Editor />\n      <InlineEditor />\n      <UndoRedo undoCallback={undoCallback} redoCallback={redoCallback} />\n      <DesignContainer\n        className={`${css.viewHolder} mjml-wrapper mjml-tag identifier-mj-body`}\n        onDrop={onDrop}\n        onDragOver={onDragOver}\n      >\n        <MjmlProcessor mjml={mjmlJson} isColumn={isColumn} />\n      </DesignContainer>\n    </Scrollbars>\n  );\n};\n\nconst MjmlProcessor = memo(({ mjml, isColumn }: { mjml: any; isColumn: boolean }) => {\n  return mjml && htmlProcessor(mjml2html(mjml).html);\n});\n","import AlignCenterOutlined from '@ant-design/icons/lib/icons/AlignCenterOutlined';\nimport AlignLeftOutlined from '@ant-design/icons/lib/icons/AlignLeftOutlined';\nimport AlignRightOutlined from '@ant-design/icons/lib/icons/AlignRightOutlined';\nimport PicCenterOutlined from '@ant-design/icons/lib/icons/PicCenterOutlined';\nimport { Button, Col, Form, Row, Tooltip } from 'antd';\nimport _ from 'lodash';\nimport { ReactNode } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\n\nconst ATTRIBUTE = 'align';\n\ninterface AlignOptions {\n  title: string;\n  prop: string;\n  component: ReactNode;\n}\n\nconst alignOptions: AlignOptions[] = [\n  { title: 'Left', prop: 'left', component: <AlignLeftOutlined /> },\n  { title: 'Justify', prop: 'justify', component: <PicCenterOutlined /> },\n  { title: 'Center', prop: 'center', component: <AlignCenterOutlined /> },\n  { title: 'Right', prop: 'right', component: <AlignRightOutlined /> },\n];\n\nexport const Align = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { active } = useHtmlWrapper();\n\n  const onClick = (align: string) => {\n    if (active && visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item && item.attributes && item.attributes) {\n        item.attributes['align'] = align;\n        const updated = _.set(mjmlJson, path, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  return visible ? (\n    <Row>\n      <Col flex=\"3\">\n        <Form.Item label=\"Align\"></Form.Item>\n      </Col>\n      <Col flex=\"2\">\n        <Row justify=\"space-between\">\n          {alignOptions.map(({ prop, component, title }, key) => {\n            return (\n              <Col key={key}>\n                <Tooltip title={title}>\n                  <Button onClick={() => onClick(prop)} type=\"ghost\" icon={component} />\n                </Tooltip>\n              </Col>\n            );\n          })}\n        </Row>\n      </Col>\n    </Row>\n  ) : null;\n};\n","// Border Styles from the MDN Docs\n// https://developer.mozilla.org/en-US/docs/Web/CSS/border-style\n\nexport const BORDER_CONFIG = [\n  { label: 'None', value: 'none' },\n  { label: 'Solid', value: 'solid' },\n  { label: 'Dotted', value: 'dotted' },\n  { label: 'Dashed', value: 'dashed' },\n  { label: 'Double', value: 'double' },\n  { label: 'Groove', value: 'groove' },\n  { label: 'Ridge', value: 'ridge' },\n  { label: 'Inset', value: 'inset' },\n  { label: 'Outset', value: 'outset' },\n  { label: 'Hidden', value: 'hidden' },\n];\n","import _ from 'lodash';\nimport { Col, Form, Input, Row, Space, Switch, Typography } from 'antd';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { BorderCollection, BorderDirection } from './BorderCollection';\nimport { useState } from 'react';\n\nconst ATTRIBUTE = 'border';\n\ninterface BorderProps {\n  activePath?: string;\n  label?: string;\n  attribute_name?: string;\n}\n\nexport const Border = ({ activePath, label, attribute_name }: BorderProps) => {\n  let attributeName = attribute_name || ATTRIBUTE;\n  const [isAdvanced, setIsAdvanced] = useState<boolean>(false);\n\n  // CHANGES FOR ADVANCED OPTION UI CHANGE\n  // possibility of 'border' be not present, but one-of 'border-left' 'right' 'bottom' 'right' be present\n  // change this to 'onMount' nd check.\n  const [visible, _path] = useVisibility({ attribute: attributeName, customPath: activePath });\n\n  return visible ? (\n    <Form.Item>\n      <Row justify=\"space-between\">\n        <Col flex=\"none\">\n          <Typography.Text>{label ? label : 'Border Control :'}</Typography.Text>\n        </Col>\n        <Col flex=\"none\">\n          <Typography.Text style={{ paddingRight: '8px', fontSize: '12px' }}>Advanced</Typography.Text>\n          <Switch size=\"small\" checked={isAdvanced} onChange={() => setIsAdvanced(!isAdvanced)} />\n        </Col>\n      </Row>\n\n      <Row style={{ paddingTop: '8px' }} gutter={[24, 16]}>\n        <Col span={24} style={{ display: !isAdvanced ? 'block' : 'none' }}>\n          <Typography.Text style={{ fontSize: '12px' }}>All Directions </Typography.Text>\n          <BorderCollection direction={BorderDirection.All} activePath={activePath} />\n        </Col>\n        <Col span={12} style={{ display: isAdvanced ? 'block' : 'none' }}>\n          <Typography.Text style={{ fontSize: '12px' }}>Top</Typography.Text>\n          <BorderCollection direction={BorderDirection.Top} activePath={activePath} />\n        </Col>\n\n        <Col span={12} style={{ display: isAdvanced ? 'block' : 'none' }}>\n          <Typography.Text style={{ fontSize: '12px' }}>Right</Typography.Text>\n          <BorderCollection direction={BorderDirection.Right} activePath={activePath} />\n        </Col>\n\n        <Col span={12} style={{ display: isAdvanced ? 'block' : 'none' }}>\n          <Typography.Text style={{ fontSize: '12px' }}>Left</Typography.Text>\n          <BorderCollection direction={BorderDirection.Left} activePath={activePath} />\n        </Col>\n\n        <Col span={12} style={{ display: isAdvanced ? 'block' : 'none' }}>\n          <Typography.Text style={{ fontSize: '12px' }}>Bottom</Typography.Text>\n          <BorderCollection direction={BorderDirection.Bottom} activePath={activePath} />\n        </Col>\n      </Row>\n    </Form.Item>\n  ) : null;\n};\n","import _ from 'lodash';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Form, Input } from 'antd';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\n\nconst ATTRIBUTE = 'border-radius';\n\ninterface BorderRadiusProps {\n  activePath?: string;\n}\n\nexport const BorderRadius = ({ activePath }: BorderRadiusProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE, customPath: activePath });\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (visible && e.target.value) {\n      if (e.target.value === '') {\n        e.target.value = 'none';\n      }\n      setValue(e.currentTarget.value);\n    }\n  };\n\n  const setValue = (value: string) => {\n    if (path) {\n      if (value === '') {\n        value = 'none';\n      }\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = value;\n      const json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n      e.currentTarget.value = '';\n    }\n\n    if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {\n      e.preventDefault();\n      if (visible) {\n        const attributes = _.get(mjmlJson, path + 'attributes');\n        let value = attributes['border-radius'];\n        const re = new RegExp(/^\\d+/);\n        const match = re.exec(value);\n        let matchedValue = match ? parseInt(match[0]) : 0;\n        if (e.key === 'ArrowUp') {\n          value = value.replace(/^\\d+/, matchedValue + 1);\n        } else if (e.key === 'ArrowDown' && matchedValue > 0) {\n          value = value.replace(/^\\d+/, matchedValue - 1);\n        }\n        e.currentTarget.value = value;\n        setValue(value);\n      }\n    }\n  };\n\n  let value = '';\n  if (visible) {\n    value = _.get(mjmlJson, path + 'attributes.border-radius');\n  }\n\n  return visible ? (\n    <Form.Item label=\"Border Radius\">\n      <Input onChange={handleChange} value={value} onKeyDown={onKeyDown} />\n    </Form.Item>\n  ) : null;\n};\n","import _ from 'lodash';\nimport styled from 'styled-components';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Form, Row } from 'antd';\nimport { ChromePicker } from 'react-color';\nimport { useEffect, useState } from 'react';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { logger } from '../../Utils/logger';\n\nconst ATTRIBUTE = 'container-background-color';\n\nexport const ContainerBackground = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [active, setActive] = useState(() => false);\n  const [color, setColor] = useState(() => '#ccc');\n  const { active: clicked } = useHtmlWrapper();\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n\n  useEffect(() => {\n    if (clicked && visible) {\n      try {\n        if (path) {\n          let item = _.get(mjmlJson, path);\n          if (item.mutableProperties.includes(ATTRIBUTE)) {\n            setColor(item.attributes[ATTRIBUTE]);\n          }\n        }\n      } catch (e) {\n        logger.info('got exception, hiding background mod', e);\n      }\n    }\n  }, [clicked]);\n\n  const handleColorChange = (color: any) => {\n    const hexCode = `${color.hex}${decimalToHex(color.rgb.a)}`;\n    setColor(hexCode);\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      element.attributes['container-background-color'] = hexCode;\n      let json = _.set(mjmlJson, path, element);\n\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <>\n      <Row>\n        <Col flex=\"auto\">\n          <Form.Item label=\"Container Background\"></Form.Item>\n        </Col>\n\n        <ColorPicker color={color} flex=\"none\">\n          <div className=\"swatch\" onClick={() => setActive(true)}>\n            <div className=\"color\"></div>\n          </div>\n          {active ? (\n            <div className=\"popover\">\n              <div className=\"cover\" onClick={() => setActive(false)}></div>\n              <ChromePicker disableAlpha={false} color={color} onChange={(color: any) => handleColorChange(color)} />\n            </div>\n          ) : null}\n        </ColorPicker>\n      </Row>\n    </>\n  ) : null;\n};\n\nconst decimalToHex = (alpha: number) => (alpha === 0 ? '00' : Math.round(255 * alpha).toString(16));\n\nconst ColorPicker = styled(Col)`\n  .color {\n    width: 25px;\n    height: 25px;\n    border-radius: 2px;\n    background: ${(props) => props.color};\n  }\n  .swatch {\n    padding: 5px;\n    background: #fff;\n    border-radius: 1px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .popover {\n    position: absolute;\n    z-index: 2;\n    top: -108px;\n    left: -200px;\n  }\n\n  .cover {\n    position: fixed;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n  }\n`;\n","import { useVisibility } from '../../Hooks/Attribute.hook';\nimport { Col, Form, Input, Row } from 'antd';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { ChangeEvent, useEffect, useState } from 'react';\nimport _ from 'lodash';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { domParser } from '../../Utils/htmlProcessor';\nimport { logger } from '../../Utils/logger';\n\nconst PROPERTY = 'content';\n\nexport const Content = () => {\n  const [visible, path] = useVisibility({ property: PROPERTY });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState('');\n  const [isReadOnly, setIsReadOnly] = useState<boolean | null>(null);\n  const [htmlBlock, setHtmlBlock] = useState(false);\n  const { active } = useHtmlWrapper();\n\n  useEffect(() => {\n    if (visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item) {\n        setValue(item.content ? item.content : '');\n\n        // maintain read only state for some attributes\n        if (item.tagName === 'mj-text') {\n          if (item.attributes && item.attributes['css-class'] && item.attributes['css-class'].includes('html-block')) {\n            setIsReadOnly(false);\n            setHtmlBlock(true);\n            return;\n          }\n          setIsReadOnly(true);\n        } else {\n          setIsReadOnly(false);\n        }\n        setHtmlBlock(false);\n      }\n    }\n  }, [visible, path]);\n\n  const handleChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\n    let value = e.currentTarget.value;\n    setValue(value);\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      // while in middle of editing, if the element is removed. thus check element is not null\n      if (element) {\n        if (htmlBlock) {\n          // if the content is empty, user will not know everything must be within a root node.\n          // thus add a root node to the content.\n          // ex:\n          //   === can not have ===\n          //    <h1>test heading</h1>\n          //    <p>test para</p>\n          //\n          //  === can have ===\n          //   <div>\n          //    <h1>test heading</h1>\n          //    <p>test para</p>\n          //   </div>\n          if (e.currentTarget.value.replace(/\\n/, '').trim() === '') {\n            setValue('<div></div>');\n            e.currentTarget.value = '<div></dvi>';\n          }\n          // check the user string is valid or not before updating,\n          // since this is a common component, validat this only for html block\n          const partialHtml = domParser.parseFromString(value.replace(/\\n/, ''), 'text/xml');\n          const isError = partialHtml.querySelector('parsererror');\n          if (isError) {\n            logger.log('invalid html in content: not triggering rerender');\n            return;\n          }\n        }\n\n        if (element[PROPERTY] !== value) {\n          element[PROPERTY] = value;\n          const updated = _.set(mjmlJson, path, element);\n          setMjmlJson({ ...updated });\n        }\n      }\n    }\n  };\n\n  return visible ? (\n    <Form.Item>\n      <Row gutter={[0, 8]}>\n        <Col span={24}>\n          <span className=\"ant-form-item-label\">Content:</span>\n        </Col>\n        <Col span={24}>\n          {htmlBlock ? (\n            <Input.TextArea spellCheck={false} rows={28} onChange={handleChange} value={value} />\n          ) : (\n            <Input.TextArea\n              disabled={isReadOnly ? isReadOnly : false}\n              readOnly={isReadOnly ? isReadOnly : false}\n              spellCheck={false}\n              rows={3}\n              onChange={handleChange}\n              value={value}\n            />\n          )}\n        </Col>\n      </Row>\n    </Form.Item>\n  ) : null;\n};\n","import { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { Form, Input } from 'antd';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { ChangeEvent } from 'react';\nimport _ from 'lodash';\n\nconst ATTRIBUTE = 'font-size';\n\nexport const FontSize = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    let value = e.currentTarget.value;\n    if (path && visible) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"FontSize\">\n      <Input onChange={handleChange} value={getValue()} />\n    </Form.Item>\n  ) : null;\n};\n","import _ from 'lodash';\nimport { ChangeEvent } from 'react';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Input, Row } from 'antd';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\n\nconst ATTRIBUTE = 'src';\n\nconst Img = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n  //todo: check if changing directly to mjmlJson causes perfomance impact\n  //   if so, then maintain a local state, then on change change the value first,\n  //   then by using useeffect listen for the in localvalue, then update the mjmlJson.\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    let value = e.currentTarget.value;\n    if (path && visible) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <Row>\n      <Col span={24}>\n        <Input addonBefore=\"src\" onChange={(e) => handleChange(e)} value={getValue()} />\n      </Col>\n    </Row>\n  ) : null;\n};\n\nexport { Img };\n","import { Form, Input } from 'antd';\nimport _ from 'lodash';\nimport { ChangeEvent, useEffect, useState } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { logger } from '../../Utils/logger';\nimport { UpdateValue } from '../../Utils/operations';\n\nconst ATTRIBUTE = 'inner-padding';\n\nconst InnerPadding = () => {\n  let [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState<string>();\n\n  useEffect(() => {\n    if (visible && path) {\n      const item = _.get(mjmlJson, path);\n      if (item && item.attributes && item.attributes[ATTRIBUTE]) {\n        setValue(item.attributes[ATTRIBUTE]);\n      }\n    }\n  }, [visible, path]);\n\n  useEffect(() => {\n    value && UpdateValue({ visible, path, mjmlJson, setMjmlJson, value, attribute: ATTRIBUTE });\n  }, [value]);\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const value = e.currentTarget.value;\n    logger.log('inner padding value', value);\n    if (path && visible) {\n      setValue(value);\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"Inner Padding :\">\n      <Input onChange={handleChange} type=\"text\" value={value} />\n    </Form.Item>\n  ) : null;\n};\n\nexport { InnerPadding };\n","import { Form, Input, Row, Col } from 'antd';\nimport _ from 'lodash';\nimport { ChangeEvent, useMemo } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\n\ninterface PaddingProps {\n  activePath?: string;\n}\n\nconst Padding = ({ activePath }: PaddingProps) => {\n  let [visible, path, active] = useVisibility({ attribute: 'padding', customPath: activePath });\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>, direction: string) => {\n    if (e.currentTarget.value === '') {\n      e.currentTarget.value = '0';\n    }\n    // if (!value.includes('px')) {\n    //   e.currentTarget.value = `${value}px`;\n    // }\n    setPadding(direction, e.currentTarget.value);\n  };\n\n  const setPadding = useMemo(\n    () => (direction: string, value: string) => {\n      if (path && visible) {\n        let json = {};\n\n        if (direction) {\n          let element = _.get(mjmlJson, path);\n          element.attributes[`padding-${direction}`] = value;\n          json = _.set(mjmlJson, path, element);\n          setMjmlJson({ ...json });\n        }\n      }\n    },\n    [visible, path]\n  );\n\n  //todo: optimize this function, move to useEffect, useState.\n  // its being called on every hover event.\n  const getValue = (direction: string) => {\n    let value = '';\n    //todo: debug why removing active causes crash  getValue:{@mods/pad..tsx}\n    // move it to useeffect later\n    if (path && visible && active) {\n      let element = _.get(mjmlJson, path);\n      if (!element) {\n        return;\n      }\n      value = element.attributes ? element.attributes[`padding-${direction}`] : null;\n      if (!value) {\n        value = element.attributes['padding'];\n        if (value) {\n          const [vertical, horizontal] = value.split(' ');\n          switch (direction) {\n            case 'top':\n            case 'bottom':\n              return vertical;\n            case 'left':\n            case 'right':\n              return horizontal;\n          }\n        }\n      }\n    }\n    return value;\n  };\n\n  return visible ? (\n    <Form.Item label=\"Padding :\">\n      <Input.Group style={{ marginBottom: '6px' }}>\n        <Row>\n          <Col span={11} offset={0}>\n            <Input addonBefore=\"top\" onChange={(e) => handleChange(e, 'top')} value={getValue('top')} />\n          </Col>\n          <Col span={11} offset={2}>\n            <Input addonBefore=\"right\" onChange={(e) => handleChange(e, 'right')} value={getValue('right')} />\n          </Col>\n        </Row>\n      </Input.Group>\n      <Input.Group>\n        <Row>\n          <Col span={11} offset={0}>\n            <Input addonBefore=\"bottom\" onChange={(e) => handleChange(e, 'bottom')} value={getValue('bottom')} />\n          </Col>\n\n          <Col span={11} offset={2}>\n            <Input addonBefore=\"left\" onChange={(e) => handleChange(e, 'left')} value={getValue('left')} />\n          </Col>\n        </Row>\n      </Input.Group>\n    </Form.Item>\n  ) : null;\n};\n\nexport { Padding };\n","import { Row } from 'antd';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useCkeditor } from '../Hooks/Ckeditor.hook';\nimport { useCustomEditorStatus } from '../Hooks/CustomEditor.hook';\nimport { useDragAndDropUniqueId } from '../Hooks/Drag.hook';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../Hooks/Htmlwrapper.hook';\nimport { generateUniqueIdRecursively } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { findSectionOfElement } from '../Utils/findElementsParent';\nimport { logger } from '../Utils/logger';\nimport { UNDOREDO } from '../Utils/undoRedo';\nimport { COLUMN } from './Section';\n\nconst style = {\n  display: 'flex',\n  height: '16px',\n  borderRadius: '0px',\n};\n\nconst borderRight = '1px solid rgb(85, 85, 85)';\n\nconst ColumnSelector = () => {\n  const { active } = useHtmlWrapper();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const {\n    setDelActive,\n    copy: { setCopyActive },\n  } = useCkeditor();\n  const { setActive: setCustomEditorActive } = useCustomEditorStatus();\n  const { getId } = useDragAndDropUniqueId();\n  const [visible, setVisible] = useState(false);\n  const [sectionIdentifier, setSectionIdentifier] = useState();\n\n  useEffect(() => {\n    if (active) {\n      const section = findSectionOfElement(active);\n      if (section) {\n        const [, uniqueIdentifier] = section;\n        setVisible(true);\n        setSectionIdentifier(uniqueIdentifier);\n        return;\n      }\n    }\n    setVisible(false);\n  }, [active, visible]);\n\n  const handleClick = (changeTo: string[]) => {\n    if (visible && sectionIdentifier) {\n      const find = findElementInJson(mjmlJson, sectionIdentifier);\n      if (find) {\n        const [item, path] = find;\n        if (item && path && item.children && changeTo.length > 0) {\n          const existingLength = item.children.length;\n          const convertLength = changeTo.length;\n          if (convertLength < existingLength) {\n            // todo: implement getconfirmation, that user is about to delete a column\n          }\n          let newChildren = [];\n\n          // iterate over existing children\n          for (let i = 0; i < existingLength && i < convertLength; i++) {\n            let child = _.cloneDeep(item.children[i]);\n            if (child && child.attributes) {\n              // modify width attribute, add it to newChildren\n              child.attributes.width = changeTo[i];\n              newChildren.push(child);\n            }\n          }\n\n          //iterate over new children\n          for (let i = existingLength; i < convertLength; i++) {\n            let preProcessedColumn = generateUniqueIdRecursively(_.cloneDeep(COLUMN), getId);\n            preProcessedColumn.attributes.width = changeTo[i];\n            newChildren.push(preProcessedColumn);\n          }\n\n          // update children\n          const updatedItem = { ...item, children: newChildren };\n\n          //update json\n          logger.log('column layout: ', updatedItem);\n\n          const updated = _.set(mjmlJson, path.slice(1), updatedItem);\n\n          if (updated) {\n            UNDOREDO.newAction(updated);\n            setDelActive(false);\n            setCopyActive(false);\n            setCustomEditorActive(false);\n            setMjmlJson({ ...updated });\n          }\n        }\n      }\n    }\n  };\n\n  return visible ? (\n    <>\n      <div>\n        <SectionTitle>\n          <p>1 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['100%'])} one={100} />\n      </div>\n      <div style={{ marginTop: '16px' }}>\n        <SectionTitle>\n          <p>2 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['50%', '50%'])} one={50} two={50} />\n        <Image click={() => handleClick(['39%', '59%'])} one={40} two={60} />\n        <Image click={() => handleClick(['25%', '75%'])} one={25} two={75} />\n        <Image click={() => handleClick(['60%', '40%'])} one={60} two={40} />\n        <Image click={() => handleClick(['75%', '25%'])} one={75} two={25} />\n      </div>\n      <div style={{ marginTop: '16px' }}>\n        <SectionTitle>\n          <p>3 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['33%', '33%', '33%'])} one={50} two={50} three={50} />\n        <Image click={() => handleClick(['47.5%', '5%', '47.5%'])} one={47.5} two={5} three={47.5} />\n        <Image click={() => handleClick(['25%', '25%', '50%'])} one={25} two={25} three={50} />\n        <Image click={() => handleClick(['25%', '50%', '25%'])} one={25} two={50} three={25} />\n        <Image click={() => handleClick(['50%', '25%', '25%'])} one={50} two={25} three={25} />\n      </div>\n      <div style={{ marginTop: '16px' }}>\n        <SectionTitle>\n          <p>4 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['25%', '25%', '25%', '25%'])} one={50} two={50} three={50} four={50} />\n      </div>\n    </>\n  ) : (\n    <div style={{ textAlign: 'center' }}>Select an item inside the body</div>\n  );\n};\n\nconst Image = ({\n  click,\n  one,\n  two,\n  three,\n  four,\n}: {\n  click?: (e: any) => void;\n  one: number;\n  two?: number;\n  three?: number;\n  four?: number;\n}) => {\n  return (\n    <>\n      <Row style={{ marginBottom: '12px' }}></Row>\n      <SectionImage onClick={click ? click : undefined}>\n        <div className=\"wrapper\">\n          <div className=\"border\">\n            <div style={{ ...style, flexGrow: one, borderRight: two ? borderRight : 'unset' }}></div>\n            {two ? <div style={{ ...style, flexGrow: two, borderRight: three ? borderRight : 'unset' }}></div> : null}\n            {three ? (\n              <div style={{ ...style, flexGrow: three, borderRight: four ? borderRight : 'unset' }}></div>\n            ) : null}\n            {four ? <div style={{ ...style, flexGrow: two }}></div> : null}\n          </div>\n        </div>\n      </SectionImage>\n    </>\n  );\n};\n\nconst SectionTitle = styled(Row)`\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n  p {\n    margin: 0px;\n    text-align: inherit;\n    color: rgb(85, 85, 85);\n    font-size: 14px;\n    font-weight: 600;\n  }\n`;\n\nconst SectionImage = styled(Row)`\n  background-color: rgb(252, 252, 252);\n  border: 1px solid rgb(229, 229, 229);\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: flex;\n  box-shadow: none;\n  cursor: grab;\n\n  &:hover {\n    background-color: rgb(255, 255, 255);\n    box-shadow: rgb(0 0 0 / 20%) 0px 1px 4px;\n    border-color: rgb(255, 255, 255);\n  }\n\n  .wrapper {\n    margin: 10px;\n    background-color: rgb(255, 255, 255);\n    position: relative;\n    width: 100%;\n    display: flex;\n    border-radius: 3px;\n    box-sizing: border-box;\n\n    .border {\n      border: 1px solid rgb(85, 85, 85);\n      border-radius: 3px;\n      display: flex;\n      -webkit-box-align: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n    }\n  }\n`;\n\nexport { ColumnSelector };\n","import { Form, Select } from 'antd';\nimport _ from 'lodash';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useFonts } from '../../Hooks/useFonts';\n\nconst ATTRIBUTE = 'font-family';\n\nconst { Option } = Select;\n\nexport const FontFamily = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n  const [fontlist, fontvalue] = useFonts();\n\n  const handleChange = (value: string) => {\n    if (visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item) {\n        item.attributes['font-family'] = value;\n        const updated = _.set(mjmlJson, path, item);\n        if (updated) {\n          setMjmlJson({ ...updated });\n        }\n      }\n    }\n  };\n\n  let value = '';\n\n  if (visible && path) {\n    value = getValue();\n    if (value && value.indexOf(',') > -1) {\n      value = value.split(',')[0];\n    }\n  }\n\n  return visible ? (\n    <Form.Item label=\"Font Family\">\n      <Select value={fontvalue} onChange={handleChange}>\n        {fontlist.map((name: string) => {\n          return (\n            <Option key={name} value={name}>\n              {name}\n            </Option>\n          );\n        })}\n      </Select>\n    </Form.Item>\n  ) : null;\n};\n","import { Button, Col, Form, Row, Tooltip } from 'antd';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport {\n  VerticalAlignTopOutlined,\n  VerticalAlignMiddleOutlined,\n  VerticalAlignBottomOutlined,\n} from '@ant-design/icons/lib/icons/';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport _ from 'lodash';\n\nconst ATTRIBUTE = 'vertical-align';\n\ninterface VerticalAlignProps {\n  activePath?: string;\n}\n\nexport const VerticalAlign = ({ activePath }: VerticalAlignProps) => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE, customPath: activePath });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { active } = useHtmlWrapper();\n\n  const onClick = (value: string) => {\n    if (active && visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item && item.attributes) {\n        item.attributes[ATTRIBUTE] = value;\n        const updated = _.set(mjmlJson, path, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  return visible ? (\n    <Row>\n      <Col flex=\"auto\">\n        <Form.Item label=\"Vertical Align\"></Form.Item>\n      </Col>\n      <Col>\n        <Row justify=\"space-between\" gutter={[16, 0]}>\n          <Tooltip title=\"Top\">\n            <Button onClick={() => onClick('top')} type=\"ghost\" icon={<VerticalAlignTopOutlined />} />\n          </Tooltip>\n\n          <Col>\n            <Tooltip\n              placement=\"left\"\n              title=\"Middle :Note: all columns in section must be set to middle, for this to work.\"\n            >\n              <Button onClick={() => onClick('middle')} type=\"ghost\" icon={<VerticalAlignMiddleOutlined />} />\n            </Tooltip>\n          </Col>\n\n          <Col>\n            <Tooltip title=\"Bottom\">\n              <Button onClick={() => onClick('bottom')} type=\"ghost\" icon={<VerticalAlignBottomOutlined />} />\n            </Tooltip>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  ) : null;\n};\n","import { Col, Form, Row, Input } from 'antd';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\n\nconst URL = 'background-url';\nconst SIZE = 'background-size';\nconst REPEAT = 'background-repeat';\n\nconst BackgroundImage = () => {\n  const [url, setUrl] = useState<string>('');\n  const [size, setSize] = useState<string>('');\n  const [repeat, setRepeat] = useState<string>('');\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const [urlVisibility, urlPath] = useVisibility({ attribute: URL });\n  const [sizeVisibility, sizePath] = useVisibility({ attribute: SIZE });\n  const [repeatVisiblity, repeatPath] = useVisibility({ attribute: REPEAT });\n\n  useEffect(() => {\n    if (mjmlJson) {\n      if (urlVisibility) {\n        const item = _.get(mjmlJson, urlPath);\n        item && setUrl(item.attributes[URL]);\n      }\n      if (sizeVisibility) {\n        const item = _.get(mjmlJson, sizePath);\n        item && setSize(item.attributes[SIZE]);\n      }\n      if (repeatVisiblity) {\n        const item = _.get(mjmlJson, repeatPath);\n        item && setRepeat(item.attributes[REPEAT]);\n      }\n    }\n  }, [urlVisibility, sizeVisibility, repeatVisiblity]);\n\n  if (urlVisibility === false && sizeVisibility === false && repeatVisiblity === false) {\n    return null;\n  }\n\n  const onChangeUrl = (e: any) => {\n    setUrl(e.target.value);\n    if (urlVisibility && urlPath && e.target.value) {\n      let item = _.get(mjmlJson, urlPath);\n      if (item && item.attributes) {\n        item.attributes[URL] = e.target.value;\n        const updated = _.set(mjmlJson, urlPath, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  const onChangeSize = (e: any) => {\n    setSize(e.target.value);\n    if (sizeVisibility && sizePath && e.target.value) {\n      let item = _.get(mjmlJson, urlPath);\n      if (item && item.attributes) {\n        item.attributes[SIZE] = e.target.value;\n        const updated = _.set(mjmlJson, sizePath, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  const onChangeRepeat = (e: any) => {\n    setRepeat(e.target.value);\n    if (repeatVisiblity && repeatPath && e.target.value) {\n      let item = _.get(mjmlJson, urlPath);\n      if (item && item.attributes) {\n        item.attributes[REPEAT] = e.target.value;\n        const updated = _.set(mjmlJson, repeatPath, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  return (\n    <Form.Item label=\"Background Image:\">\n      <Input.Group>\n        <Row gutter={[0, 4]}>\n          {urlVisibility ? (\n            <Col span={24}>\n              <Input addonBefore=\"url\" onChange={onChangeUrl} value={url} />\n            </Col>\n          ) : null}\n          {sizeVisibility ? (\n            <Col span={24}>\n              <Input\n                addonBefore=\"size\"\n                onChange={onChangeSize}\n                value={size}\n                placeholder=\"px/percent/'cover'/'contain'\"\n              />\n            </Col>\n          ) : null}\n          {repeatVisiblity ? (\n            <Col span={24}>\n              <Input addonBefore=\"repeat\" onChange={onChangeRepeat} value={repeat} placeholder=\"repeat\" />\n            </Col>\n          ) : null}\n        </Row>\n      </Input.Group>\n    </Form.Item>\n  );\n};\n\nexport { BackgroundImage };\n","import styled from 'styled-components';\nimport { Tabs } from 'antd';\nimport { UNDOREDO } from '../Utils/undoRedo';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../Hooks/Htmlwrapper.hook';\nimport { useEffect, useState } from 'react';\nimport { findSectionOfElement } from '../Utils/findElementsParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { Background } from './Mods/Background';\nimport { Width } from './Mods/WidthHeight';\nimport { Padding } from './Mods/Paddings';\nimport { VerticalAlign } from './Mods/VerticalAlign';\nimport { Border } from './Mods/Border';\nimport { CordinalBorder } from './Mods/CordinalBorder';\nimport { BorderRadius } from './Mods/BorderRadius';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport _ from 'lodash';\n\nconst { TabPane } = Tabs;\nconst CustomTabs = styled(Tabs)`\n  .ant-tabs-tab {\n    padding-top: 0px;\n  }\n  .ant-tabs-content {\n    height: 100%;\n  }\n\n  .mods {\n    padding: 24px 16px;\n    padding-top: 4px;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .ant-row {\n    margin-bottom: 8px;\n  }\n`;\n\nconst ColumnAttributes = () => {\n  const { mjmlJson } = useEditor();\n  const { active } = useHtmlWrapper();\n  const [columns, setActiveColumns] = useState<any>([]);\n\n  useEffect(() => {\n    if (active) {\n      const section = findSectionOfElement(active);\n      if (section) {\n        const [, uniqueSectionIdentifier] = section;\n        const find = findElementInJson(mjmlJson, uniqueSectionIdentifier);\n        if (find) {\n          let [item, path] = find;\n          path = path.slice(1);\n\n          if (item && item.children && item.children.length > 0) {\n            let _columns = [];\n            for (var i = 0; i < item.children.length; i++) {\n              if (item.children[i].tagName === 'mj-column') {\n                _columns.push(`${path}.children[${i}]`);\n              }\n            }\n            if (!_.isEqual(columns, _columns)) {\n              setActiveColumns(_columns);\n            }\n            return;\n          }\n        }\n      }\n    }\n    setActiveColumns([]);\n  }, [active]);\n\n  return active && columns.length > 0 ? (\n    <CustomTabs\n      centered\n      tabBarGutter={2}\n      defaultActiveKey=\"0\"\n      style={{ height: '100%' }}\n      destroyInactiveTabPane={false}\n    >\n      {columns &&\n        columns.map((column: any, index: number) => {\n          return (\n            <TabPane tab={`column ${index + 1}`} key={index}>\n              <Scrollbars style={{ height: '100%' }} autoHide={true}>\n                <div\n                  className=\"mods\"\n                  onMouseDown={(e) => {\n                    UNDOREDO.newAction(mjmlJson);\n                  }}\n                  onBlur={(e) => {\n                    UNDOREDO.newAction(mjmlJson);\n                  }}\n                >\n                  <Width activePath={column} />\n                  <VerticalAlign activePath={column} />\n                  <Padding activePath={column} />\n\n                  <Background activePath={column} />\n                  <Background\n                    label={'Inner Background:'}\n                    overrideAttribute=\"inner-background-color\"\n                    activePath={column}\n                  />\n                  <Border activePath={column} />\n                  {/* <CordinalBorder activePath={column} /> */}\n                  <BorderRadius activePath={column} />\n                </div>\n              </Scrollbars>\n            </TabPane>\n          );\n        })}\n    </CustomTabs>\n  ) : (\n    <div style={{ textAlign: 'center', marginTop: '24px' }}>Select an item inside the body</div>\n  );\n};\n\nexport { ColumnAttributes };\n","import { Col, Input, Row } from 'antd';\nimport FormItem from 'antd/lib/form/FormItem';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\n\nconst ATTRIBUTE = 'line-height';\n\nconst LineHeight = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState<string>('100%');\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n\n  useEffect(() => {\n    if (visible && path) {\n      let value = getValue();\n      setValue(value);\n    }\n  }, [visible, path]);\n\n  const onChange = (e: any) => {\n    setValue(e.target.value);\n    if (visible && path && e && e.target) {\n      if (typeof e.target.value === 'number' && e.target.value < 0) {\n        e.target.value = 0;\n      }\n      SetValue(e.target.value.toString(), path, mjmlJson, setMjmlJson);\n    }\n  };\n\n  const addonBeforeClick = () => {\n    changeValue(visible, value, mjmlJson, path, setValue, setMjmlJson, 'dec');\n  };\n\n  const addonAfterClick = () => {\n    changeValue(visible, value, mjmlJson, path, setValue, setMjmlJson, 'inc');\n  };\n\n  return visible ? (\n    <FormItem>\n      <Row>\n        <Col flex=\"auto\">Line Height:</Col>\n\n        <Col flex=\"none\">\n          <IncrementDecrementInput\n            onChange={onChange}\n            addonBefore={<span onClick={addonBeforeClick}>-</span>}\n            addonAfter={<span onClick={addonAfterClick}>+</span>}\n            value={value}\n            style={{ width: `${value ? value.toString().length + 12 : 12}ch ` }}\n          />\n        </Col>\n      </Row>\n    </FormItem>\n  ) : null;\n};\n\nconst IncrementDecrementInput = styled(Input)`\n  .ant-input-group-addon {\n    cursor: pointer;\n    user-select: none;\n    padding:0px;\n    &:hover {\n      color: #40a9ff;\n    }\n    span{\n        padding 0 11px;\n    }\n  }\n`;\n\nconst changeValue = (\n  visible: boolean | null,\n  value: string,\n  mjmlJson: any,\n  path: string,\n  setValue: (arg: string) => void,\n  setMjmlJson: (arg: any) => void,\n  type: 'inc' | 'dec'\n) => {\n  if (visible && value) {\n    let existingValue: string | number = value;\n    let copy = value;\n    let increment;\n    if (existingValue.includes('%')) {\n      increment = type === 'inc' ? +10 : -10;\n      existingValue = existingValue.split('%')[0];\n      existingValue = parseInt(existingValue);\n    } else {\n      increment = type === 'inc' ? +1 : -1;\n      existingValue = parseInt(existingValue);\n    }\n    const toSearch = existingValue;\n    let valueIncrementNumber = Math.max(existingValue + increment, 0);\n    const valueToSet = copy.replace(toSearch.toString(), valueIncrementNumber.toString());\n    setValue(valueToSet);\n    SetValue(valueToSet.toString(), path, mjmlJson, setMjmlJson);\n  }\n};\n\nconst SetValue = (valueToSet: string, path: string, mjmlJson: any, setMjmlJson: (arg: any) => void) => {\n  let item = _.get(mjmlJson, path);\n  if (item) {\n    if (item.attributes) {\n      item.attributes[ATTRIBUTE] = valueToSet;\n      const updated = _.set(mjmlJson, path, item);\n      if (updated) {\n        setMjmlJson({ ...updated });\n      }\n    }\n  }\n};\n\nexport { LineHeight };\n","import { Form, Row, Col, Input } from 'antd';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useEditor } from '../../Hooks/Editor.hook';\n\nconst STYLEPATH = `children[0].children[1]`;\n\nconst CustomCss = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState('');\n  const [isActive, setIsActive] = useState(false);\n\n  useEffect(() => {\n    if (mjmlJson) {\n      const style = mjmlJson.children[0].children[1];\n      if (style && style.tagName.includes('style')) {\n        const _value = style.content;\n        setValue(_value);\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    if (mjmlJson && isActive === false) {\n      const style = mjmlJson.children[0].children[1];\n      if (style && style.tagName.includes('style')) {\n        const _value = style.content;\n        setValue(_value);\n      }\n    }\n  }, [mjmlJson]);\n\n  const handleChange = (e: any) => {\n    let content = e.target.value;\n    setValue(content);\n    if (content) {\n      let item = _.get(_.cloneDeep(mjmlJson), STYLEPATH);\n      if (item && item.tagName.includes('style')) {\n        item.content = content;\n        const update = _.set(mjmlJson, STYLEPATH, item);\n        setMjmlJson({ ...update });\n      }\n    }\n  };\n\n  const blurHandler = (e: any) => {\n    if (!e.currentTarget.contains(e.relatedTarget)) {\n      setIsActive(false);\n    }\n  };\n\n  const focusHandler = (e: any) => {\n    setIsActive(true);\n  };\n\n  return (\n    <Form.Item>\n      <Row gutter={[0, 8]}>\n        <Col span={24}>{/* <span className=\"ant-form-item-label\">Content:</span> */}</Col>\n        <Col span={24}>\n          <Input.TextArea\n            spellCheck={false}\n            rows={24}\n            onFocus={focusHandler}\n            onBlur={blurHandler}\n            onChange={handleChange}\n            value={value}\n          />\n        </Col>\n      </Row>\n    </Form.Item>\n  );\n};\n\nexport { CustomCss };\n","import { Button, Col, Input, Popover, Row, Tag, Tooltip } from 'antd';\nimport FormItem from 'antd/lib/form/FormItem';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useEditor } from '../../Hooks/Editor.hook';\n\nconst AddCustomFonts = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [fonts, setFonts] = useState([]);\n  const [addFontActive, setAddFontActive] = useState(false);\n\n  useEffect(() => {\n    if (mjmlJson) {\n      const head = mjmlJson.children[0];\n      if (head && head.children) {\n        const _fonts = head.children.filter((item: any) => item && item.tagName && item.tagName.includes('font'));\n        if (_fonts.length > 0 && _fonts.lenght !== fonts.length) {\n          setFonts(_fonts);\n        }\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    if (mjmlJson) {\n      const head = mjmlJson.children[0];\n      if (head && head.children) {\n        const _fonts = head.children.filter((item: any) => item && item.tagName && item.tagName.includes('font'));\n        if (_fonts.length > 0 && _fonts.lenght !== fonts.length) {\n          setFonts(_fonts);\n        }\n      }\n    }\n  }, [mjmlJson]);\n\n  const handleRemove = (fontName: string) => {\n    let head = _.cloneDeep(mjmlJson.children[0]);\n    if (head && head.children) {\n      const filteredfonts = head.children.filter((item: any) => {\n        if (item && item.tagName && item.tagName.includes('font')) {\n          return item.attributes.name !== fontName;\n        }\n        return true;\n      });\n      head.children = filteredfonts;\n      setFonts(filteredfonts);\n      const updated = _.set(mjmlJson, 'children[0]', head);\n      if (updated) {\n        setFonts(head.children.filter((item: any) => item && item.tagName && item.tagName.includes('font')));\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  const handleAddFont = (name: string, href: string) => {\n    if (mjmlJson) {\n      let head = _.cloneDeep(mjmlJson.children[0]);\n      if (head && head.children) {\n        head.children.push({\n          tagName: 'mj-font',\n          attributes: {\n            name,\n            href,\n          },\n        });\n\n        const updated = _.set(mjmlJson, 'children[0]', head);\n        if (updated) {\n          setFonts(head.children.filter((item: any) => item && item.tagName && item.tagName.includes('font')));\n          setMjmlJson({ ...updated });\n        }\n      }\n    }\n  };\n\n  return (\n    <FormItem>\n      <Row>\n        <Col\n          span={24}\n          style={{ justifyContent: 'center', paddingBottom: '24px', display: 'flex', rowGap: '6px', flexWrap: 'wrap' }}\n        >\n          {fonts &&\n            fonts.length > 0 &&\n            fonts.map((font: any, index) =>\n              font.attributes && font.attributes.href && font.attributes.name ? (\n                <Tooltip key={index} title={font.attributes.href}>\n                  <Tag closable onClose={() => handleRemove(font.attributes.name)}>\n                    {font.attributes.name}\n                  </Tag>\n                </Tooltip>\n              ) : null\n            )}\n        </Col>\n        <Col span={24} style={{ textAlign: 'center' }}>\n          <Popover\n            visible={addFontActive}\n            trigger=\"click\"\n            placement=\"bottom\"\n            content={<GetFontsValue addCustomFontClick={handleAddFont} popOverCallBacK={setAddFontActive} />}\n          >\n            <Button onClick={(e) => setAddFontActive(!addFontActive)}>Add custom font</Button>\n          </Popover>\n        </Col>\n      </Row>\n    </FormItem>\n  );\n};\n\nconst FontInputContainer = styled.div`\n  .ant-form-item {\n    margin-bottom: 8px;\n  }\n`;\n\nconst GetFontsValue = ({\n  addCustomFontClick,\n  popOverCallBacK,\n}: {\n  addCustomFontClick: (name: string, href: string) => void;\n  popOverCallBacK: (arg: any) => void;\n}) => {\n  const [fontName, setFontName] = useState('');\n  const [fontUrl, setFontUrl] = useState('');\n  return (\n    <FontInputContainer>\n      <FormItem>\n        <Input addonBefore=\"name\" value={fontName} onChange={(e) => setFontName(e.target.value)} />\n      </FormItem>\n      <FormItem>\n        <Input addonBefore=\"url\" value={fontUrl} onChange={(e) => setFontUrl(e.target.value)} />\n      </FormItem>\n      <FormItem style={{ textAlign: 'center' }}>\n        <Button\n          onClick={() => {\n            popOverCallBacK(false);\n            if (fontName && fontUrl) {\n              addCustomFontClick(fontName, fontUrl);\n            }\n          }}\n        >\n          add\n        </Button>\n\n        <Button\n          style={{ marginLeft: '6px' }}\n          onClick={() => {\n            popOverCallBacK(false);\n          }}\n        >\n          cancel\n        </Button>\n      </FormItem>\n    </FontInputContainer>\n  );\n};\n\nexport { AddCustomFonts };\n","import { Scrollbars } from 'react-custom-scrollbars-2';\nimport { Align } from '../../Components/Mods/Align';\nimport { Background } from '../../Components/Mods/Background';\nimport { Border } from '../../Components/Mods/Border';\nimport { BorderRadius } from '../../Components/Mods/BorderRadius';\nimport { ContainerBackground } from '../../Components/Mods/ContainerBackground';\nimport { Content } from '../../Components/Mods/Content';\nimport { CordinalBorder } from '../../Components/Mods/CordinalBorder';\nimport { FontSize } from '../../Components/Mods/FontSize';\nimport { Img } from '../../Components/Mods/Img';\nimport { InnerPadding } from '../../Components/Mods/InnerPadding';\nimport { Link } from '../../Components/Mods/Link';\nimport { Padding } from '../../Components/Mods/Paddings';\nimport { Height, Width } from '../../Components/Mods/WidthHeight';\nimport styled from 'styled-components';\nimport css from './Editor.module.scss';\nimport { Drawer, Tabs } from 'antd';\nimport { ColumnSelector } from '../../Components/ColumnSelector';\nimport { FontFamily } from '../../Components/Mods/FontFamily';\nimport { UNDOREDO } from '../../Utils/undoRedo';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { VerticalAlign } from '../../Components/Mods/VerticalAlign';\nimport { BackgroundImage } from '../../Components/Mods/BackgroundImage';\nimport { ColumnAttributes } from '../../Components/ColumnAttributes';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { Fragment, useEffect, useRef, useState } from 'react';\nimport { LineHeight } from '../../Components/Mods/LineHeight';\nimport { BodyAttributes, SideBarDefaultLayout, SideBarDefaultTitle } from '../../Components/BodyAttributes';\nimport { CustomCss } from '../../Components/Mods/CustomCss';\nimport { AddCustomFonts } from '../../Components/Mods/AddCustomFonts';\n\nconst { TabPane } = Tabs;\n\nconst CustomTabs = styled(Tabs)`\n  .ant-tabs-content {\n    height: 100%;\n  }\n  .ant-tabs-tab {\n    padding: 8px 16px !important;\n  }\n  .ant-tabs-tabpane {\n    padding-right: 0px !important;\n  }\n`;\n\nconst Title = ({ title }: { title: string }) => {\n  return (\n    <>\n      {title.split(' ').map((word, index) => {\n        return (\n          <Fragment key={index + word}>\n            {index !== 0 && <br />}\n            <span style={{ fontSize: '12px' }}>{word}</span>\n          </Fragment>\n        );\n      })}\n    </>\n  );\n};\n\nexport const Attributes = () => {\n  const { active } = useHtmlWrapper();\n  const [isColumn, setIsColumn] = useState(false);\n\n  useEffect(() => {\n    if (active && active.classList && active.className.includes('mj-column')) {\n      setIsColumn(true);\n    }\n    isColumn && setIsColumn(false);\n  }, [active]);\n\n  return (\n    <CustomTabs\n      tabPosition=\"right\"\n      defaultActiveKey=\"2\"\n      style={{ height: '100%' }}\n      destroyInactiveTabPane={true}\n      title={'Attributes'}\n      size=\"small\"\n      tabBarGutter={1}\n    >\n      <TabPane tab={<Title title=\"layout\" />} key=\"2\">\n        <Scrollbars style={{ height: '100%' }} autoHide={true}>\n          <div className={css.columns}>\n            <ColumnSelector />\n          </div>\n        </Scrollbars>\n      </TabPane>\n      <TabPane tab={<Title title=\"layout config\" />} key=\"3\">\n        <Scrollbars style={{ height: '100%' }} autoHide={true}>\n          <ColumnAttributes />\n        </Scrollbars>\n      </TabPane>\n      <TabPane tab={<Title title=\"body config\" />} key=\"4\">\n        <Scrollbars style={{ height: '100%' }} autoHide={true}>\n          <BodyAttributes />\n        </Scrollbars>\n      </TabPane>\n      <TabPane tab={<Title title=\"fonts config\" />} key=\"5\">\n        <Scrollbars style={{ height: '100%' }} autoHide={true}>\n          <SideBarDefaultLayout>\n            <SideBarDefaultTitle title=\"Fonts\" />\n            <div className=\"props-container\">\n              <AddCustomFonts />\n            </div>\n          </SideBarDefaultLayout>\n        </Scrollbars>\n      </TabPane>\n      <TabPane tab={<Title title=\"custom css\" />} key=\"6\">\n        <Scrollbars style={{ height: '100%' }} autoHide={true}>\n          <SideBarDefaultLayout>\n            <SideBarDefaultTitle title=\"Custom css\" />\n\n            <div className=\"props-container\">\n              <CustomCss />\n            </div>\n          </SideBarDefaultLayout>\n        </Scrollbars>\n      </TabPane>\n    </CustomTabs>\n  );\n};\n\nexport const OnlyAttributesDrawer = () => {\n  const { mjmlJson } = useEditor();\n  const { active, setActive } = useHtmlWrapper();\n  const [isDisabled, setIsDisabled] = useState(false);\n  const [visible, setVisible] = useState(false);\n  const [init, setInit] = useState(false);\n\n  const onClose = () => {\n    setVisible(false);\n  };\n\n  useEffect(() => {\n    // wierd bug in antd\n    if (active && !init) {\n      setInit(true);\n    }\n\n    if (\n      active &&\n      ((active.classList && active.className.includes('mj-column')) ||\n        (active.classList && active.className.includes('mj-body')))\n    ) {\n      setIsDisabled(true);\n    } else {\n      isDisabled && setIsDisabled(false);\n    }\n  }, [active]);\n\n  useEffect(() => {\n    if (!isDisabled && active) {\n      setVisible(true);\n    } else {\n      setVisible(false);\n    }\n  }, [isDisabled, active]);\n\n  return init ? (\n    <Drawer\n      destroyOnClose={true}\n      width={'100%'}\n      getContainer={false}\n      title={\n        <div style={{ textAlign: 'center' }}>\n          <span>Attributes</span>\n        </div>\n      }\n      style={{ position: 'absolute', height: '100%' }}\n      onClose={onClose}\n      visible={visible}\n      maskClosable={false}\n      mask={false}\n      bodyStyle={{\n        padding: '8px 0px',\n      }}\n    >\n      <Scrollbars style={{ height: '100%' }} autoHide={true}>\n        <div\n          className={css.mods}\n          onMouseDown={(e) => {\n            UNDOREDO.newAction(mjmlJson);\n          }}\n          onBlur={(e) => {\n            UNDOREDO.newAction(mjmlJson);\n          }}\n        >\n          <Width />\n          <Height />\n          <Align />\n          <VerticalAlign />\n          <Content />\n          <LineHeight />\n          <FontSize />\n          <FontFamily />\n          <Padding />\n          <InnerPadding />\n          <ContainerBackground />\n          <Background />\n          <BackgroundImage />\n          <Border />\n          <Border label=\"Border Width\" attribute_name=\"border-width\" />\n          <Border label=\"Border Style\" attribute_name=\"border-style\" />\n          <Background label=\"Border Color\" overrideAttribute=\"border-color\" />\n          {/* <CordinalBorder /> */}\n          <BorderRadius />\n          <Link />\n          <Img />\n        </div>\n      </Scrollbars>\n    </Drawer>\n  ) : null;\n};\n","import css from './UiWrapper.module.scss';\n\nexport const UiWrapper = ({ background, label }: { background: string; label: string }) => {\n  return (\n    <div className={css.wrapper}>\n      <div className={`${css.container} ${css[background]}`}></div>\n      <span>{label}</span>\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = ['align', 'background-color', 'border', 'border-bottom', 'border-left', 'border-radius', 'border-right', 'border-top', 'color', 'container-background-color', 'css-class', 'font-family', 'font-size', 'font-style', 'font-weight', 'height', 'href', 'inner-padding', 'letter-spacing', 'line-height', 'padding', 'padding-bottom', 'padding-left', 'padding-right', 'padding-top', 'rel', 'target', 'text-align', 'text-decoration', 'text-transform', 'title', 'vertical-align', 'width'];\n\n// prettier-ignore\nconst properties_with_default_values = {\"align\": \"center\", \"background-color\": \"#414141\", \"border\": \"none\", \"border-bottom\": \"\", \"border-left\": \"\", \"border-radius\": \"3px\", \"border-right\": \"\", \"border-top\": \"\", \"color\": \"#ffffff\", \"container-background-color\": \"\", \"css-class\": \"\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"\", \"font-weight\": \"normal\", \"height\": \"\", \"href\": \"\", \"inner-padding\": \"10px 25px\", \"letter-spacing\": \"\", \"line-height\": \"120%\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"rel\": \"\", \"target\": \"_blank\", \"text-align\": \"none\", \"text-decoration\": \"none\", \"text-transform\": \"none\", \"title\": \"\", \"vertical-align\": \"middle\", \"width\": \"\"}\n\n// prettier-ignore\nconst assigned_default_values  = {\"align\": \"center\", \"background-color\": \"#414141\", \"border\": \"none\", \"border-radius\": \"3px\", \"color\": \"#ffffff\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-weight\": \"normal\", \"inner-padding\": \"10px 25px\", \"line-height\": \"120%\", \"padding\": \"10px 25px\", \"target\": \"_blank\", \"text-align\": \"none\", \"text-decoration\": \"none\", \"text-transform\": \"none\", \"vertical-align\": \"middle\"}\n\nexport const Button = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const config = {\n    tagName: 'mj-button',\n    attributes: {\n      ...assigned_default_values,\n      'css-class': 'mjml-tag identifier-mj-button',\n    },\n    children: [],\n    content: 'button',\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: any) => {\n    dragStart(e, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"button\" label=\"Button\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { FONTS_CONFIG } from './Mods/FontConfig';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = ['color', 'font-family', 'font-size', 'font-style', 'font-weight', 'line-height', 'letter-spacing', 'height', 'text-decoration', 'text-transform', 'align', 'container-background-color', 'padding', 'padding-top', 'padding-bottom', 'padding-left', 'padding-right', 'css-class'];\n\n// prettier-ignore\nconst properties_with_default_values = {\"color\": \"#000000\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"\", \"font-weight\": \"\", \"line-height\": \"1\", \"letter-spacing\": \"none\", \"height\": \"\", \"text-decoration\": \"\", \"text-transform\": \"\", \"align\": \"left\", \"container-background-color\": \"\", \"padding\": \"10px 25px\", \"padding-top\": \"\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"css-class\": \"\"};\n\n// prettier-ignore\nconst assigned_default_values  = {\"color\": \"#000000\", \"font-size\": \"13px\", \"line-height\": \"1\", \"letter-spacing\": \"none\", \"align\": \"center\", \"padding\": \"10px 25px\"};\n//note to self: removed fontFamily default value.\n\nexport const Text = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-text',\n    attributes: {\n      ...assigned_default_values,\n      align: 'left',\n      'padding-left': '0px',\n      'padding-right': '0px',\n      'css-class': 'mjml-tag identifier-mj-text',\n    },\n    content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque quis dolor auctor.',\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"text\" label=\"Text\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = [\"align\", \"alt\", \"border\", \"border-top\", \"border-bottom\", \"border-left\", \"border-right\", \"border-radius\", \"container-background-color\", \"css-class\", \"fluid-on-mobile\", \"height\", \"href\", \"name\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"rel\", \"sizes\", \"src\", \"srcset\", \"target\", \"title\", \"usemap\", \"width\"]\n\n// prettier-ignore\nconst properties_with_default_values = {\"align\": \"center\", \"alt\": \"\", \"border\": \"none\", \"border-top\": \"none\", \"border-bottom\": \"none\", \"border-left\": \"none\", \"border-right\": \"none\", \"border-radius\": \"\", \"container-background-color\": \"\", \"css-class\": \"\", \"fluid-on-mobile\": \"\", \"height\": \"auto\", \"href\": \"\", \"name\": \"\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"rel\": \"\", \"sizes\": \"\", \"src\": \"\", \"srcset\": \"\", \"target\": \"_blank\", \"title\": \"\", \"usemap\": \"\", \"width\": \"100%\"}\n\n// prettier-ignore\nconst assigned_default_values = {\"align\": \"center\", \"border\": \"none\", \"border-top\": \"none\", \"border-bottom\": \"none\", \"border-left\": \"none\", \"border-right\": \"none\", \"height\": \"auto\", \"padding\": \"10px 25px\", \"target\": \"_blank\", \"width\": \"100%\"}\n\nexport const Image = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-image',\n    attributes: {\n      ...assigned_default_values,\n      'css-class': 'mjml-tag identifier-mj-image',\n      width: 'auto',\n      padding: '0px 8px',\n      src: 'https://dev.bluepie.in/dnde.png',\n    },\n    children: [],\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"image\" label=\"Image\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = [\"container-background-color\", \"css-class\", \"height\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\"]\n\n// prettier-ignore\nconst properties_with_default_values = {\"container-background-color\": \"\", \"css-class\": \"\", \"height\": \"20px\", \"padding\": \"none\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\"}\n\n// prettier-ignore\nconst assigned_default_values = {\"height\": \"20px\", \"padding\": \"none\"}\n\nexport const Spacer = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-spacer',\n    attributes: {\n      ...assigned_default_values,\n      'css-class': 'mjml-tag identifier-mj-spacer',\n    },\n    children: [],\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"spacer\" label=\"Spacer\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\nexport const Html = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-text',\n    attributes: {\n      'css-class': 'mjml-tag identifier-mj-html html-block',\n      padding: '0px',\n    },\n    mutableProperties: ['font-family'],\n    content: `\n    <table border=\"1\" style=\"width:100%; border-collapse:collapse\">\n    <tr style=\"font-weight:bold\">\n      <td>S. No</td> \n      <td>Items</td>\n      <td>Quantity</td>\n      <td align=\"center\">Price</td>\n    </tr>\n    <tr>\n      <td>1</td>\n      <td>egg</td>\n      <td>24</td>\n      <td align=\"center\">$10.00</td>\n    </tr>\n    <tr>\n      <td>2</td>\n      <td>milk</td>\n      <td>5</td>\n      <td align=\"center\">$8</td>\n    </tr>\n    <tr>\n      <td>3</td>\n      <td>curd</td>\n      <td>8</td>\n      <td align=\"center\">$8</td>\n    </tr>\n    </table>\n    `,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"html\" label=\" Html\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = [\"border-color\", \"border-style\", \"border-width\", \"container-background-color\", \"css-class\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"width\", \"align\"]\n\n// prettier-ignore\nconst properties_with_default_values = {\"border-color\": \"#000000\", \"border-style\": \"solid\", \"border-width\": \"4px\", \"container-background-color\": \"\", \"css-class\": \"\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"width\": \"100%\", \"align\": \"center\"}\n\n// prettier-ignore\nconst assigned_default_values = {\"border-color\": \"#000000\", \"border-style\": \"solid\", \"border-width\": \"4px\", \"padding\": \"10px 25px\", \"width\": \"100%\", \"align\": \"center\"}\n\nexport const Divider = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-divider',\n    attributes: {\n      ...assigned_default_values,\n      padding: '0px',\n      'css-class': 'mjml-tag identifier-mj-divider',\n    },\n    children: [],\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n  // access type, etc from comp nd set to context\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"divider\" label=\"Divider\" />\n    </div>\n  );\n};\n","import { dragStart } from '../Utils/dragStart';\nimport { UiWrapper } from './UiWrapper';\n\n// prettier-ignore\nconst social_properties = [\"align\", \"border-radius\", \"color\", \"css-class\", \"container-background-color\", \"font-family\", \"font-size\", \"font-style\", \"font-weight\", \"icon-height\", \"icon-size\", \"inner-padding\", \"line-height\", \"mode\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"icon-padding\", \"text-padding\", \"text-decoration\"]\n\n// prettier-ignore\nconst social_properties_with_default_values = {\"align\": \"center\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"css-class\": \"\", \"container-background-color\": \"\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"inner-padding\": \"4px\", \"line-height\": \"22px\", \"mode\": \"horizontal\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"text-decoration\": \"none\"}\n\n// prettier-ignore\nconst social_assigned_default_values = {\"align\": \"center\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"inner-padding\": \"4px\", \"line-height\": \"22px\", \"mode\": \"horizontal\", \"padding\": \"10px 25px\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"text-decoration\": \"none\"}\n\n// prettier-ignore\nconst social_element_properties = [\"align\", \"alt\", \"background-color\", \"border-radius\", \"color\", \"css-class\", \"font-family\", \"font-size\", \"font-style\", \"font-weight\", \"href\", \"icon-height\", \"icon-size\", \"line-height\", \"name\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"icon-padding\", \"text-padding\", \"sizes\", \"src\", \"srcset\", \"rel\", \"target\", \"title\", \"text-decoration\", \"vertical-align\"]\n\n// prettier-ignore\nconst social_element_properties_with_default_values = {\"align\": \"center\", \"alt\": \"none\", \"background-color\": \"Each social name has its own default\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"css-class\": \"\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"href\": \"none\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"line-height\": \"22px\", \"name\": \"N/A\", \"padding\": \"4px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"sizes\": \"\", \"src\": \"Each social name has its own default\", \"srcset\": \"\", \"rel\": \"\", \"target\": \"_blank\", \"title\": \"none\", \"text-decoration\": \"none\", \"vertical-align\": \"middle\"}\n\n// prettier-ignore\nconst social_element_assigned_default_values = {\"align\": \"center\", \"alt\": \"none\", \"background-color\": \"Each social name has its own default\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"href\": \"none\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"line-height\": \"22px\", \"name\": \"N/A\", \"padding\": \"4px\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"src\": \"Each social name has its own default\", \"target\": \"_blank\", \"title\": \"none\", \"text-decoration\": \"none\", \"vertical-align\": \"middle\"}\n\nconst social_element_config = {\n  tagName: 'mj-social-element',\n  attributes: {\n    'css-class': 'mjml-tag identifier-mj-social-element',\n  },\n  mutableProperties: social_element_properties,\n};\n\nexport const Social = () => {\n  const config = {\n    tagName: 'mj-social',\n    attributes: {\n      'css-class': 'mjml-tag identifier-mj-social',\n    },\n    children: [\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'facebook-noshare',\n          href: 'https://github.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/facebook.png',\n        },\n      },\n\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'twitter-noshare',\n          href: 'https://twitter.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/twitter.png',\n        },\n      },\n\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'youtube-noshare',\n          href: 'https://github.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/youtube.png',\n        },\n      },\n\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'github',\n          href: 'https://github.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/github.png',\n        },\n      },\n    ],\n    mutableProperties: social_properties,\n  };\n\n  const onDragStart = (e: any) => {\n    dragStart(e, config);\n  };\n\n  return (\n    <div onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"social\" label=\"Social\" />\n    </div>\n  );\n};\n","import { useCkeditor } from '../Hooks/Ckeditor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { COLUMN, SECTION } from './Section';\nimport { UiWrapper } from './UiWrapper';\n\nconst SectionV2 = () => {\n  const config = { ...SECTION, children: [COLUMN] };\n  const {\n    drag: { setIsColumn },\n  } = useCkeditor();\n\n  const onDragStart = (e: any) => {\n    setIsColumn(true);\n    dragStart(e, config);\n  };\n  return (\n    <div onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"section\" label=\"Section\" />\n    </div>\n  );\n};\n\nexport { SectionV2 };\n","import { Col, Collapse, Row } from 'antd';\nimport { Button } from '../../Components/Button';\nimport { Text } from '../../Components/Text';\nimport { CaretDownOutlined } from '@ant-design/icons';\nimport css from './Editor.module.scss';\nimport '../../Assets/Css/antoveride.scss';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport { Image } from '../../Components/Image';\nimport { Spacer } from '../../Components/Spacer';\nimport { Html } from '../../Components/Html';\nimport { Divider } from '../../Components/Divider';\nimport { Section } from '../../Components/Section';\nimport { Social } from '../../Components/Social';\nimport { SectionV2 } from '../../Components/SectionV2';\n\nconst { Panel } = Collapse;\n\nconst Header = ({ title }: { title: string }) => {\n  return <p className={css.title}>{title}</p>;\n};\n\nexport const ComponentBank = () => {\n  return (\n    <Scrollbars style={{ height: '100%' }} autoHide={true}>\n      <div className={css.components}>\n        <SectionV2 />\n        <Button />\n        <Text />\n        <Image />\n        <Spacer />\n        <Divider />\n        <Html />\n        <Social />\n      </div>\n    </Scrollbars>\n  );\n};\n","import { Modal, Radio } from 'antd';\nimport { RadioChangeEvent } from 'antd/lib/radio';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport './Preview.module.css';\n\nconst DESKTOP_WIDTH = '800px';\nconst MOBILE_WIDTH = '323px';\n\nconst FullscreenModal = styled(Modal).attrs({ title: 'Preview' })`\n  .ant-modal {\n    max-width: unset !important;\n    margin: unset !important;\n  }\n  .ant-modal-centered::before {\n    content: unset !important;\n  }\n  .ant-modal-content {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n  .ant-modal-body {\n    margin: 0px auto;\n  }\n`;\n\nconst PreviewMode = styled.div`\n  position: absolute;\n  bottom: 24px;\n  left: 24px;\n`;\n\ninterface PreviewProps {\n  visible: boolean;\n  visibleChange: (visible: boolean) => void;\n  inframeContent: string;\n}\n\nexport const Preview = ({ visible, visibleChange, inframeContent }: PreviewProps) => {\n  const [mode, setMode] = useState('desktop');\n\n  const onChange = (e: RadioChangeEvent) => {\n    if (e.target.value) {\n      setMode(e.target.value);\n    }\n  };\n\n  return (\n    <FullscreenModal\n      visible={visible}\n      onCancel={() => visibleChange(false)}\n      onOk={() => visibleChange(false)}\n      width={'unset'}\n      style={{ top: '0px', maxWidth: 'unset', paddingBottom: '0px', height: '100%' }}\n      bodyStyle={{ height: '100%' }}\n      maskStyle={{ height: '100%' }}\n      destroyOnClose={true}\n      footer={null}\n    >\n      <PreviewMode>\n        <ModeSelect onChange={onChange} value={mode} />\n      </PreviewMode>\n      {inframeContent ? (\n        <iframe\n          title=\"Preview\"\n          style={{ margin: '0px auto' }}\n          width={mode === 'desktop' ? DESKTOP_WIDTH : MOBILE_WIDTH}\n          height=\"100%\"\n          srcDoc={inframeContent}\n        />\n      ) : null}\n    </FullscreenModal>\n  );\n};\n\ninterface ModeSelectProps {\n  onChange: (e: RadioChangeEvent) => void;\n  value: string;\n}\n\nconst ModeSelect = ({ onChange, value }: ModeSelectProps) => {\n  return (\n    <>\n      <Radio.Group\n        onChange={onChange}\n        value={value}\n        options={[\n          { label: 'desktop', value: 'desktop' },\n          { label: 'mobile', value: 'mobile' },\n        ]}\n        buttonStyle=\"solid\"\n        optionType=\"button\"\n      />\n    </>\n  );\n};\n","import { View } from './View';\nimport css from './Editor.module.scss';\nimport { Attributes, OnlyAttributesDrawer } from './Attributes';\nimport { ComponentBank } from './ComponentBank';\nimport { Button } from 'antd';\nimport mjml2html from 'mjml-browser';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { forwardRef, useImperativeHandle, useState } from 'react';\nimport { Preview } from './Preview';\nimport { exportJson, importJson } from '../../Utils/mjmlProcessor';\nimport _ from 'lodash';\nimport { UNDOREDO } from '../../Utils/undoRedo';\nimport { useDragAndDropUniqueId } from '../../Hooks/Drag.hook';\nimport { EMPTY_EDITOR_STATE } from '../../Context/Editor.context';\n\nexport const Editor = forwardRef((props, ref) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [preview, setPreview] = useState(false);\n  const { getId } = useDragAndDropUniqueId();\n\n  useImperativeHandle(ref, () => {\n    return {\n      getHtml,\n      getJson,\n      loadJson,\n    };\n  });\n\n  /**\n   *\n   * @param json JSON-String | null\n   * null if want to load empty template\n   * @param raw boolean\n   * raw used for unprocessed json exports, restoring from crash with undoredo\n   * @returns\n   */\n  const loadJson = (json: string, raw: false) => {\n    try {\n      if (json !== null) {\n        const parsedJson = JSON.parse(json);\n        if (parsedJson) {\n          const processedJson = importJson(parsedJson, getId, raw);\n          processedJson && setMjmlJson({ ...processedJson });\n          UNDOREDO.newAction({ ...processedJson });\n        }\n      } else if (json === null) {\n        UNDOREDO.reset();\n        setMjmlJson(_.cloneDeep(EMPTY_EDITOR_STATE));\n      }\n    } catch (e) {\n      throw new Error('Invalid JSON');\n    }\n    return;\n  };\n\n  const getHtml = () => {\n    let html = '';\n    if (mjmlJson) {\n      html = mjml2html(mjmlJson).html;\n    }\n    return html;\n  };\n\n  const getJson = () => {\n    let json = {};\n    if (mjmlJson) {\n      const _json = JSON.stringify(exportJson(_.cloneDeep(mjmlJson)));\n      if (_json) {\n        json = _json;\n      }\n    }\n    return json;\n  };\n\n  return (\n    <div className={css.editor}>\n      <div className={css.bank}>\n        <ComponentBank />\n      </div>\n      <div className={css.view}>\n        <Preview\n          visible={preview}\n          visibleChange={(flag) => setPreview(flag)}\n          inframeContent={preview ? mjml2html(mjmlJson).html : ''}\n        />\n        <Button\n          style={{ position: 'absolute', top: '8px', right: '16px', zIndex: 300 }}\n          key=\"3\"\n          onClick={() => setPreview(true)}\n        >\n          Preview\n        </Button>\n        <View />\n      </div>\n      <div className={css.attributes} style={{ position: 'relative' }}>\n        <OnlyAttributesDrawer />\n        <Attributes />\n      </div>\n    </div>\n  );\n});\n","import { Editor } from './Editor';\nimport { DNDContext } from '../../Context/DragAndDrop.context';\nimport { EDContext } from '../../Context/Editor.context';\nimport { Ckeditor } from '../../Context/Ckeditor.context';\nimport { HtmlContextProvider } from '../../Context/Htmlwrapper.context';\nimport { QuillEditor } from '../../Context/Quill.context';\nimport { CustomEditorProvider } from '../../Context/CustomEditor.context';\nimport { forwardRef } from 'react';\n\nconst wrapContext = forwardRef((props, ref) => (\n  <HtmlContextProvider>\n    <CustomEditorProvider>\n      <QuillEditor>\n        <Ckeditor>\n          <DNDContext>\n            <EDContext>\n              <Editor ref={ref} />\n            </EDContext>\n          </DNDContext>\n        </Ckeditor>\n      </QuillEditor>\n    </CustomEditorProvider>\n  </HtmlContextProvider>\n));\n\nexport default wrapContext;\n","import { Button, Col, Row, Modal, Layout, PageHeader, Input, Form, message } from 'antd';\nimport { useEffect, useRef, useState } from 'react';\nimport { Prompt, useParams } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { useLazyGetTemplateQuery, useSendMailMutation } from '../../Api/api';\nimport { success } from '../../Components/Messages';\nimport { logger } from '../../Utils/logger';\nimport { UNDOREDO } from '../../Utils/undoRedo';\nimport Editor from '../Editor/';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { generatePreview } from '../../Utils/previewGenerator';\n\nconst { Content } = Layout;\n\nconst LOADING_KEY = 'loading';\n\nconst EditPage = () => {\n  const ref = useRef<any>(null);\n  const { templateId }: { templateId: string | undefined } = useParams();\n  const [trigger, { data, isError, isLoading, isSuccess }] = useLazyGetTemplateQuery();\n\n  useEffect(() => {\n    if (templateId === 'new' || typeof templateId === 'undefined') {\n      ref.current && ref.current.loadJson(null);\n    } else {\n      if (templateId) {\n        message.loading({ content: 'Fetching Template...', key: LOADING_KEY, duration: 0 });\n        trigger({ id: templateId });\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    if (isSuccess && data) {\n      try {\n        ref.current && ref.current.loadJson(data.response.data);\n      } catch (e) {\n        message.error('Unable to load template', 3);\n      }\n    } else if (isSuccess && !data) {\n      message.error('Template is empty', 2);\n    }\n    if (isSuccess) {\n      message.destroy(LOADING_KEY);\n    }\n    if (isError) {\n      message.info('Network error, template not fetched.', 2);\n    }\n  }, [isError, isLoading, isSuccess, data]);\n\n  const copyJsonInClipBoard = (e: any) => {\n    if (ref.current) {\n      e.preventDefault();\n      const json = ref.current.getJson();\n      logger.log('json', json);\n      navigator.clipboard.writeText(json);\n      success('Copied to Clipboard & logged in devtools ');\n    }\n  };\n\n  const copyHTMLAsClipBoard = (e: any) => {\n    if (ref.current) {\n      const html = ref.current.getHtml();\n      navigator.clipboard.writeText(html);\n      logger.log('html', html);\n      success('Copied to clipboard & logged in devtools ');\n      e.preventDefault();\n    }\n  };\n\n  const copyPreviewImage = async (e: any) => {\n    if (ref.current) {\n      e.preventDefault();\n      const html = ref.current.html;\n      navigator.clipboard.writeText(await generatePreview(html));\n      success('Preview Image Copied to clipboard');\n    }\n  };\n\n  return (\n    <div style={{ flex: '1', display: 'flex', width: '100%', height: '100%' }}>\n      <Row style={{ height: '100%', width: '100%' }} justify=\"center\">\n        <Prompt\n          when={UNDOREDO.undo.length > 1 || UNDOREDO.redo.length > 1}\n          message={() => 'Are you sure you want to leave, your changes will be lost'}\n        />\n        <Col lg={24} xl={0}>\n          <div style={{ textAlign: 'center', padding: '40px', paddingTop: '10%' }}>\n            <h3>Sorry, You need a device with a larger screen to perform editing, atleast '{'>'}=1200px'</h3>\n          </div>\n        </Col>\n        <Col xs={0} xl={24}>\n          <Layout style={{ height: '100%' }}>\n            <PageHeader\n              ghost={false}\n              onBack={() => window.history.back()}\n              title=\"dnde\"\n              subTitle=\"\"\n              style={{ borderBottom: '1px solid #e8e8e8' }}\n              extra={[\n                <>\n                  <SendTestMail editorRef={ref} key=\"4\" />\n                  {/* <Button key=\"5\" onClick={copyPreviewImage}>\n                Copy Preview Image\n              </Button> */}\n                  <Button key=\"2\" onClick={copyHTMLAsClipBoard}>\n                    Copy as html\n                  </Button>\n                  <Button key=\"1\" onClick={copyJsonInClipBoard}>\n                    Copy as json\n                  </Button>\n                </>,\n              ]}\n            ></PageHeader>\n            <Content>\n              <Editor ref={ref} />\n            </Content>\n          </Layout>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nexport { EditPage };\n\nlet MESSAGEID = 'sendMailid';\n\nconst SendTestMail = ({ editorRef }: { editorRef: any }) => {\n  const [form] = Form.useForm();\n  const [visible, setVisible] = useState(false);\n  const [sendMailApi] = useSendMailMutation();\n\n  const onOk = () => {\n    form.validateFields().then(async (values) => {\n      if (editorRef.current) {\n        const html = editorRef.current.getHtml();\n        if (html && html.trim().length > 0) {\n          message.loading({ content: 'mail is being sent', key: MESSAGEID, duration: 0 });\n          setVisible(false);\n          const result = (await sendMailApi({\n            to: values.email,\n            html: editorRef.current.getHtml(),\n          })\n            .unwrap()\n            .catch((e) => {\n              message.error({ content: 'unable to contact server', key: MESSAGEID, duration: 0 });\n            })) as any;\n          if (result) {\n            if (result.success) {\n              message.success({ content: result.success, key: MESSAGEID, duration: 4 });\n            } else if (result.error) {\n              message.error({ content: result.error, key: MESSAGEID, duration: 2 });\n            }\n          }\n        } else {\n          message.error('design can not be converted into html');\n        }\n        setVisible(false);\n      } else {\n        setVisible(false);\n      }\n    });\n  };\n\n  const onCancel = () => {\n    setVisible(false);\n  };\n\n  return (\n    <>\n      <Button key=\"2\" type=\"primary\" onClick={() => setVisible(!visible)}>\n        Send Test Mail\n      </Button>\n      <CustomModal\n        closable={false}\n        title={null}\n        visible={visible}\n        onOk={onOk}\n        onCancel={onCancel}\n        okText=\"sendMail\"\n        cancelText=\"cancel\"\n      >\n        <Form layout=\"vertical\" form={form}>\n          <Form.Item\n            label=\"Email\"\n            validateTrigger=\"onchange\"\n            name=\"email\"\n            rules={[{ required: true }, { type: 'email' }]}\n          >\n            <Input />\n          </Form.Item>\n        </Form>\n      </CustomModal>\n    </>\n  );\n};\n\nconst CustomModal = styled(Modal)`\n  .ant-modal-footer {\n    border-top: unset;\n  }\n\n  .ant-form-item {\n    margin-bottom: 0px;\n  }\n\n  .ant-modal-footer {\n    padding-top: 0px;\n  }\n`;\n\nconst modalConfirmLoadLocalState = async (okCallback: () => void, cancelCallback: () => void) => {\n  return new Promise<boolean>((resolve, reject) => {\n    Modal.confirm({\n      title: 'Confirm',\n      icon: <ExclamationCircleOutlined />,\n      content: 'local save found do you want to load it?',\n      okText: 'restore',\n      cancelText: 'cancel',\n      onOk: () => {\n        okCallback();\n        resolve(true);\n      },\n      onCancel: () => {\n        cancelCallback();\n        resolve(false);\n      },\n    });\n  });\n};\n","import { Routing } from './index.route';\n\nexport default Routing;\n","import { Switch, Route, Redirect } from 'react-router-dom';\nimport { List } from './List';\nimport { EditPage } from './EditPage';\n\nconst Routing = () => {\n  return (\n    <Switch>\n      <Route exact path={['', '/list']} component={List} />\n      <Route path=\"/template/:templateId\" component={EditPage} />\n      <Route path=\"*\">\n        <Redirect to=\"/\" />\n      </Route>\n    </Switch>\n  );\n};\n\nexport { Routing };\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  templates: [\n    {\n      id: 24234234,\n      preview: 'https://picsum.photos/320/550',\n    },\n    {\n      id: 4535345,\n      preview: 'https://picsum.photos/320/400',\n    },\n    {\n      id: 976824,\n      preview: 'https://picsum.photos/320/600',\n    },\n  ],\n};\nconst slice = createSlice({\n  name: 'templates',\n  initialState,\n  reducers: {},\n});\n\nexport const { reducer: templateListReducer } = slice;\n","import { configureStore } from '@reduxjs/toolkit';\nimport { FC } from 'react';\nimport { DndeApi } from '../Api/api';\nimport { templateListReducer } from './list';\n\nimport { Provider } from 'react-redux';\n\nconst store = configureStore({\n  reducer: { [DndeApi.reducerPath]: DndeApi.reducer, templateList: templateListReducer },\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(DndeApi.middleware),\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n\nexport const StoreProvider: FC = ({ children }) => {\n  return <Provider store={store}>{children}</Provider>;\n};\n","import React from 'react';\nimport { HashRouter } from 'react-router-dom';\nimport Pages from './Pages';\nimport 'antd/dist/antd.css';\nimport 'quill/dist/quill.snow.css';\nimport './App.scss';\nimport { StoreProvider } from './Store/store';\nimport { Modal } from 'antd';\n\nfunction App() {\n  return (\n    <StoreProvider>\n      <HashRouter\n        getUserConfirmation={async (message, callback) => {\n          const userConfirm = await new Promise<boolean>((resolve) => {\n            Modal.confirm({\n              title: message,\n              onOk: () => resolve(true),\n              onCancel: () => resolve(false),\n            });\n          });\n\n          callback(userConfirm);\n        }}\n      >\n        <div className=\"my-app\">\n          <Pages />\n        </div>\n      </HashRouter>\n    </StoreProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MyApp from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <MyApp />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Editor_layout__2Y-AK\",\"editor\":\"Editor_editor__qGS4j\",\"bank\":\"Editor_bank__3JqEw\",\"attributes\":\"Editor_attributes__32n0a\",\"components\":\"Editor_components__38eSg\",\"mods\":\"Editor_mods__3ZWIb\",\"columns\":\"Editor_columns__1Yrk0\",\"iconsContainer\":\"Editor_iconsContainer__KxyJq\",\"view\":\"Editor_view__eaZst\",\"viewHolder\":\"Editor_viewHolder__3pzWy\",\"title\":\"Editor_title__24LyS\"};"],"sourceRoot":""}