{"version":3,"sources":["Components/UiWrapper.module.scss","Pages/Editor/Preview.module.css","Assets/Images/new_template.svg","Pages/List/Preview.tsx","Api/api.ts","Pages/List/List.tsx","Components/Messages.tsx","Utils/logger.ts","Utils/undoRedo.ts","Context/DragAndDrop.context.tsx","Hooks/Drag.hook.ts","Context/Ckeditor.context.tsx","Hooks/Ckeditor.hook.ts","Utils/findElementInMjmlJson.ts","Utils/closestParent.ts","Utils/dragStart.ts","Components/Section.tsx","Lib/base64.js","Utils/mjmlProcessor.ts","Components/Mods/CustomInlineEditor.tsx","Context/Editor.context.tsx","Components/Mods/HeadStyle.ts","Components/Mods/FontConfig.ts","Context/Htmlwrapper.context.tsx","Hooks/Htmlwrapper.hook.ts","Hooks/Editor.hook.ts","Context/CustomEditor.context.tsx","Hooks/CustomEditor.hook.ts","Utils/detectEmptyBody.ts","Utils/findElementsParent.ts","Utils/eventElementRelation.ts","Utils/generateDropItemPlaceholder.ts","Utils/typeoftag.ts","Utils/reorderSections.ts","Utils/inlineEditorActions.ts","Components/ColorPicker.tsx","Components/Mods/Background.tsx","Components/Mods/WidthHeight.tsx","Components/Mods/Title.tsx","Components/Mods/AddCustomFonts.tsx","Components/BodyAttributes.tsx","Hooks/Attribute.hook.ts","Hooks/useFonts.ts","Components/Mods/Link.tsx","Components/MoveUpDownRow.tsx","Components/HtmlWrapper.tsx","Utils/setToolbarPositions.ts","Utils/reactPropertyNames.ts","Utils/wrapWithOutline.tsx","Utils/htmlProcessor.tsx","Utils/removePlaceholders.ts","Utils/operations.ts","Utils/findTextNode.ts","Context/Quill.context.tsx","Hooks/Quill.hook.ts","Components/Mods/Editor.tsx","Components/UndoRedo.tsx","Pages/Editor/View.tsx","Components/Mods/Align.tsx","Components/Mods/Border.tsx","Components/Mods/BorderRadius.tsx","Components/Mods/ContainerBackground.tsx","Components/Mods/Content.tsx","Components/Mods/CordinalBorder.tsx","Components/Mods/FontSize.tsx","Components/Mods/Img.tsx","Components/Mods/InnerPadding.tsx","Components/Mods/Paddings.tsx","Components/ColumnSelector.tsx","Components/Mods/FontFamily.tsx","Components/Mods/VerticalAlign.tsx","Components/Mods/BackgroundImage.tsx","Components/ColumnAttributes.tsx","Components/Mods/LineHeight.tsx","Pages/Editor/Attributes.tsx","Components/UiWrapper.tsx","Components/Button.tsx","Components/Text.tsx","Components/Image.tsx","Components/Spacer.tsx","Components/Html.tsx","Components/Divider.tsx","Components/Social.tsx","Components/SectionV2.tsx","Pages/Editor/ComponentBank.tsx","Pages/Editor/Preview.tsx","Pages/Editor/Editor.tsx","Pages/Editor/index.tsx","Pages/EditPage/index.tsx","Pages/index.ts","Pages/index.route.tsx","Store/list.ts","Store/store.tsx","App.tsx","reportWebVitals.ts","index.tsx","Pages/Editor/Editor.module.scss"],"names":["module","exports","PreviewContainer","styled","div","NewItem","history","useHistory","path","useRouteMatch","className","PlusOutlined","style","fontSize","onClick","push","size","type","src","newTemplate","alt","Preview","image","id","skeleton","height","minWidth","maxWidth","padding","DndeApi","createApi","baseQuery","fetchBaseQuery","baseUrl","process","endpoints","builder","getTemplates","query","getTemplate","sendMail","mutation","data","url","method","body","useGetTemplatesQuery","useLazyGetTemplateQuery","useSendMailMutation","List","isLoading","isSuccess","isError","autoHide","align","justify","span","textAlign","paddingTop","md","lg","target","href","GithubFilled","position","top","gutter","map","item","key","xs","active","response","docRef","preview","success","msg","message","logger","console","log","error","info","UNDOREDO","undo","redo","this","action","length","_","isEqual","peekUndo","copy","storeToLocalStorage","current","itemToApply","pop","undoAction","redoAction","peek","localStorage","setItem","JSON","stringify","e","cloneDeep","window","UNDOREO","def","mutableAttributes","DragAndCropContext","createContext","DNDContext","props","ref","useRef","Provider","value","genId","children","useDragAndDropUniqueId","useContext","getId","CkeditorContext","Ckeditor","editorRef","ckeditorInstance","useState","editorActive","setActive","x","setX","y","setY","delActive","setDelActive","delX","setDelX","delY","setDelY","copyActive","setCopyActive","copyX","setCopyX","copyY","setCopyY","isColumn","setIsColumn","isActive","drag","useCkeditor","findElementInJson","mjmljson","classidentifier","undefined","element","attributes","classNames","includes","i","child","res","findClosestParent","closest","uniqueClassName","findUniqueIdentifier","classList","classlist","identifier","findUniqueIdentifierFromString","split","generateUniqueIdRecursively","uidGenerator","attr","css_class","uid","updatedClassNames","classNamesArr","regexMatch","trim","match","replace","replaceGeneicTagWithUniqueId","findIndexOfIdentifierInChildren","uniqueIdentifier","dragStart","config","dataTransfer","effectAllowed","draggingItem","setDragImage","setData","columnPlaceholder","tagName","width","content","COLUMN","mutableProperties","SECTION","cannot_have","Base64","Row","_keyStr","encode","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","output","_utf8_encode","charCodeAt","isNaN","charAt","decode","indexOf","String","fromCharCode","_utf8_decode","string","utftext","n","c","c2","c3","cleanMjmlJson","mjmlJson","ignore","cssClass","isIgnoring","newChildren","result","exportJson","css","newCss","join","replaceContent","r","importJson","idGenerator","rawContent","regeneratedIdJson","consolidatedHeaders","exisitngHeaders","pageHeaers","PageHeaderItems","EditorContext","name","font","initialState","LOADING_KEY","EDContext","templateId","useParams","setMjmlJson","trigger","useEffect","a","restoreFromLocalStorage","then","isRestored","newAction","loading","duration","processedJson","parse","destroy","setAttributes","HtmlContext","HtmlContextProvider","memo","uiWrapperList","setUIWrapperList","activeHover","setActiveHover","setId","uiList","useHtmlWrapper","useEditor","CustomEditorContext","status","CustomEditorProvider","useCustomEditorPosition","useCustomEditorStatus","detectEmptyElement","nodeWithReactProperties","detect","detectElement","recursivelyFindParent","node","parentClassPartial","parent","parentElement","findSectionOfElement","isEventWithTargetElement","event","pos","getBoundingClientRect","eventX","clientX","eventY","clientY","within","left","right","bottom","generateDropItemPlaceholder","columnElement","currentTarget","nearestTag","nearestElement","suggestionDirection","middle","floor","closeToTopOrBottom","slice","lastIndexOf","parentObj","get","newOrder","childItem","placeItemPlaceHolder","updated","set","uniqueColumnIdentifier","cleaned","typeoftag","regExMatch","regex","moveSectionUp","directon","parentItem","parentPath","indexOfItem","childSection","nextChild","update_parent","InlineEditorActions","extras","preventDefault","stopPropagation","document","execCommand","ColorPicker","handleChange","mouseDown","color","setColor","ColorPickerContainer","onMouseDown","disableAlpha","onChange","hexCode","hex","decimalToHex","rgb","g","b","handleColorChange","alpha","Math","round","toString","Background","activePath","label","attribute","overrideAttribute","useVisibility","customPath","visible","flex","Item","json","Col","ATTRIBUTE","Width","setValue","getValue","useValue","onKeyDown","ATTRIBUTE_HEIGHT","Height","Title","index","itemIndex","titleConfig","addonBefore","onBlur","update","AddCustomFonts","fonts","setFonts","addFontActive","setAddFontActive","head","_fonts","filter","lenght","justifyContent","paddingBottom","display","rowGap","flexWrap","title","closable","onClose","fontName","filteredfonts","handleRemove","placement","addCustomFontClick","popOverCallBacK","FontInputContainer","GetFontsValue","setFontName","fontUrl","setFontUrl","marginLeft","BODY_PATH","BodyContainer","BodyAttributes","titleIndex","setTitleIndex","setCssIndex","headConfig","property","setVisible","setPath","pathToElement","useFonts","updateFonts","_value","fontList","sortedFontList","sort","uniq","mailFont","toUpdate","Link","setValueInState","userValue","addHttps","restoreSelection","restoreSel","getSelection","temp","removeAllRanges","addRange","InlineEditor","activeElement","fontlist","toolbar","querySelectorAll","forEach","addEventListener","ResetEventBehaviour","removeEventListener","editor","Event","stateChangeCallback","onKeyUp","getRangeAt","add","setAttribute","border","zIndex","backgroundColor","transition","dropdownStyle","defaultValue","Array","from","keys","Option","onFocus","overlayClassName","destroyTooltipOnHide","icon","FontColorsOutlined","BgColorsOutlined","BoldOutlined","ItalicOutlined","UnderlineOutlined","setLinkCallback","LinkItem","link","setLink","linkRef","gap","placeholder","LinkOutlined","closestParent","find","itemJson","updateToSend","html","innerHTML","MoveUpDown","idRef","upActive","setUpActive","downActive","setDownActive","lastItem","flexDirection","disabled","VerticalAlignTopOutlined","moveSectionDown","VerticalAlignBottomOutlined","HtmlWrapper","uniqueKey","originalNode","customEditorSetX","customEditorSetY","setCustomEditorStatus","uniqueId","useMemo","mjmlTarget","delete","numberOfIcons","setToolBars","draggable","outline","outlineClick","memoFind","useCallback","tag","ItemName","createElement","background","moveUpDown","nodeName","onDragOver","debounce","nativeEvent","cleanedMjmlJson","columnObj","sectionPath","parentSection","columnChildrenNewOrder","childColumn","genereateDropItemPlaceholderForColumn","onMouseOver","onDragStart","dropEffect","mode","cursor","possibleStandardNames","accept","acceptcharset","accesskey","allowfullscreen","as","async","autocapitalize","autocomplete","autocorrect","autofocus","autoplay","autosave","capture","cellpadding","cellspacing","challenge","charset","checked","cite","class","classid","classname","cols","colspan","contenteditable","contextmenu","controls","controlslist","coords","crossorigin","dangerouslysetinnerhtml","datetime","default","defaultchecked","defaultvalue","defer","dir","disablepictureinpicture","disableremoteplayback","download","enctype","enterkeyhint","for","form","formmethod","formaction","formenctype","formnovalidate","formtarget","frameborder","headers","hidden","high","hreflang","htmlfor","httpequiv","innerhtml","inputmode","integrity","is","itemid","itemprop","itemref","itemscope","itemtype","keyparams","keytype","kind","lang","list","loop","low","manifest","marginwidth","marginheight","max","maxlength","media","mediagroup","min","minlength","multiple","muted","nomodule","nonce","novalidate","open","optimum","pattern","playsinline","poster","preload","profile","radiogroup","readonly","referrerpolicy","rel","required","reversed","role","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","sizes","spellcheck","srcdoc","srclang","srcset","start","step","summary","tabindex","usemap","wmode","wrap","about","accentheight","accumulate","additive","alignmentbaseline","allowreorder","alphabetic","amplitude","arabicform","ascent","attributename","attributetype","autoreverse","azimuth","basefrequency","baselineshift","baseprofile","bbox","begin","bias","by","calcmode","capheight","clip","clippath","clippathunits","cliprule","colorinterpolation","colorinterpolationfilters","colorprofile","colorrendering","contentscripttype","contentstyletype","cx","cy","d","datatype","decelerate","descent","diffuseconstant","direction","divisor","dominantbaseline","dur","dx","dy","edgemode","elevation","enablebackground","end","exponent","externalresourcesrequired","fill","fillopacity","fillrule","filterres","filterunits","floodopacity","floodcolor","focusable","fontfamily","fontsize","fontsizeadjust","fontstretch","fontstyle","fontvariant","fontweight","format","fx","fy","g1","g2","glyphname","glyphorientationhorizontal","glyphorientationvertical","glyphref","gradienttransform","gradientunits","hanging","horizadvx","horizoriginx","ideographic","imagerendering","in2","in","inlist","intercept","k1","k2","k3","k4","k","kernelmatrix","kernelunitlength","kerning","keypoints","keysplines","keytimes","lengthadjust","letterspacing","lightingcolor","limitingconeangle","local","markerend","markerheight","markermid","markerstart","markerunits","markerwidth","mask","maskcontentunits","maskunits","mathematical","numoctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlineposition","overlinethickness","paintorder","panose1","pathlength","patterncontentunits","patterntransform","patternunits","pointerevents","points","pointsatx","pointsaty","pointsatz","prefix","preservealpha","preserveaspectratio","primitiveunits","radius","refx","refy","renderingintent","repeatcount","repeatdur","requiredextensions","requiredfeatures","resource","restart","results","rotate","rx","ry","scale","security","seed","shaperendering","slope","spacing","specularconstant","specularexponent","speed","spreadmethod","startoffset","stddeviation","stemh","stemv","stitchtiles","stopcolor","stopopacity","strikethroughposition","strikethroughthickness","stroke","strokedasharray","strokedashoffset","strokelinecap","strokelinejoin","strokemiterlimit","strokewidth","strokeopacity","suppresscontenteditablewarning","suppresshydrationwarning","surfacescale","systemlanguage","tablevalues","targetx","targety","textanchor","textdecoration","textlength","textrendering","to","transform","typeof","u1","u2","underlineposition","underlinethickness","unicode","unicodebidi","unicoderange","unitsperem","unselectable","valphabetic","values","vectoreffect","version","vertadvy","vertoriginx","vertoriginy","vhanging","videographic","viewbox","viewtarget","visibility","vmathematical","vocab","widths","wordspacing","writingmode","x1","x2","xchannelselector","xheight","xlinkactuate","xlinkarcrole","xlinkhref","xlinkrole","xlinkshow","xlinktitle","xlinktype","xmlbase","xmllang","xmlns","xmlnsxlink","xmlspace","y1","y2","ychannelselector","z","zoomandpan","WrapWithOutline","domParser","DOMParser","converter","toLowerCase","el","React","httpEquiv","dangerouslySetInnerHTML","__html","reactName","toCamelCase","convertStyleStringToObject","original","childNodes","textContent","replaceAll","contains","nodeType","styleObject","styleArray","stylePair","str","$1","toUpperCase","removePlaceholderBanner","Remove","ucn","movement","ObjectEquivalent","last","indexToRemove","parseInt","Copy","parentUniqueIdentifier","next_parent","getIndexOfElementInParent","copyOfConfig","droppedConfig","parentUniqueClassIdentifier","droppedConfigWithUid","splice","AddAtIndex","findTextNode","textNode","closestDivToTextNode","parentNode","QuillContext","QuillEditor","QuillActive","setQuillActive","quillEditor","setQuillEditor","quillX","setQuillX","quillY","setQuillY","useQuillEditor","Editor","useUniqueIdGenerator","on","change","container","firstChild","off","hasAttribute","remove","lquill","Quill","theme","modules","getModule","clone","cloneNode","replaceChild","attach","scroll","domNode","deleteConfirm","CopyOperation","Delete","okText","cancelText","onConfirm","UndoRedo","undoCallback","redoCallback","mouseEnterDelay","isUndoEmpty","UndoOutlined","isRedoEmpty","RedoOutlined","DesignContainer","View","print","viewHolder","onDrop","getData","itemToInsert","insertAtPlaceholderIndicatorPosition","Add","MjmlProcessor","mjml","doc","parseFromString","htmlProcessor","mjml2html","alignOptions","prop","component","Align","Border","attributeName","attribute_name","BorderRadius","RegExp","exec","matchedValue","ContainerBackground","clicked","PROPERTY","Content","isReadOnly","setIsReadOnly","htmlBlock","setHtmlBlock","TextArea","readOnly","CordinalBorder","valuel","valuer","valueb","valuet","Group","marginBottom","FontSize","Img","InnerPadding","UpdateValue","Padding","setPadding","vertical","horizontal","borderRadius","borderRight","ColumnSelector","setCustomEditorActive","sectionIdentifier","setSectionIdentifier","section","handleClick","changeTo","existingLength","convertLength","preProcessedColumn","updatedItem","click","one","marginTop","two","three","four","Image","flexGrow","SectionTitle","SectionImage","Select","FontFamily","fontvalue","VerticalAlign","URL","SIZE","REPEAT","BackgroundImage","setUrl","setSize","repeat","setRepeat","urlVisibility","urlPath","sizeVisibility","sizePath","repeatVisiblity","repeatPath","TabPane","Tabs","CustomTabs","ColumnAttributes","columns","setActiveColumns","uniqueSectionIdentifier","_columns","centered","tabBarGutter","defaultActiveKey","destroyInactiveTabPane","column","tab","LineHeight","IncrementDecrementInput","SetValue","changeValue","addonAfter","Input","increment","existingValue","toSearch","valueIncrementNumber","valueToSet","Attributes","tabPosition","OnlyAttributesDrawer","isDisabled","setIsDisabled","init","setInit","destroyOnClose","getContainer","maskClosable","bodyStyle","mods","UiWrapper","wrapper","properties","properties_with_default_values","assigned_default_values","Button","mutalbePropertiesWithDefaultValues","onDragEnd","Text","Spacer","Html","Divider","social_properties","social_element_config","Social","SectionV2","ComponentBank","Collapse","Panel","components","FullscreenModal","Modal","attrs","PreviewMode","visibleChange","inframeContent","setMode","onCancel","onOk","maskStyle","footer","margin","srcDoc","ModeSelect","options","buttonStyle","optionType","forwardRef","setPreview","useImperativeHandle","getHtml","getJson","reset","_json","bank","view","flag","wrapContext","Layout","EditPage","confirm","when","xl","ghost","onBack","back","subTitle","borderBottom","extra","navigator","clipboard","writeText","sendEmail","MESSAGEID","SendTestMail","Form","useForm","sendMailApi","CustomModal","validateFields","email","unwrap","catch","layout","validateTrigger","rules","Routing","exact","templateListReducer","createSlice","templates","reducers","reducer","store","configureStore","reducerPath","middleware","getDefaultMiddleware","concat","StoreProvider","App","getUserConfirmation","callback","Promise","resolve","userConfirm","Pages","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e6862bbf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UiWrapper_wrapper__23xNH\",\"container\":\"UiWrapper_container__2hsjd\",\"button\":\"UiWrapper_button__25Pv1\",\"text\":\"UiWrapper_text__3oy98\",\"image\":\"UiWrapper_image__3F-94\",\"html\":\"UiWrapper_html__12ygP\",\"spacer\":\"UiWrapper_spacer__1yYqc\",\"divider\":\"UiWrapper_divider__B19qo\",\"social\":\"UiWrapper_social__3MvUF\",\"section\":\"UiWrapper_section__2ovUo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ant-modal\":\"Preview_ant-modal__3_7T8\",\"andt-modal-centered\":\"Preview_andt-modal-centered__3GZwp\"};","export default __webpack_public_path__ + \"static/media/new_template.3bcc1262.svg\";","import { Button } from 'antd';\nimport styled from 'styled-components';\nimport { PlusOutlined } from '@ant-design/icons';\nimport newTemplate from '../../Assets/Images/new_template.svg';\nimport { useHistory, useLocation, useRouteMatch } from 'react-router';\nimport { ReactNode } from 'react';\n\ninterface PreviewProps {\n  image?: string;\n  skeleton?: ReactNode;\n  id: string;\n}\n\nconst PreviewContainer = styled.div`\n  flex: 1 1 0%;\n  border: 0.4px solid rgb(225, 230, 242);\n  filter: drop-shadow(rgba(0, 0, 0, 0.08) 4px 4px 4px);\n  max-height: 500px;\n  min-height: 150px;\n  height: min-content;\n  max-width: 280px;\n  overflow: hidden;\n  border-radius: 4px;\n  margin-bottom: 25px;\n  transition: all 0.2s ease 0s;\n  position: relative;\n  text-align: center;\n  margin: 0 auto;\n\n  .hoverItem {\n    display: none;\n    position: absolute;\n    inset: 0px;\n    background: rgba(255, 255, 255, 0.9);\n    padding: 20px;\n    flex-direction: column;\n    .content {\n      display: flex;\n      flex: 1;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n    }\n  }\n\n  .hoverItem.alwaysActive {\n    display: flex;\n    background: unset;\n  }\n\n  &:hover {\n    box-shadow: rgb(0 0 0 / 15%) 0px 5px 20px;\n    .hoverItem {\n      display: flex;\n    }\n  }\n\n  img,\n  .newTemplate {\n    max-width: 280px;\n  }\n  .newTemplate {\n    max-height: 500px;\n    min-height: 250px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-bottom: 60px;\n  }\n\n  .btn-choose {\n    padding: 8px 16px;\n    text-transform: capitalize;\n  }\n`;\n\nexport const NewItem = () => {\n  const history = useHistory();\n  const { path } = useRouteMatch();\n  const onClick = () => {\n    history.push(`${path}/template/new`);\n  };\n\n  return (\n    <PreviewContainer>\n      <div className=\"newTemplate\">\n        <PlusOutlined style={{ fontSize: '40px' }} />\n      </div>\n      <div className=\"hoverItem alwaysActive\">\n        <div className=\"content\">\n          <Button onClick={onClick} size=\"large\" type=\"primary\" className=\"btn-choose\">\n            New Template\n          </Button>\n        </div>\n      </div>\n      <div>\n        <img src={newTemplate} alt=\"img new template\" />\n      </div>\n    </PreviewContainer>\n  );\n};\n\nconst Preview = ({ image, id, skeleton }: PreviewProps) => {\n  const history = useHistory();\n  const { path } = useRouteMatch();\n  const onClick = () => {\n    history.push(`${path}/template/${id}`);\n  };\n  return (\n    <PreviewContainer>\n      {skeleton ? (\n        <div style={{ height: '350px', minWidth: '280px', maxWidth: '280px', padding: '24px 24px' }}>{skeleton}</div>\n      ) : (\n        <img height=\"350px\" src={image} alt=\"preview\" />\n      )}\n      <div className=\"hoverItem\">\n        <div className=\"content\">\n          <Button onClick={onClick} size=\"large\" type=\"primary\" className=\"btn-choose\">\n            choose\n          </Button>\n        </div>\n      </div>\n    </PreviewContainer>\n  );\n};\nexport { Preview };\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\nexport interface ListTemplateResponse {\n  response: ListTemplateInfo[];\n}\n\nexport interface ListTemplateInfo {\n  preview: string;\n  docRef: string;\n  id: number;\n}\n\nexport interface getTemplateRequest {\n  id: string;\n}\n\nexport interface getTemplateResponse {\n  response: Response;\n}\nexport interface Response {\n  date: string;\n  docRef: string;\n  data: string;\n}\n\nexport interface sendMailRequest {\n  to: string;\n  html: string;\n}\n\ninterface SuccessResponse {\n  success: string;\n}\n\ninterface FailureResponse {\n  error: string;\n}\n\nexport const DndeApi = createApi({\n  baseQuery: fetchBaseQuery({ baseUrl: process.env.REACT_APP_API }),\n  endpoints: (builder) => ({\n    getTemplates: builder.query<ListTemplateResponse, void>({\n      query: () => `templates/`,\n    }),\n    getTemplate: builder.query<getTemplateResponse, getTemplateRequest>({\n      query: ({ id }) => `templates/${id}`,\n    }),\n    sendMail: builder.mutation<SuccessResponse | FailureResponse, sendMailRequest>({\n      query: (data) => {\n        return {\n          url: 'mail/demomail/',\n          method: 'POST',\n          body: data,\n        };\n      },\n    }),\n  }),\n});\n\nexport const { useGetTemplatesQuery, useLazyGetTemplateQuery, useSendMailMutation } = DndeApi;\n","import { NewItem, Preview } from './Preview';\nimport './List.scss';\nimport { useGetTemplatesQuery } from '../../Api/api';\nimport { Col, Row, Skeleton } from 'antd';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport { GithubFilled } from '@ant-design/icons';\n\nconst List = () => {\n  const { data, isLoading, isError, isSuccess } = useGetTemplatesQuery();\n\n  return (\n    <Scrollbars autoHide={true} style={{ height: '100%' }}>\n      <div className=\"template\">\n        <Row align=\"middle\" justify=\"center\" className=\"header\">\n          <Col span={24}>\n            <Row align=\"middle\" justify=\"center\">\n              <Col>\n                <span className=\"title\">Dnde</span>\n              </Col>\n            </Row>\n          </Col>\n          <Col span={24}>\n            <Row align=\"middle\" justify=\"center\">\n              <Col style={{ textAlign: 'center' }}>\n                <span className=\"subtitle\">\n                  Drag and Drop Editor tailored for <b>Mails</b>\n                </span>\n              </Col>\n            </Row>\n          </Col>\n          <Col style={{ paddingTop: '24px' }} span={24}>\n            <Row align=\"middle\" justify=\"center\">\n              <Col className=\"info\" md={24} lg={10} style={{ textAlign: 'center' }}>\n                <span>\n                  All features are optimised for mails, work flexibly through import/export, with responsive design for\n                  all devices.\n                </span>\n                <br />\n\n                <a target=\"_blank\" href=\"https://github.com/aghontpi/dnde\">\n                  <span>\n                    Check it on Github <GithubFilled style={{ position: 'relative', top: '4px', fontSize: '32px' }} />\n                  </span>\n                </a>\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n\n        <Row className=\"choose-template\" align=\"middle\" gutter={[0, 8]} justify=\"center\">\n          <Col span={16}>\n            <span className=\"title\">Choose a template and get started.</span>\n          </Col>\n          <Col span={16}>\n            <span className=\"subtitle\">All templates are redesigned in dnde, using original mail as reference.</span>\n          </Col>\n        </Row>\n\n        <Row justify=\"center\" className=\"template-list\" gutter={[0, 40]}>\n          <Col lg={6}>\n            <NewItem />\n          </Col>\n          {isLoading &&\n            [1, 2].map((item, key) => {\n              return (\n                <Col xs={24} md={12} lg={6} style={{ textAlign: 'center' }}>\n                  <Preview\n                    key={key}\n                    id={'8x93dummy'}\n                    skeleton={\n                      <>\n                        <Skeleton active={true} />\n                        <Skeleton active={true} />\n                      </>\n                    }\n                  />\n                </Col>\n              );\n            })}\n          {isSuccess && data\n            ? data.response.map((item, key) => {\n                return (\n                  <Col lg={6}>\n                    <Preview key={key} id={item.docRef} image={item.preview} />\n                  </Col>\n                );\n              })\n            : null}\n        </Row>\n      </div>\n    </Scrollbars>\n  );\n};\n\nexport { List };\n","import { message } from 'antd';\n\nconst success = (msg: string) => {\n  message.success(msg);\n};\n\nconst error = (msg: string) => {\n  message.error(msg);\n};\n\nconst warning = (msg: string) => {\n  message.warning(msg);\n};\n\nexport { success, error, warning };\n","const logger = {\n  log: (...args: any) => {\n    console.log(...args);\n  },\n  error: (...args: any) => {\n    console.error(...args);\n  },\n  info: (...args: any) => {\n    console.info(...args);\n  },\n};\n\nexport { logger };\n","import _ from 'lodash';\nimport { logger } from './logger';\n\nclass UndoRedo {\n  public undo: any[];\n  redo: any[];\n\n  constructor() {\n    this.undo = [];\n    this.redo = [];\n  }\n\n  public newAction(action: any) {\n    if (this.undo.length > 0 && _.isEqual(action, this.peekUndo())) {\n      logger.log('undoredo: prev action and new action are same, not performing action');\n      return;\n    }\n    this.undo.push(this.copy(action));\n    this.redo = [];\n    this.storeToLocalStorage();\n  }\n\n  public undoAction(current: any = false): any {\n    if (this.undo.length < 1) {\n      return false;\n    }\n\n    const itemToApply = this.copy(this.undo.pop());\n    this.redo.push(itemToApply);\n\n    if (current && _.isEqual(itemToApply, current)) {\n      logger.log('undoredo: undo action but view and current are same, proceeding one more step');\n      return this.undoAction(current);\n    }\n\n    return itemToApply;\n  }\n\n  public redoAction(current: any = false): any {\n    if (this.redo.length < 1) {\n      return false;\n    }\n\n    const itemToApply = this.copy(this.redo.pop());\n    this.undo.push(itemToApply);\n    if (current && _.isEqual(itemToApply, current)) {\n      logger.log('undoredo: redo action but view and current are same, proceeding one more step');\n      return this.redoAction(current);\n    }\n    return itemToApply;\n  }\n\n  public peekUndo() {\n    let peek: any | boolean = false;\n    if (this.undo.length > 0) {\n      peek = this.copy(this.undo[this.undo.length - 1]);\n    }\n    return peek;\n  }\n\n  public peekRedo() {\n    let peek: any | boolean = false;\n    if (this.redo.length > 0) {\n      peek = this.redo[this.redo.length - 1];\n    }\n    return peek;\n  }\n\n  public isUndoEmpty() {\n    return this.undo.length === 0;\n  }\n\n  public isRedoEmpty() {\n    return this.redo.length === 0;\n  }\n\n  public reset() {\n    this.undo = [];\n    this.redo = [];\n  }\n\n  public print() {\n    logger.log('undoredo: ', this.undo, this.redo);\n  }\n\n  private storeToLocalStorage() {\n    try {\n      localStorage.setItem('actions', JSON.stringify(this.undo[this.undo.length - 1]));\n    } catch (e) {\n      logger.log('undoredo: error storing to local storage');\n      logger.log('undoredo: it is possible this occured due to storage limit in localStorage,truncating undo');\n    }\n  }\n\n  private copy(item: any) {\n    return _.cloneDeep(item);\n  }\n}\n\nvar UNDOREDO = new UndoRedo();\n\n(window as any).UNDOREO = UNDOREDO;\n\nexport { UNDOREDO };\n","import { createContext, FC, useEffect, useMemo, useRef } from 'react';\n\nconst def = {\n  mutableAttributes: {},\n  id: '',\n  type: '',\n};\n\nexport const DragAndCropContext = createContext<any>(def);\n\nexport const DNDContext: FC = (props) => {\n  const ref = useRef(1);\n\n  const genId = () => {\n    if (ref.current && typeof ref.current === 'number') {\n      return ++ref.current;\n    }\n  };\n\n  return <DragAndCropContext.Provider value={{ genId }}>{props.children}</DragAndCropContext.Provider>;\n};\n","import { useContext } from 'react';\nimport { DragAndCropContext } from '../Context/DragAndDrop.context';\n\nconst useDragAndDropUniqueId = () => {\n  const { genId } = useContext(DragAndCropContext);\n  return {\n    getId: () => genId(),\n  };\n};\n\nexport { useDragAndDropUniqueId, useDragAndDropUniqueId as useUniqueIdGenerator };\n","import { createContext, FC, useRef, useState } from 'react';\n\nexport const CkeditorContext = createContext<any>(null);\n\nexport const Ckeditor: FC = (props) => {\n  const editorRef = useRef(null);\n  const ckeditorInstance = useRef(null);\n  const [editorActive, setActive] = useState(false);\n  const [x, setX] = useState(0);\n  const [y, setY] = useState(0);\n  const [delActive, setDelActive] = useState(false);\n  const [delX, setDelX] = useState(0);\n  const [delY, setDelY] = useState(0);\n  const [copyActive, setCopyActive] = useState(false);\n  const [copyX, setCopyX] = useState(0);\n  const [copyY, setCopyY] = useState(0);\n  const [isColumn, setIsColumn] = useState(false);\n\n  // should only be one instance, only manipulate the locations\n  return (\n    <CkeditorContext.Provider\n      value={{\n        ref: editorRef,\n        isActive: editorActive,\n        setActive,\n        x,\n        y,\n        setX,\n        setY,\n        delX,\n        delY,\n        setDelX,\n        setDelY,\n        drag: {\n          isColumn,\n          setIsColumn,\n        },\n        copy: {\n          copyActive,\n          setCopyActive,\n          copyX,\n          setCopyX,\n          copyY,\n          setCopyY,\n        },\n        delActive,\n        setDelActive,\n        ckeditorInstance,\n      }}\n    >\n      {props.children}\n    </CkeditorContext.Provider>\n  );\n};\n","import { useContext } from 'react';\nimport { CkeditorContext } from '../Context/Ckeditor.context';\n\nexport const useCkeditor = () => {\n  const Ckeditor = useContext(CkeditorContext);\n  return Ckeditor as unknown as {\n    ref: any;\n    isActive: boolean;\n    setActive: (arg: boolean) => void;\n    x: number;\n    y: number;\n    setX: (arg: number) => void;\n    setY: (arg: number) => void;\n    delX: number;\n    delY: number;\n    setDelX: (arg: number) => void;\n    setDelY: (arg: number) => void;\n    delActive: boolean;\n    setDelActive: (arg: boolean) => void;\n    ckeditorInstance: any;\n    drag: {\n      isColumn: boolean;\n      setIsColumn: (arg: boolean) => void;\n    };\n    copy: {\n      copyActive: boolean;\n      setCopyActive: (arg: boolean) => void;\n      copyX: number;\n      copyY: number;\n      setCopyX: (arg: number) => void;\n      setCopyY: (arg: number) => void;\n    };\n  };\n};\n","export const findElementInJson = (mjmljson: any, classidentifier: any, path = ''): any => {\n  if (mjmljson === undefined) {\n    return null;\n  }\n  const element = mjmljson;\n  if (element.attributes && element.attributes['css-class']) {\n    const classNames: string = element.attributes['css-class'];\n    if (classNames.includes(classidentifier)) {\n      return [element, path];\n    }\n  }\n  if (element.children) {\n    for (var i = 0; i < element.children.length; i++) {\n      const child = element.children[i];\n      const res = findElementInJson(child, classidentifier, path + `.children[${i}]`);\n      if (res) {\n        return res;\n      }\n    }\n  }\n\n  return null;\n};\n","import { findElementInJson } from './findElementInMjmlJson';\nimport { findColumnOfElement } from './findElementsParent';\nimport { logger } from './logger';\n\nconst findClosestParent = (element: HTMLElement) => {\n  const closest = element.closest('.mjml-tag');\n  let uniqueClassName = null;\n\n  if (!closest) {\n    logger.info('unable to find closest');\n    return uniqueClassName;\n  }\n\n  uniqueClassName = findUniqueIdentifier(closest, closest.classList);\n\n  if (!uniqueClassName) {\n    logger.info('unable to find identifier');\n  }\n\n  return uniqueClassName;\n};\n\nconst findUniqueIdentifier = (element: Element, classlist: DOMTokenList, identifier = 'identifier-mj') => {\n  let uniqueClassName = null;\n  for (var i = 0; classlist && i < classlist.length; i++) {\n    const current = classlist[i];\n    if (current.includes(identifier)) {\n      uniqueClassName = current;\n      break;\n    }\n  }\n  return uniqueClassName;\n};\n\nconst findUniqueIdentifierFromString = (classList: string) => {\n  return findUniqueIdentifier(null as unknown as Element, classList.split(' ') as unknown as DOMTokenList);\n};\n\nconst replaceGeneicTagWithUniqueId = (classNames: string, uid: string) => {\n  let updatedClassNames = '';\n  if (typeof classNames !== 'string') {\n    logger.log(`classNames should be string while generating uniqueIdentifier, but found ${typeof classNames} instead`);\n    return null;\n  }\n  let classNamesArr = classNames.split(' ');\n  for (var i = 0; i < classNamesArr.length; i++) {\n    let current = classNamesArr[i];\n    if (current.includes('identifier-mj')) {\n      current = current.trim();\n\n      // checking if the element has already uniqueId,\n      //   if it has, instead of appending uid to tag, need to replace it.\n      const regexMatch = current.match(/-(\\d+)/); // regex match number after '-'\n      const log = current;\n      if (regexMatch) {\n        current = current.replace(regexMatch[0], `-${uid}`);\n      } else {\n        current = ` ${current}-${uid}`;\n      }\n      logger.log(`generating-tag: ${log} -> ${current} `);\n    }\n    updatedClassNames += ` ${current}`;\n  }\n  return updatedClassNames;\n};\n\n// section with different columns are stored in config without unqiueId's,\n//   replacing those with unqiueIds (only for mj-columns).\nconst generateUniqueIdRecursively = (item: any, uidGenerator: () => string): any => {\n  if (!item) {\n    return;\n  }\n\n  for (var i = 0; item['children'] && i < item['children'].length; i++) {\n    item['children'][i] = generateUniqueIdRecursively(item['children'][i], uidGenerator);\n  }\n\n  let attr = item['attributes'];\n  if (attr) {\n    let css_class = attr['css-class'];\n    css_class = replaceGeneicTagWithUniqueId(css_class, uidGenerator());\n    attr['css-class'] = css_class;\n  }\n\n  item['attributes'] = attr;\n\n  return item;\n};\n\nconst findIndexOfIdentifierInChildren = (children: [any], uniqueIdentifier: string) => {\n  for (var i = 0; uniqueIdentifier && children && children.length > 0 && i < children.length; i++) {\n    const child = children[i];\n    if (child && child['attributes'] && child['attributes']['css-class'].includes(uniqueIdentifier)) {\n      return i;\n    }\n  }\n  return -1;\n};\n\nconst getIndexOfElementInParent = (node: HTMLElement, mjmlJson: any, uniqueIdentifier: string) => {\n  let index = -1;\n  let parent = node.closest('.mjml-tag');\n  // closest can be he same node, so go to parent\n  if (parent === node) {\n    parent = node.parentElement;\n  }\n\n  // element must be outside of column\n  while (index === -1 && parent) {\n    const parentUniqueIdentifier = findUniqueIdentifier(parent, parent.classList);\n    if (parentUniqueIdentifier) {\n      let element = findElementInJson(mjmlJson, parentUniqueIdentifier);\n      if (element) {\n        [element] = element;\n        index = findIndexOfIdentifierInChildren(element.children, uniqueIdentifier);\n        if (index !== -1) {\n          break;\n        }\n      }\n    }\n\n    const next_parent = parent.closest('.mjml-tag');\n    if (next_parent && next_parent === parent) {\n      if (parent.parentElement) {\n        parent = parent.parentElement.closest('.mjml-tag');\n      }\n    } else {\n      parent = next_parent;\n    }\n  }\n\n  const parentIdentifier = parent && parent.classList ? findUniqueIdentifier(parent, parent.classList) : null;\n  return [index, parentIdentifier];\n};\n\nexport {\n  findClosestParent,\n  findUniqueIdentifier,\n  findUniqueIdentifierFromString,\n  replaceGeneicTagWithUniqueId,\n  generateUniqueIdRecursively,\n  getIndexOfElementInParent,\n};\n","const dragStart = (e: DragEvent, config: any) => {\n  if (e && e.dataTransfer) {\n    e.dataTransfer.effectAllowed = 'move';\n    const draggingItem = e.target as HTMLElement;\n    e.dataTransfer.setDragImage(draggingItem, -5, -5);\n    e.dataTransfer.setData('config', JSON.stringify(config));\n  }\n};\n\nexport { dragStart };\n","import { Row } from 'antd';\nimport _, { floor } from 'lodash';\nimport { Fragment, SyntheticEvent } from 'react';\nimport styled from 'styled-components';\nimport { useCkeditor } from '../Hooks/Ckeditor.hook';\nimport { findUniqueIdentifier } from '../Utils/closestParent';\nimport { dragStart } from '../Utils/dragStart';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = ['background-color', 'background-position', 'background-position-x', 'background-position-y', 'background-repeat', 'background-size', 'background-url', 'border', 'border-bottom', 'border-left', 'border-radius', 'border-right', 'border-top', 'css-class', 'direction', 'full-width', 'padding', 'padding-bottom', 'padding-left', 'padding-right', 'padding-top', 'text-align'];\n\n// prettier-ignore\nconst properties_with_default_values = {\"background-color\": \"\", \"background-position\": \"top center\", \"background-position-x\": \"none\", \"background-position-y\": \"none\", \"background-repeat\": \"repeat\", \"background-size\": \"auto\", \"background-url\": \"\", \"border\": \"none\", \"border-bottom\": \"\", \"border-left\": \"\", \"border-radius\": \"\", \"border-right\": \"\", \"border-top\": \"\", \"css-class\": \"\", \"direction\": \"ltr\", \"full-width\": \"\", \"padding\": \"20px 0\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"text-align\": \"center\"};\n\n// prettier-ignore\nconst assigned_default_values  = {\"align\": \"center\", \"background-color\": \"#414141\", \"border\": \"none\", \"border-radius\": \"3px\", \"color\": \"#ffffff\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-weight\": \"normal\", \"inner-padding\": \"10px 25px\", \"line-height\": \"120%\", \"padding\": \"10px 25px\", \"target\": \"_blank\", \"text-align\": \"none\", \"text-decoration\": \"none\", \"text-transform\": \"none\", \"vertical-align\": \"middle\"};\n\n// prettier-ignore\nconst properties_column = [\"background-color\", \"inner-background-color\", \"border\", \"border-bottom\", \"border-left\", \"border-right\", \"border-top\", \"border-radius\", \"inner-border\", \"inner-border-bottom\", \"inner-border-left\", \"inner-border-right\", \"inner-border-top\", \"inner-border-radius\", \"width\", \"vertical-align\", \"padding\", \"padding-top\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"css-class\"]\n\n// prettier-ignore\nconst properties_with_default_values_column = {\"background-color\": \"\", \"inner-background-color\": \"\", \"border\": \"none\", \"border-bottom\": \"\", \"border-left\": \"\", \"border-right\": \"\", \"border-top\": \"\", \"border-radius\": \"\", \"inner-border\": \"\", \"inner-border-bottom\": \"\", \"inner-border-left\": \"\", \"inner-border-right\": \"\", \"inner-border-top\": \"\", \"inner-border-radius\": \"\", \"width\": \"(100 / number of non-raw elements in section)%\", \"vertical-align\": \"top\", \"padding\": \"\", \"padding-top\": \"\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"css-class\": \"\"}\n\n// prettier-ignore\nconst assigned_default_values_column = {\"border\": \"none\", \"width\": \"(100 / number of non-raw elements in section)%\", \"vertical-align\": \"top\"}\n\nexport const columnPlaceholder = [\n  {\n    tagName: 'mj-image',\n    attributes: {\n      src: 'https://dev.bluepie.in/assets/87583817874843.svg',\n      'css-class': 'mj-placeholder',\n      width: '120px',\n    },\n  },\n  {\n    tagName: 'mj-text',\n    attributes: {\n      'padding-top': '0px',\n      'font-size': '16px',\n      align: 'center',\n      'css-class': 'mj-placeholder',\n    },\n    content: 'drag and drop a content block here!',\n  },\n];\n\nexport const COLUMN = {\n  tagName: 'mj-column',\n  attributes: {\n    'css-class': 'mjml-tag identifier-mj-column',\n    padding: '0px 0px',\n  },\n  children: [...columnPlaceholder],\n  mutableProperties: properties_column,\n};\n\nexport const SECTION = {\n  tagName: 'mj-section',\n  attributes: {\n    ...assigned_default_values,\n    'css-class': 'mjml-tag identifier-mj-section',\n    'border-radius': '0px',\n    'background-color': '#fff',\n    'text-align': 'center',\n  },\n  children: [],\n  cannot_have: ['mj-section', 'mj-column'], // 'https://documentation.mjml.io/#mj-column' Columns cannot be nested into columns, and sections cannot be nested into columns as well.\n  mutableProperties: properties,\n};\n\nexport const Section = () => {\n  let config = {\n    ...SECTION,\n  };\n\n  const {\n    drag: { setIsColumn },\n  } = useCkeditor();\n\n  const onDragStart = (e: DragEvent) => {\n    const target = e.target as Element;\n    const identifier = findUniqueIdentifier(target, target.classList, 'mj-columns');\n    if (identifier) {\n      const match = identifier.match(/mj-columns-(.*)/);\n      if (match) {\n        let count = parseInt(match[1]);\n        let children = [];\n        while (count > 0) {\n          children.push(COLUMN);\n          count--;\n        }\n        config = _.set(config, 'children', children);\n      }\n    }\n    dragStart(e as any, config);\n    setIsColumn(true);\n  };\n\n  let dynamicRenderer = [1, 2, 3, 4].map((value, index) => {\n    return (\n      <Fragment key={value}>\n        <SectionTitle key={value + index + 'title'}>\n          <p>{value} Column</p>\n        </SectionTitle>\n        <SectionImage\n          key={value + index + 'section'}\n          className={`mj-columns-${value}`}\n          draggable={true}\n          onDragStart={onDragStart}\n        >\n          <div className={`wrapper`}>\n            <div className=\"border\">\n              <Generator length={value} />\n            </div>\n          </div>\n        </SectionImage>\n      </Fragment>\n    );\n  });\n  return <>{dynamicRenderer}</>;\n};\n\nconst SectionTitle = styled(Row)`\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n  p {\n    text-align: inherit;\n    color: rgb(85, 85, 85);\n    font-size: 14px;\n    font-weight: 600;\n  }\n`;\n\nconst SectionImage = styled(Row)`\n  background-color: rgb(252, 252, 252);\n  border: 1px solid rgb(229, 229, 229);\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: flex;\n  box-shadow: none;\n  cursor: grab;\n\n  &:hover {\n    background-color: rgb(255, 255, 255);\n    box-shadow: rgb(0 0 0 / 20%) 0px 1px 4px;\n    border-color: rgb(255, 255, 255);\n  }\n\n  .wrapper {\n    margin: 10px;\n    background-color: rgb(255, 255, 255);\n    position: relative;\n    width: 100%;\n    display: flex;\n    border-radius: 3px;\n    box-sizing: border-box;\n\n    .border {\n      border: 1px solid rgb(85, 85, 85);\n      border-radius: 3px;\n      display: flex;\n      -webkit-box-align: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n    }\n  }\n`;\n\nconst Generator = ({ length }: { length: number }) => {\n  let content = [];\n  const flexGrow = floor(100 / length);\n\n  for (let i = 0; i < length; i++) {\n    content.push(\n      <div\n        key={i + flexGrow}\n        style={{\n          display: 'flex',\n          flexGrow,\n          height: '16px',\n          borderRight: i === length - 1 ? '' : '1px solid rgb(85, 85, 85)',\n          borderRadius: '0px',\n        }}\n      ></div>\n    );\n  }\n  return <>{content}</>;\n};\n","/**\n *  was unable to handle latin1 characters in the btoa,\n *  thus including this base64 library\n *\n *  Base64 encode / decode\n *  http://www.webtoolkit.info\n *\n **/\nexport const Base64 = {\n  // private property\n  _keyStr: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n\n  // public method for encoding\n  encode: function (input) {\n    var output = '';\n    var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n    var i = 0;\n\n    input = Base64._utf8_encode(input);\n\n    while (i < input.length) {\n      chr1 = input.charCodeAt(i++);\n      chr2 = input.charCodeAt(i++);\n      chr3 = input.charCodeAt(i++);\n\n      enc1 = chr1 >> 2;\n      enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n      enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n      enc4 = chr3 & 63;\n\n      if (isNaN(chr2)) {\n        enc3 = enc4 = 64;\n      } else if (isNaN(chr3)) {\n        enc4 = 64;\n      }\n\n      output =\n        output +\n        this._keyStr.charAt(enc1) +\n        this._keyStr.charAt(enc2) +\n        this._keyStr.charAt(enc3) +\n        this._keyStr.charAt(enc4);\n    } // Whend\n\n    return output;\n  }, // End Function encode\n\n  // public method for decoding\n  decode: function (input) {\n    var output = '';\n    var chr1, chr2, chr3;\n    var enc1, enc2, enc3, enc4;\n    var i = 0;\n\n    input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, '');\n    while (i < input.length) {\n      enc1 = this._keyStr.indexOf(input.charAt(i++));\n      enc2 = this._keyStr.indexOf(input.charAt(i++));\n      enc3 = this._keyStr.indexOf(input.charAt(i++));\n      enc4 = this._keyStr.indexOf(input.charAt(i++));\n\n      chr1 = (enc1 << 2) | (enc2 >> 4);\n      chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n      chr3 = ((enc3 & 3) << 6) | enc4;\n\n      output = output + String.fromCharCode(chr1);\n\n      if (enc3 != 64) {\n        output = output + String.fromCharCode(chr2);\n      }\n\n      if (enc4 != 64) {\n        output = output + String.fromCharCode(chr3);\n      }\n    } // Whend\n\n    output = Base64._utf8_decode(output);\n\n    return output;\n  }, // End Function decode\n\n  // private method for UTF-8 encoding\n  _utf8_encode: function (string) {\n    var utftext = '';\n    string = string.replace(/\\r\\n/g, '\\n');\n\n    for (var n = 0; n < string.length; n++) {\n      var c = string.charCodeAt(n);\n\n      if (c < 128) {\n        utftext += String.fromCharCode(c);\n      } else if (c > 127 && c < 2048) {\n        utftext += String.fromCharCode((c >> 6) | 192);\n        utftext += String.fromCharCode((c & 63) | 128);\n      } else {\n        utftext += String.fromCharCode((c >> 12) | 224);\n        utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n        utftext += String.fromCharCode((c & 63) | 128);\n      }\n    } // Next n\n\n    return utftext;\n  }, // End Function _utf8_encode\n\n  // private method for UTF-8 decoding\n  _utf8_decode: function (utftext) {\n    var string = '';\n    var i = 0;\n    var c, c1, c2, c3;\n    c = c1 = c2 = 0;\n\n    while (i < utftext.length) {\n      c = utftext.charCodeAt(i);\n\n      if (c < 128) {\n        string += String.fromCharCode(c);\n        i++;\n      } else if (c > 191 && c < 224) {\n        c2 = utftext.charCodeAt(i + 1);\n        string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n        i += 2;\n      } else {\n        c2 = utftext.charCodeAt(i + 1);\n        c3 = utftext.charCodeAt(i + 2);\n        string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n        i += 3;\n      }\n    } // Whend\n\n    return string;\n  }, // End Function _utf8_decode\n};\n","import _ from 'lodash';\nimport { columnPlaceholder } from '../Components/Section';\nimport { PageHeaderItems } from '../Context/Editor.context';\nimport { Base64 } from '../Lib/base64';\nimport { generateUniqueIdRecursively } from './closestParent';\nimport { logger } from './logger';\n\nconst cleanMjmlJson = (mjmlJson: any, ignore: string = '') => {\n  if (!mjmlJson) {\n    return null;\n  }\n\n  if (mjmlJson['attributes'] && mjmlJson['attributes']['css-class']) {\n    const cssClass = mjmlJson['attributes']['css-class'];\n    if (cssClass.includes('placeitem-placeholder')) {\n      return null;\n    }\n  }\n\n  // before processing children, if the parent has ignore class, then dont process its children\n  //  the active item being hovered on is passed as ignore, (specifically the column of the active item being hovered)\n  const isIgnoring =\n    ignore &&\n    mjmlJson['attributes'] &&\n    mjmlJson['attributes']['css-class'] &&\n    mjmlJson['attributes']['css-class'].includes(ignore);\n\n  let newChildren: any = [];\n  for (var i = 0; mjmlJson['children'] && i < mjmlJson['children'].length; i++) {\n    const item = mjmlJson['children'][i];\n\n    const result = isIgnoring ? item : cleanMjmlJson(item, ignore);\n    if (result) {\n      newChildren.push(result);\n    }\n  }\n\n  // if the children is column and its length is 0,\n  //  then add a placeholder to the column\n  if (mjmlJson && mjmlJson['tagName'] === 'mj-column' && newChildren.length === 0) {\n    newChildren.push(...columnPlaceholder);\n  }\n\n  if (newChildren.length) {\n    mjmlJson['children'] = newChildren;\n  }\n\n  return mjmlJson;\n};\n\nconst exportJson = (input: any, build: any = {}) => {\n  if (!input) {\n    return;\n  }\n\n  // todo: remove addtional properties too, then write a seperate deserializer to include it back in\n\n  if (input['attributes'] && input['attributes']['css-class']) {\n    let css = input['attributes']['css-class'];\n    css = css.split(' ');\n    let newCss = [];\n    for (var i = 0; i < css.length; i++) {\n      const current: string = css[i];\n      if (\n        current.includes('identifier-mj') ||\n        current.includes('mj-placeholder') ||\n        current.includes('placeitem-placeholder')\n      ) {\n        continue;\n      }\n      newCss.push(current);\n    }\n    if (newCss.length) {\n      css = newCss.join(' ');\n    }\n  }\n\n  if (input['content']) {\n    // input['content'] = input['content'].replace(/\"/g, '\\\\\"');\n    input['content'] = Base64.encode(input['content']);\n  }\n\n  let children: any = [];\n  for (let i = 0; input['children'] && i < input['children'].length; i++) {\n    const child = input['children'][i];\n    const _ = exportJson(child);\n    if (_) {\n      children.push(_);\n    }\n  }\n\n  if (children.length) {\n    input['children'] = children;\n  }\n\n  return input;\n};\n\nfunction replaceContent(input: any) {\n  if (!input) {\n    return;\n  }\n\n  if (input['content']) {\n    input['content'] = Base64.decode(input['content']);\n  }\n\n  let children: any = [];\n  for (let i = 0; input['children'] && i < input['children'].length; i++) {\n    const child = input['children'][i];\n    const _ = replaceContent(child);\n    if (_) {\n      children.push(_);\n    }\n  }\n\n  if (children.length) {\n    input['children'] = children;\n  }\n\n  return input;\n}\n\nconst importJson = (input: any, idGenerator: () => string, rawContent: boolean = false) => {\n  let regeneratedIdJson = generateUniqueIdRecursively(input, idGenerator);\n\n  // if its not raw, content is utf-8 base64 encoded, during export.\n  if (!rawContent) {\n    regeneratedIdJson = replaceContent(regeneratedIdJson);\n  }\n\n  let consolidatedHeaders = [];\n\n  // process existing headers.\n  if (\n    regeneratedIdJson &&\n    regeneratedIdJson.tagName &&\n    regeneratedIdJson.tagName === 'mjml' &&\n    regeneratedIdJson.children &&\n    regeneratedIdJson.children.length > 1\n  ) {\n    const exisitngHeaders = regeneratedIdJson.children[0].children;\n    for (let i = 0; exisitngHeaders && i < exisitngHeaders.length; i++) {\n      const item = exisitngHeaders[i];\n      if (item && (item.tagName.includes('title') || item.tagName.includes('style'))) {\n        consolidatedHeaders.push(item);\n      }\n    }\n\n    let pageHeaers = _.cloneDeep(PageHeaderItems);\n    for (let i = 0; pageHeaers && i < pageHeaers.length; i++) {\n      const item = pageHeaers[i];\n      if (item && (item.tagName.includes('title') || item.tagName.includes('style'))) {\n        continue;\n      }\n      consolidatedHeaders.push(item);\n    }\n\n    regeneratedIdJson.children[0].children = consolidatedHeaders;\n  }\n  logger.log('::import -> processedJson', regeneratedIdJson);\n  return regeneratedIdJson;\n};\n\nexport { cleanMjmlJson, exportJson, importJson };\n","import { Button, Input, Popover, Select } from 'antd';\nimport _ from 'lodash';\nimport { useEffect, useRef, useState } from 'react';\nimport { useCustomEditorPosition, useCustomEditorStatus } from '../../Hooks/CustomEditor.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport {\n  FontColorsOutlined,\n  BoldOutlined,\n  ItalicOutlined,\n  UnderlineOutlined,\n  BgColorsOutlined,\n  LinkOutlined,\n} from '@ant-design/icons';\nimport { InlineEditorActions } from '../../Utils/inlineEditorActions';\nimport { ColorPicker } from '../ColorPicker';\nimport { findClosestParent, findUniqueIdentifier } from '../../Utils/closestParent';\nimport { findElementInJson } from '../../Utils/findElementInMjmlJson';\nimport { useFonts } from '../../Hooks/useFonts';\nimport { logger } from '../../Utils/logger';\nimport { addHttps } from './Link';\n\nlet r: any;\n\nconst restoreSelection = () => {\n  let restoreSel = window.getSelection();\n  if (!restoreSel) {\n    return;\n  }\n  const temp = r;\n  restoreSel?.removeAllRanges();\n  restoreSel?.addRange(r);\n  r = temp;\n};\n\nconst InlineEditor = () => {\n  const ref = useRef<any>(null);\n  const { x, y } = useCustomEditorPosition();\n  const { active } = useCustomEditorStatus();\n  const { active: activeElement }: { active: HTMLDivElement } = useHtmlWrapper();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [fontlist] = useFonts();\n\n  // on mount, override the default behaviour of the antd dropdown select\n  useEffect(() => {\n    if (ref.current) {\n      const toolbar = document.querySelectorAll('#customtoolbar .ant-select-selector');\n      if (toolbar) {\n        toolbar.forEach((item) => {\n          logger.log('attaching click event listener to container');\n          item.addEventListener('click', ResetEventBehaviour);\n        });\n        return () =>\n          toolbar.forEach((item) => {\n            logger.log('removing click event listener to container');\n            item.removeEventListener('click', ResetEventBehaviour);\n          });\n      }\n    }\n  }, [ref]);\n\n  useEffect(() => {\n    if (active && activeElement) {\n      const uniqueIdentifier = findUniqueIdentifier(activeElement, activeElement.classList);\n      if (uniqueIdentifier?.includes('mj-text')) {\n        let editor: any = activeElement.children[0].children[0];\n\n        const Event = (e: any) => {\n          stateChangeCallback(editor, mjmlJson, setMjmlJson);\n          // e.stopPropagation();\n          // e.preventDefault();\n          // e.target.focus();\n          // return false;\n        };\n\n        const onKeyUp = () => {\n          r = window.getSelection()?.getRangeAt(0);\n        };\n\n        editor.addEventListener('focusout', Event, true);\n        editor.addEventListener('keyup', onKeyUp, false);\n        editor.addEventListener('click', onKeyUp, false);\n\n        editor.classList.add('editor-active');\n        editor.setAttribute('contentEditable', 'true');\n        editor.setAttribute('spellcheck', 'false');\n\n        if (r) {\n          // restoreSelection();\n        }\n\n        return () => {\n          logger.log('custom editor: cleaning up dynamic attributes');\n          editor.removeEventListener('focusout', Event, true);\n          editor.removeEventListener('keyup', onKeyUp, false);\n          editor.removeEventListener('click', onKeyUp, false);\n        };\n      }\n    }\n  }, [activeElement, mjmlJson]);\n\n  return (\n    <div\n      style={{\n        display: active ? 'block' : 'none',\n        position: 'fixed',\n        top: `${y}px`,\n        left: `${x}px`,\n        padding: '4px 8px',\n        border: '1px solid black',\n        zIndex: 999,\n        backgroundColor: '#fff',\n        transition: 'all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)',\n      }}\n      id=\"customtoolbar\"\n      ref={ref}\n      onMouseDown={ResetEventBehaviour}\n    >\n      <Select\n        size=\"small\"\n        dropdownStyle={{ minWidth: '18px' }}\n        defaultValue={2}\n        style={{ fontSize: '12px' }}\n        onChange={(value: any) => {\n          InlineEditorActions(null, 'size', value);\n        }}\n      >\n        {Array.from(Array(7).keys()).map((i) => (\n          <Select.Option\n            onMouseDown={ResetEventBehaviour}\n            onFocus={ResetEventBehaviour}\n            style={{ fontSize: '12px' }}\n            value={i + 1}\n          >\n            <span onMouseDown={ResetEventBehaviour} onFocus={ResetEventBehaviour}>\n              {i + 1}\n            </span>\n          </Select.Option>\n        ))}\n      </Select>\n      <Select\n        size=\"small\"\n        defaultValue={'Ubuntu'}\n        dropdownStyle={{ minWidth: '140px' }}\n        style={{ fontSize: '12px' }}\n        onChange={(value: any) => {\n          InlineEditorActions(null, 'fontFamily', value);\n        }}\n        onMouseDown={ResetEventBehaviour}\n      >\n        {fontlist.map((font) => (\n          <Select.Option\n            onMouseDown={ResetEventBehaviour}\n            onFocus={ResetEventBehaviour}\n            style={{ fontSize: '12px' }}\n            value={font}\n          >\n            <span onMouseDown={ResetEventBehaviour} onFocus={ResetEventBehaviour}>\n              {font}\n            </span>\n          </Select.Option>\n        ))}\n      </Select>\n\n      <Popover\n        overlayClassName=\"inline-editor-popover-color-picker\"\n        trigger=\"click\"\n        placement=\"bottom\"\n        content={\n          <ColorPicker\n            handleChange={(color) => {\n              InlineEditorActions(null, 'fontColor', color);\n            }}\n            mouseDown={false}\n          />\n        }\n        destroyTooltipOnHide={true}\n      >\n        <Button icon={<FontColorsOutlined />} style={{ fontSize: '12px' }} size=\"small\"></Button>\n      </Popover>\n      <Popover\n        overlayClassName=\"inline-editor-popover-color-picker\"\n        trigger=\"click\"\n        placement=\"bottom\"\n        content={\n          <ColorPicker\n            handleChange={(color) => {\n              InlineEditorActions(null, 'color', color);\n            }}\n            mouseDown={false}\n          />\n        }\n        destroyTooltipOnHide={true}\n      >\n        <Button icon={<BgColorsOutlined />} style={{ fontSize: '12px' }} size=\"small\"></Button>\n      </Popover>\n      <Button\n        icon={<BoldOutlined />}\n        onClick={(e) => InlineEditorActions(e, 'bold')}\n        style={{ fontSize: '12px' }}\n        size=\"small\"\n      ></Button>\n      <Button\n        icon={<ItalicOutlined />}\n        onClick={(e) => InlineEditorActions(e, 'italics')}\n        style={{ fontSize: '12px' }}\n        size=\"small\"\n      ></Button>\n      <Button\n        icon={<UnderlineOutlined />}\n        onClick={(e) => InlineEditorActions(e, 'underline')}\n        style={{ fontSize: '12px' }}\n        size=\"small\"\n      ></Button>\n      <LinkItem setLinkCallback={(e) => InlineEditorActions(e, 'link')} />\n    </div>\n  );\n};\n\ninterface LinkItemProps {\n  setLinkCallback: (e: any) => void;\n}\n\nconst LinkItem = ({ setLinkCallback }: LinkItemProps) => {\n  const [active, setActive] = useState(false);\n  const [link, setLink] = useState('');\n  const linkRef = useRef<any>(null);\n\n  const onChange = (e: any) => {\n    setLink(e.target.value);\n  };\n\n  const onMouseDown = (e: any) => {\n    restoreSelection();\n  };\n\n  return (\n    <Popover\n      visible={active}\n      content={\n        <div style={{ display: 'flex', gap: '8px' }}>\n          <Input\n            className=\"inline-editor-link\"\n            ref={linkRef}\n            value={link}\n            onMouseDown={onMouseDown}\n            onChange={onChange}\n            placeholder=\"link\"\n          />\n          <Button\n            type=\"default\"\n            onMouseDown={ResetEventBehaviour}\n            onClick={() => {\n              setActive(false);\n              restoreSelection();\n              document.execCommand(\n                'insertHTML',\n                false,\n                '<a href=\"' + addHttps(link) + '\" target=\"_blank\">' + document.getSelection() + '</a>'\n              );\n            }}\n          >\n            create\n          </Button>\n        </div>\n      }\n      trigger=\"click\"\n      placement=\"bottom\"\n    >\n      <Button\n        style={{ fontSize: '12px' }}\n        onClick={(e) => {\n          ResetEventBehaviour(e);\n          setActive(!active);\n          setLink('');\n        }}\n        size=\"small\"\n        icon={<LinkOutlined />}\n      ></Button>\n    </Popover>\n  );\n};\n\nconst stateChangeCallback = (item: any, mjmlJson: any, setMjmlJson: any) => {\n  logger.log(`custom Inline Editor: updating state callback`);\n  const closestParent = findClosestParent(item);\n  if (!closestParent) {\n    return;\n  }\n  const uniqueIdentifier = closestParent;\n  if (uniqueIdentifier?.includes('mj-text')) {\n    const find = findElementInJson(mjmlJson, uniqueIdentifier);\n    if (find) {\n      const [, path] = find;\n      let itemJson = _.get(mjmlJson, path.slice(1));\n      if (itemJson) {\n        let updateToSend = _.cloneDeep(itemJson);\n        logger.log('inline editor: updating', item);\n        const html = item.innerHTML;\n        updateToSend.content = html;\n        const updated = _.set(mjmlJson, path.slice(1), updateToSend);\n        setMjmlJson({ ...updated });\n      }\n    }\n  }\n};\n\nexport const ResetEventBehaviour = (e: any) => {\n  logger.log('::reset', e.target);\n  if (\n    e.target &&\n    e.target.tagName === 'INPUT' &&\n    e.target.className &&\n    e.target.className.includes('inline-editor-link')\n  ) {\n    logger.log('::reset, returning');\n    return;\n  }\n  logger.log('::reset->reset behaviour', e.target);\n  e.preventDefault();\n  e.stopPropagation();\n  return false;\n};\n\nexport { InlineEditor };\n","import { message, Modal } from 'antd';\nimport _ from 'lodash';\nimport { createContext, FC, useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { useLazyGetTemplateQuery } from '../Api/api';\nimport { FONTS_CONFIG } from '../Components/Mods/FontConfig';\nimport { HEADSTYLE } from '../Components/Mods/HeadStyle';\nimport { useDragAndDropUniqueId } from '../Hooks/Drag.hook';\nimport { importJson } from '../Utils/mjmlProcessor';\nimport { UNDOREDO } from '../Utils/undoRedo';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\n\nexport const EditorContext = createContext<any>(null);\n\nexport const PageHeaderItems = [\n  { tagName: 'mj-title', content: 'dnde-editor' },\n  { tagName: 'mj-style', content: HEADSTYLE },\n  { tagName: 'mj-attributes', children: [{ tagName: 'mj-text', attributes: { 'font-family': 'Ubuntu' } }] },\n  ...FONTS_CONFIG.map((font) => {\n    return {\n      tagName: 'mj-font',\n      attributes: {\n        name: font.name,\n        href: font.value,\n      },\n    };\n  }),\n];\n\nconst initialState = {\n  tagName: 'mjml',\n  children: [\n    {\n      tagName: 'mj-head',\n      attributes: {},\n      children: PageHeaderItems,\n    },\n    {\n      tagName: 'mj-body',\n      attributes: { 'css-class': 'mjml-tag identifier-mj-body', 'background-color': 'grey', width: '600px' },\n      children: [],\n      mutableProperties: ['width', 'background-color'],\n    },\n  ],\n  attributes: {},\n};\n\nconst LOADING_KEY = 'loading';\n\nexport const EDContext: FC = (props) => {\n  const { templateId }: { templateId: string | undefined } = useParams();\n  const { getId } = useDragAndDropUniqueId();\n  const [mjmlJson, setMjmlJson] = useState<any>(null);\n  const [trigger, { data, isError, isLoading, isSuccess }] = useLazyGetTemplateQuery();\n\n  useEffect(() => {\n    // if app crashed/ user left while editing, restoring from local\n    // const actions = localStorage.getItem('actions');\n    const actions = false;\n\n    async function restoreFromLocalStorage() {\n      let result = false;\n      if (actions) {\n        result = await modalConfirmLoadLocalState(\n          () => {\n            const parsed = JSON.parse(actions);\n            const processed = importJson(parsed, getId, true);\n            UNDOREDO.newAction(processed);\n            setMjmlJson({ ...processed });\n          },\n          () => {\n            setMjmlJson({ ...initialState });\n            UNDOREDO.newAction(initialState);\n            localStorage.removeItem('actions');\n          }\n        );\n      }\n      return result;\n    }\n\n    restoreFromLocalStorage().then((isRestored) => {\n      if (isRestored) {\n        return;\n      } else {\n        if (templateId === 'new' || typeof templateId === 'undefined') {\n          UNDOREDO.newAction(_.cloneDeep(initialState));\n          setMjmlJson(_.cloneDeep(initialState));\n        } else {\n          if (templateId) {\n            message.loading({ content: 'Fetching Template...', key: LOADING_KEY, duration: 0 });\n            trigger({ id: templateId });\n          }\n        }\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    if (isSuccess && data) {\n      try {\n        const processedJson = importJson(JSON.parse(data.response.data), getId);\n        setMjmlJson(processedJson);\n        UNDOREDO.newAction(_.cloneDeep(processedJson));\n      } catch (e) {\n        message.error('Unable to load template', 3);\n      }\n    } else if (isSuccess && !data) {\n      message.error('Template is empty', 2);\n    }\n    if (isSuccess) {\n      message.destroy(LOADING_KEY);\n    }\n    if (isError) {\n      message.info('Network error, template not fetched.', 2);\n    }\n  }, [isError, isLoading, isSuccess, data]);\n\n  const [attributes, setAttributes] = useState<any>({});\n\n  return (\n    <EditorContext.Provider\n      value={{\n        mjmlJson: mjmlJson,\n        setMjmlJson,\n        attributes,\n        setAttributes,\n      }}\n    >\n      {props.children}\n    </EditorContext.Provider>\n  );\n};\n\nconst modalConfirmLoadLocalState = async (okCallback: () => void, cancelCallback: () => void) => {\n  return new Promise<boolean>((resolve, reject) => {\n    Modal.confirm({\n      title: 'Confirm',\n      icon: <ExclamationCircleOutlined />,\n      content: 'local save found do you want to load it?',\n      okText: 'restore',\n      cancelText: 'cancel',\n      onOk: () => {\n        okCallback();\n        resolve(true);\n      },\n      onCancel: () => {\n        cancelCallback();\n        resolve(false);\n      },\n    });\n  });\n};\n","export const HEADSTYLE = 'a{text-decoration:none!important} .htmlblock {}';\n","export const FONTS_CONFIG = [\n  { name: 'Roboto', value: 'https://fonts.googleapis.com/css2?family=Roboto&display=swap' },\n  { name: 'Festive', value: 'https://fonts.googleapis.com/css2?family=Festive&display=swap' },\n  { name: 'Noto Sans Mono', value: 'https://fonts.googleapis.com/css2?family=Noto+Sans+Mono&display=swap' },\n  { name: 'Open Sans', value: 'https://fonts.googleapis.com/css2?family=Open+Sans&display=swap' },\n  { name: 'Andada Pro', value: 'https://fonts.googleapis.com/css2?family=Andada+Pro&display=swap' },\n  { name: 'Lato', value: 'https://fonts.googleapis.com/css2?family=Lato&display=swap' },\n  { name: 'Scheherazade New', value: 'https://fonts.googleapis.com/css2?family=Scheherazade+New&display=swap' },\n  { name: 'Montserrat', value: 'https://fonts.googleapis.com/css2?family=Montserrat&display=swap' },\n  { name: 'Roboto Condensed', value: 'https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap' },\n  { name: 'Source Sans Pro', value: 'https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap' },\n  { name: 'Poppins', value: 'https://fonts.googleapis.com/css2?family=Poppins&display=swap' },\n  { name: 'Oswald', value: 'https://fonts.googleapis.com/css2?family=Oswald&display=swap' },\n  { name: 'Noto sans', value: 'https://fonts.googleapis.com/css2?family=Noto+sans&display=swap' },\n  { name: 'Georama', value: 'https://fonts.googleapis.com/css2?family=Georama&display=swap' },\n  { name: 'Roboto Mono', value: 'https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap' },\n  { name: 'Raleway', value: 'https://fonts.googleapis.com/css2?family=Raleway&display=swap' },\n  { name: 'Nunito', value: 'https://fonts.googleapis.com/css2?family=Nunito&display=swap' },\n  { name: 'Roboto Slab', value: 'https://fonts.googleapis.com/css2?family=Roboto+Slab&display=swap' },\n  { name: 'PT Sans', value: 'https://fonts.googleapis.com/css2?family=PT+Sans&display=swap' },\n  { name: 'Merriweather', value: 'https://fonts.googleapis.com/css2?family=Merriweather&display=swap' },\n  { name: 'Playfair Display', value: 'https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap' },\n  { name: 'Lora', value: 'https://fonts.googleapis.com/css2?family=Lora&display=swap' },\n  { name: 'Rubix', value: 'https://fonts.googleapis.com/css2?family=Rubix&display=swap' },\n  { name: 'IM Fell English SC', value: 'https://fonts.googleapis.com/css2?family=IM+Fell+English+SC&display=swap' },\n  { name: 'Open Sans Condensed', value: 'https://fonts.googleapis.com/css2?family=Open+Sans+Condensed&display=swap' },\n  { name: 'Inter', value: 'https://fonts.googleapis.com/css2?family=Inter&display=swap' },\n  { name: 'Nunito Sans', value: 'https://fonts.googleapis.com/css2?family=Nunito+Sans&display=swap' },\n  { name: 'Work Sans', value: 'https://fonts.googleapis.com/css2?family=Work+Sans&display=swap' },\n  { name: 'Quicksand', value: 'https://fonts.googleapis.com/css2?family=Quicksand&display=swap' },\n  { name: 'Fira Sans', value: 'https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap' },\n  { name: 'Ubuntu', value: 'https://fonts.googleapis.com/css2?family=Ubuntu&display=swap' },\n];\n","import { createContext, FC, memo, useContext, useEffect, useRef, useState } from 'react';\nimport { logger } from '../Utils/logger';\n\nexport const HtmlContext = createContext<any>(null);\n\nexport const HtmlContextProvider: FC = memo((props) => {\n  const [uiWrapperList, setUIWrapperList] = useState([]);\n\n  const [activeHover, setActiveHover] = useState<any>();\n\n  const [active, setActive] = useState<any>();\n\n  const ref = useRef<any>(1);\n\n  const [id, setId] = useState<any>(1);\n\n  const getId = () => {\n    setId(id + 1);\n    logger.log('getId', id);\n  };\n\n  //todo: fn remove id from the uiWrapperList, if possible upgrade list to map\n\n  return (\n    <HtmlContext.Provider\n      value={{\n        uiList: uiWrapperList,\n        setUIWrapperList,\n        activeHover,\n        setActiveHover,\n        active,\n        setActive,\n        id,\n        setId,\n        getId,\n      }}\n    >\n      <div>{<>{logger.log('uiContextRerendering', ref.current++)} </>}</div>\n      {props.children}\n    </HtmlContext.Provider>\n  );\n});\n","import { useContext } from 'react';\nimport { HtmlContext } from '../Context/Htmlwrapper.context';\n\nexport const useHtmlWrapper = () => {\n  const htmlContext = useContext(HtmlContext);\n  return htmlContext as unknown as {\n    uiList: any[];\n    setUIWrapperList: (prev?: any) => void;\n    activeHover: any;\n    setActiveHover: (id: string) => void;\n    active: any;\n    setActive: (args: any) => void;\n    id: any;\n    setId: (prev?: any) => void;\n    getId: () => number;\n  };\n};\n","import _ from 'lodash';\nimport { useCallback, useContext, useEffect, useState } from 'react';\nimport { EditorContext } from '../Context/Editor.context';\nimport { findUniqueIdentifier } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { logger } from '../Utils/logger';\nimport { useHtmlWrapper } from './Htmlwrapper.hook';\n\nexport const useEditor = () => {\n  const context = useContext(EditorContext);\n  return context as unknown as {\n    mjmlJson: any;\n    setMjmlJson: (v: any) => void;\n    attributes: any;\n    setAttributes: (v: any) => void;\n  };\n};\n\nexport const useEditorUpdater = () => {\n  const { active: activeElement } = useHtmlWrapper();\n  const { setMjmlJson, mjmlJson } = useEditor();\n  const [item, setItem] = useState<any>(null);\n  const [path, setPath] = useState<any>(null);\n\n  useEffect(() => {\n    logger.log('editor value updater: ae->', activeElement);\n    if (activeElement && mjmlJson) {\n      const uniqueIdentifer = findUniqueIdentifier(activeElement as HTMLElement, activeElement.classList);\n      if (uniqueIdentifer) {\n        const find = findElementInJson(mjmlJson, uniqueIdentifer);\n        if (find) {\n          const [, _path] = find;\n          setPath(_path);\n          const _item = _.get(mjmlJson, _path.slice(1));\n          if (_item) {\n            setItem(_item);\n          }\n        } else {\n          logger.log(`editor value updater: unable to find item in json, ${find}, identifier: ${uniqueIdentifer}`);\n        }\n      }\n    }\n  }, [activeElement]);\n\n  const update = useCallback(\n    (updatedValue: any) => {\n      if (path) {\n        const updated = _.set(mjmlJson, path.slice(1), updatedValue);\n        if (updated) {\n          setMjmlJson({ ...updated });\n        }\n      }\n    },\n    [path]\n  );\n\n  return [item, update];\n};\n","import { createContext, FC, useState } from 'react';\n\ntype Set<T> = React.Dispatch<React.SetStateAction<T>>;\n\nexport const CustomEditorContext = createContext<{\n  position: { x: number; y: number; setX: Set<number>; setY: Set<number> };\n  status: { active: boolean; setActive: Set<boolean> };\n}>({ position: { x: 0, y: 0, setX: () => {}, setY: () => {} }, status: { active: false, setActive: () => {} } });\n\nexport const CustomEditorProvider: FC = (props) => {\n  const [x, setX] = useState(0);\n  const [y, setY] = useState(0);\n  const [active, setActive] = useState(false);\n  return (\n    <CustomEditorContext.Provider value={{ position: { x, y, setX, setY }, status: { active, setActive } }}>\n      {props.children}\n    </CustomEditorContext.Provider>\n  );\n};\n","import { useContext } from 'react';\nimport { CustomEditorContext } from '../Context/CustomEditor.context';\n\nconst useCustomEditorPosition = () => {\n  const { position } = useContext(CustomEditorContext);\n  return position;\n};\n\nconst useCustomEditorStatus = () => {\n  const { status } = useContext(CustomEditorContext);\n  return status;\n};\n\nexport { useCustomEditorPosition, useCustomEditorStatus };\n","const detectEmptyElement = (nodeWithReactProperties: any, detect: string) => {\n  return (\n    detectElement(nodeWithReactProperties, detect) &&\n    nodeWithReactProperties.children &&\n    nodeWithReactProperties.children < 1\n  );\n};\n\nconst detectElement = (nodeWithReactProperties: any, detect: string) => {\n  if (!detect) {\n    return false;\n  } else if (detect === 'body') {\n    detect = 'identifier-mj-body';\n  } else if (detect === 'section') {\n    detect = 'identifier-mj-section';\n  } else if (detect === 'column') {\n    detect = 'identifier-mj-column';\n  } else {\n    return false;\n  }\n\n  return (\n    nodeWithReactProperties.props &&\n    nodeWithReactProperties.props['className'] &&\n    typeof nodeWithReactProperties.props['className'] === 'string' &&\n    nodeWithReactProperties.props['className'].includes(detect)\n  );\n};\n\nconst countEmptyChildrenLevels = (nodeWithReactProperties: any, count: number = 0): number => {\n  if (!nodeWithReactProperties) {\n    return count + 0;\n  }\n  let children = null;\n  if (nodeWithReactProperties['children']) {\n    children = nodeWithReactProperties['children'][0];\n  } else if (nodeWithReactProperties['props']['children']) {\n    children = nodeWithReactProperties['props']['children'][0];\n  }\n  if (children) {\n    return countEmptyChildrenLevels(children, count + 1);\n  } else {\n    return count;\n  }\n};\n\nexport { detectElement, detectEmptyElement, countEmptyChildrenLevels };\n","import { findUniqueIdentifier } from './closestParent';\n\nconst recursivelyFindParent = (node: HTMLElement | any, parentClassPartial: string): any => {\n  if (!node) {\n    return null;\n  }\n  let parent = node.closest('.mjml-tag');\n  if (parent && parent.classList) {\n    const uniqueIdentifier = findUniqueIdentifier(parent, parent.classList);\n    if (uniqueIdentifier && uniqueIdentifier.includes(parentClassPartial)) {\n      return [parent, uniqueIdentifier];\n    }\n    parent = parent.parentElement;\n  }\n\n  return recursivelyFindParent(parent, parentClassPartial);\n};\n\nconst findColumnOfElement = (node: HTMLElement | any): any => {\n  return recursivelyFindParent(node, 'mj-column');\n};\n\nconst findSectionOfElement = (node: HTMLElement | any): any => {\n  return recursivelyFindParent(node, 'mj-section');\n};\n\nexport { findColumnOfElement, findSectionOfElement };\n","import { floor } from 'lodash';\n\nconst isEventWithTargetElement = (event: any, target: HTMLElement) => {\n  const pos = target.getBoundingClientRect();\n  const eventX = event.clientX;\n  const eventY = event.clientY;\n\n  let within = pos && eventX && eventY && true;\n\n  if (eventX < pos.left || eventX > pos.right) {\n    within = false;\n  }\n\n  if (eventY < pos.top || eventY > pos.bottom) {\n    within = false;\n  }\n\n  return within;\n};\n\nconst closeToTopOrBottom = (event: any, target: HTMLElement) => {\n  const pos = target.getBoundingClientRect();\n  const eventY = event.clientY;\n\n  if (isEventWithTargetElement(event, target)) {\n    const middle = floor((pos.bottom - pos.top) / 2) + pos.top;\n    if (eventY < middle) {\n      return 'top';\n    } else if (eventY > middle) {\n      return 'bottom';\n    }\n  }\n\n  return false;\n};\n\nexport { isEventWithTargetElement, closeToTopOrBottom };\n","import _ from 'lodash';\nimport { findUniqueIdentifier, findUniqueIdentifierFromString } from './closestParent';\nimport { closeToTopOrBottom, isEventWithTargetElement } from './eventElementRelation';\nimport { findElementInJson } from './findElementInMjmlJson';\nimport { logger } from './logger';\nimport { cleanMjmlJson } from './mjmlProcessor';\n\ninterface generateDropItemPlacehodlerProps {\n  setMjmlJson: any;\n  mjmlJson: any;\n  nearestTag: any;\n  columnElement: any;\n  currentTarget: any;\n  event: any;\n}\n\nconst generateDropItemPlaceholder = ({\n  mjmlJson,\n  setMjmlJson,\n  columnElement,\n  event: e,\n  currentTarget,\n  nearestTag,\n}: generateDropItemPlacehodlerProps) => {\n  if (columnElement && nearestTag) {\n    const nearestElement = currentTarget.closest(`.${nearestTag}`);\n    if (nearestElement && columnElement) {\n      if (isEventWithTargetElement(e, columnElement)) {\n        const suggestionDirection = closeToTopOrBottom(e, nearestElement);\n        if (suggestionDirection) {\n          let item = findElementInJson(_.cloneDeep(mjmlJson), nearestTag);\n          if (item) {\n            const [, path]: [any, string] = item;\n            // omit the last .child.. index, cuz parent is needed\n            const parent = path.slice(1, path.lastIndexOf('.children'));\n            let parentObj = _.get(_.cloneDeep(mjmlJson), parent);\n            let newOrder = [];\n            for (var i = 0; parentObj && parentObj.children && i < parentObj.children.length; i++) {\n              let childItem = parentObj['children'][i];\n              logger.log(childItem);\n              const cssClass = childItem.attributes && childItem['attributes']['css-class'];\n              // if there is existing placeholders, removing them\n              if (cssClass && cssClass.includes('placeitem-placeholder')) {\n                continue;\n              }\n              if (cssClass && cssClass.includes(nearestTag)) {\n                if (suggestionDirection === 'top') {\n                  newOrder.push(placeItemPlaceHolder, childItem);\n                } else if (suggestionDirection === 'bottom') {\n                  newOrder.push(childItem, placeItemPlaceHolder);\n                }\n                continue;\n              }\n              newOrder.push(childItem);\n            }\n\n            if (parentObj && newOrder.length > 0) {\n              // replace with new order\n              parentObj.children = newOrder;\n              const updated = _.set(_.cloneDeep(mjmlJson), parent, parentObj);\n              const uniqueColumnIdentifier = findUniqueIdentifier(\n                columnElement,\n                columnElement.classList,\n                'identifier-mj-column'\n              );\n              if (uniqueColumnIdentifier) {\n                const cleaned = cleanMjmlJson(updated, uniqueColumnIdentifier);\n                if (!_.isEqual(mjmlJson, cleaned)) {\n                  logger.log('::update::', mjmlJson, cleaned);\n                  setMjmlJson({ ...cleaned });\n                } else {\n                  logger.log('::update:: -> but elements are the same, not triggering rerender');\n                }\n              } else {\n                if (!_.isEqual(mjmlJson, updated)) {\n                  logger.log('::update::', mjmlJson, updated);\n                  setMjmlJson({ ...updated });\n                } else {\n                  logger.log('::update:: -> but elements are the same, not triggering rerender');\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\n\nconst genereateDropItemPlaceholderForColumn = ({\n  mjmlJson,\n  setMjmlJson,\n  nearestTag,\n}: Omit<generateDropItemPlacehodlerProps, 'event' | 'columnElement' | 'currentTarget'>) => {\n  if (nearestTag) {\n    let find = findElementInJson(mjmlJson, nearestTag);\n    if (find) {\n      const cleanedMjmlJson = cleanMjmlJson(_.cloneDeep(mjmlJson));\n      logger.log('::beforechange::', mjmlJson, cleanedMjmlJson);\n      const [, path]: [any, string] = find;\n      let columnObj = _.get(_.cloneDeep(cleanedMjmlJson), path.slice(1));\n      let newOrder = [];\n      for (let i = 0; columnObj && columnObj.children && i < columnObj.children.length; i++) {\n        const childItem = columnObj['children'][i];\n        const cssClass = childItem.attributes && childItem['attributes']['css-class'];\n        // if there is existing placeholders, removing them\n        if (cssClass && cssClass.includes('placeitem-placeholder')) {\n          continue;\n        }\n        // remove column empty placeholders\n        if (cssClass && cssClass.includes('mj-placeholder')) {\n          continue;\n        }\n        newOrder.push(childItem);\n      }\n\n      // newOrder will not be zero if the column already has items\n      if (newOrder.length > 0) {\n        // todo: handle generateDropItemPlaceholder inside this fn.\n        //  by getting event and performing calculations.\n        return false;\n      }\n\n      // add the new element\n      newOrder.push(placeItemPlaceHolder);\n\n      let sectionPath = path.slice(1, path.lastIndexOf('.children'));\n      if (columnObj) {\n        //  section can contain multiple,\n        // identify which column is active and replace with new order\n        columnObj.children = newOrder;\n        let parentSection = _.get(_.cloneDeep(cleanedMjmlJson), sectionPath);\n        let columnChildrenNewOrder = [];\n        for (let i = 0; parentSection && parentSection.children && i < parentSection.children.length; i++) {\n          const childColumn = parentSection['children'][i];\n          const cssClass = childColumn.attributes && childColumn['attributes']['css-class'];\n          const uniqueIdentifer = findUniqueIdentifierFromString(cssClass);\n          // nearestTag is the  uniqueId of the column,\n          //   replace the old column with new one\n          if (uniqueIdentifer === nearestTag) {\n            columnChildrenNewOrder.push(columnObj);\n            continue;\n          }\n          columnChildrenNewOrder.push(childColumn);\n        }\n        parentSection.children = columnChildrenNewOrder;\n        const updated = _.set(cleanedMjmlJson, sectionPath, parentSection);\n        if (!_.isEqual(mjmlJson, updated)) {\n          logger.log('::update::', cleanedMjmlJson, updated);\n          setMjmlJson({ ...updated });\n        } else {\n          logger.log('::update:: -> but elements are the same, not triggering rerender');\n        }\n        return true;\n      }\n    }\n  }\n};\n\nexport { generateDropItemPlaceholder, genereateDropItemPlaceholderForColumn };\n\nconst placeItemPlaceHolder = {\n  tagName: 'mj-text',\n  attributes: {\n    align: 'center',\n    'css-class': 'placeitem-placeholder',\n  },\n  content: '<div style=\"padding:24px\">  </div>',\n};\n","const typeoftag = (className: string) => {\n  let regExMatch = 'content';\n  let regex = className.match(/identifier-mj-(.*)/);\n  if (regex) {\n    regExMatch = regex[1];\n    if (regExMatch.includes('social-element')) {\n      regExMatch = regExMatch.replace('social-element', 'icon');\n    }\n\n    if (regExMatch.includes('-')) {\n      regExMatch = regExMatch.split('-')[0];\n    }\n  }\n  return regExMatch;\n};\n\nexport { typeoftag };\n","import _ from 'lodash';\nimport { findUniqueIdentifierFromString } from './closestParent';\nimport { findElementInJson } from './findElementInMjmlJson';\nimport { UNDOREDO } from './undoRedo';\n\nconst moveSectionUp = (className: string, mjmlJson: any, setMjmlJson: any, directon = 'up') => {\n  const uniqueClassName = findUniqueIdentifierFromString(className);\n  if (uniqueClassName) {\n    const child = findElementInJson(mjmlJson, uniqueClassName);\n    const parent = findElementInJson(mjmlJson, 'identifier-mj-body');\n    if (child && parent) {\n      const [parentItem, parentPath] = parent;\n      const [childItem] = child;\n\n      let newOrder = [];\n      let indexOfItem = -1;\n      for (let i = 0; parentItem.children.length > 1 && i < parentItem.children.length; i++) {\n        const childSection = parentItem.children[i];\n        if (childSection && childSection.attributes && childSection.attributes['css-class'].includes(uniqueClassName)) {\n          indexOfItem = i;\n          break;\n        }\n      }\n\n      if (indexOfItem !== -1) {\n        for (let i = 0; parentItem.children.length > 1 && i < parentItem.children.length; i++) {\n          const childSection = parentItem.children[i];\n          if (childSection && directon === 'up') {\n            // moveup -> indexOfItem -1;\n            if (i === indexOfItem - 1) {\n              newOrder.push(childItem);\n              newOrder.push(childSection);\n              i += 1;\n              continue;\n            }\n            newOrder.push(childSection);\n          }\n          if (childSection && directon === 'down') {\n            // movedown\n            if (i === indexOfItem) {\n              const nextChild = parentItem.children[i + 1];\n              newOrder.push(nextChild);\n              newOrder.push(childItem);\n              i += 1;\n              continue;\n            }\n            newOrder.push(childSection);\n          }\n        }\n      }\n      if (newOrder.length > 1) {\n        let update_parent = _.cloneDeep(parentItem);\n        update_parent.children = _.cloneDeep(newOrder);\n        const updated = _.set(mjmlJson, parentPath.slice(1), update_parent);\n        UNDOREDO.newAction(updated);\n        setMjmlJson({ ...updated });\n      }\n    }\n  }\n};\n\nconst moveSectionDown = (uniqueClassName: string, mjmlJson: any, setMjmlJson: any) => {\n  return moveSectionUp(uniqueClassName, mjmlJson, setMjmlJson, 'down');\n};\n\nexport { moveSectionUp, moveSectionDown };\n","import { logger } from './logger';\n\nconst InlineEditorActions = (e: any, type: string, extras = '') => {\n  if (e) {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  logger.log('editor action:', type, extras);\n  switch (type) {\n    case 'bold':\n      document.execCommand('bold');\n      break;\n    case 'underline':\n      document.execCommand('underline');\n      break;\n    case 'italics':\n      document.execCommand('italic');\n      break;\n    case 'size':\n      document.execCommand('fontSize', false, extras);\n      break;\n    case 'color':\n      document.execCommand('backColor', false, extras);\n      break;\n    case 'fontColor':\n      document.execCommand('foreColor', false, extras);\n      break;\n    case 'fontFamily':\n      document.execCommand('fontName', false, extras);\n      break;\n    default:\n      logger.info(`unhandled action ${type}`);\n  }\n  return false;\n};\n\nexport { InlineEditorActions };\n","import styled from 'styled-components';\nimport { ChromePicker } from 'react-color';\nimport { useState } from 'react';\n\ninterface ColorPickerProps {\n  handleChange: (color: string) => void;\n  mouseDown: boolean;\n}\n\nexport const ColorPicker = ({ handleChange, mouseDown }: ColorPickerProps) => {\n  const [color, setColor] = useState(() => '#ccc');\n\n  const handleColorChange = (color: any) => {\n    const hexCode = `${color.hex}${decimalToHex(color.rgb.a)}`;\n    setColor(hexCode);\n    handleChange(`rgba(${color.rgb.r},${color.rgb.g},${color.rgb.b},${color.rgb.a})`);\n  };\n\n  return (\n    <ColorPickerContainer\n      onMouseDown={(e) => {\n        if (!mouseDown) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      }}\n      color={color}\n    >\n      <div className=\"popover\">\n        <ChromePicker disableAlpha={false} color={color} onChange={(color: any) => handleColorChange(color)} />\n      </div>\n    </ColorPickerContainer>\n  );\n};\n\nconst decimalToHex = (alpha: number) => (alpha === 0 ? '00' : Math.round(255 * alpha).toString(16));\n\nconst ColorPickerContainer = styled.div`\n  display: inline-block;\n  .ant-popover-inner-content {\n    padding: 0;\n  }\n`;\n","import _ from 'lodash';\nimport styled from 'styled-components';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Form, Row } from 'antd';\nimport { ChromePicker } from 'react-color';\nimport { useEffect, useState } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { logger } from '../../Utils/logger';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\n\nconst ATTRIBUTE = 'background-color';\ninterface BackgroundProps {\n  activePath?: string;\n  label?: string;\n  overrideAttribute?: string;\n}\n\nexport const Background = ({ activePath, label, overrideAttribute }: BackgroundProps) => {\n  const attribute = overrideAttribute || ATTRIBUTE;\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [active, setActive] = useState(() => false);\n  const [color, setColor] = useState(() => '#ccc');\n  const [visible, path] = useVisibility({ attribute, customPath: activePath });\n\n  useEffect(() => {\n    if (visible && path) {\n      const item = _.get(mjmlJson, path);\n      if (item && item.attributes && item.attributes[attribute]) {\n        setColor(item.attributes[attribute]);\n      }\n    }\n    logger.log('background reloading,', path, visible);\n  }, [path, visible]);\n\n  const handleColorChange = (color: any) => {\n    const hexCode = `${color.hex}${decimalToHex(color.rgb.a)}`;\n    setColor(hexCode);\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      element.attributes[attribute] = hexCode;\n      let json = _.set(mjmlJson, path, element);\n\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <>\n      <Row>\n        <Col flex=\"auto\">\n          <Form.Item label={label ? label : 'Background'}></Form.Item>\n        </Col>\n\n        <ColorPicker color={color} flex=\"none\">\n          <div className=\"swatch\" onClick={() => setActive(true)}>\n            <div className=\"color\"></div>\n          </div>\n          {active ? (\n            <div className=\"popover\">\n              <div className=\"cover\" onClick={() => setActive(false)}></div>\n              <ChromePicker disableAlpha={false} color={color} onChange={(color: any) => handleColorChange(color)} />\n            </div>\n          ) : null}\n        </ColorPicker>\n      </Row>\n    </>\n  ) : null;\n};\n\nconst decimalToHex = (alpha: number) => (alpha === 0 ? '00' : Math.round(255 * alpha).toString(16));\n\nconst ColorPicker = styled(Col)`\n  .color {\n    width: 25px;\n    height: 25px;\n    border-radius: 2px;\n    background: ${(props) => props.color};\n  }\n  .swatch {\n    padding: 5px;\n    background: #fff;\n    border-radius: 1px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .popover {\n    position: absolute;\n    z-index: 2;\n    top: -108px;\n    left: -200px;\n  }\n\n  .cover {\n    position: fixed;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n  }\n`;\n","import _ from 'lodash';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Form, Input } from 'antd';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { useCallback, useEffect, useState } from 'react';\n\nconst ATTRIBUTE = 'width';\n\ninterface WidthHeightProps {\n  activePath?: string;\n}\n\nexport const Width = ({ activePath }: WidthHeightProps) => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE, customPath: activePath });\n\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState<string>('');\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n\n  useEffect(() => {\n    if (visible) {\n      setValue(getValue());\n    }\n  }, [visible]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n    if (e.target.value === '' || e.target.value === '%') {\n      e.target.value = '0';\n    }\n    if (visible && path && e.target.value) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = e.target.value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n  const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n      e.currentTarget.value = '';\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"Width\">\n      <Input onChange={handleChange} value={value} onKeyDown={onKeyDown} />\n    </Form.Item>\n  ) : null;\n};\n\nconst ATTRIBUTE_HEIGHT = 'height';\n\nexport const Height = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE_HEIGHT });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE_HEIGHT });\n  const [value, setValue] = useState('');\n\n  useEffect(() => {\n    if (visible) {\n      setValue(getValue());\n    }\n  }, [visible]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n    if (e.target.value === '' || e.target.value === '%') {\n      e.target.value = '';\n    }\n    if (visible && path && e.target.value) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE_HEIGHT] = e.target.value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n  const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n      e.currentTarget.value = '';\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"Height\">\n      <Input onChange={handleChange} value={value} onKeyDown={onKeyDown} />\n    </Form.Item>\n  ) : null;\n};\n","import { Form, Row, Col, Input } from 'antd';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useEditor } from '../../Hooks/Editor.hook';\n\ninterface TitleProps {\n  itemIndex: number;\n}\n\nconst Title = ({ itemIndex: index }: TitleProps) => {\n  const [value, setValue] = useState();\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  useEffect(() => {\n    if (index !== -1) {\n      const titleConfig = mjmlJson.children[0].children[index];\n      if (titleConfig && titleConfig.content) {\n        setValue(titleConfig.content);\n      }\n    }\n  }, [index]);\n\n  const handleChange = (e: any) => {\n    if (index !== -1) {\n      setValue(e.target.value);\n    }\n  };\n\n  const onBlur = (e: any) => {\n    if (e && index !== -1) {\n      let titleConfig = _.cloneDeep(mjmlJson.children[0].children[index]);\n      if (titleConfig) {\n        titleConfig['content'] = e.target.value;\n        const update = _.set(mjmlJson, `children[0].children[${index}]`, titleConfig);\n        setMjmlJson({ ...update });\n      }\n    }\n  };\n\n  return (\n    <Form.Item>\n      <Row>\n        <Col span={24}>\n          <Input addonBefore=\"title\" value={value} onBlur={onBlur} onChange={handleChange} />\n        </Col>\n      </Row>\n    </Form.Item>\n  );\n};\n\nexport { Title };\n","import { Button, Col, Input, Popover, Row, Tag, Tooltip } from 'antd';\nimport FormItem from 'antd/lib/form/FormItem';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useEditor } from '../../Hooks/Editor.hook';\n\nconst AddCustomFonts = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [fonts, setFonts] = useState([]);\n  const [addFontActive, setAddFontActive] = useState(false);\n\n  useEffect(() => {\n    if (mjmlJson) {\n      const head = mjmlJson.children[0];\n      if (head && head.children) {\n        const _fonts = head.children.filter((item: any) => item && item.tagName && item.tagName.includes('font'));\n        if (_fonts.length > 0 && _fonts.lenght !== fonts.length) {\n          setFonts(_fonts);\n        }\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    if (mjmlJson) {\n      const head = mjmlJson.children[0];\n      if (head && head.children) {\n        const _fonts = head.children.filter((item: any) => item && item.tagName && item.tagName.includes('font'));\n        if (_fonts.length > 0 && _fonts.lenght !== fonts.length) {\n          setFonts(_fonts);\n        }\n      }\n    }\n  }, [mjmlJson]);\n\n  const handleRemove = (fontName: string) => {\n    let head = _.cloneDeep(mjmlJson.children[0]);\n    if (head && head.children) {\n      const filteredfonts = head.children.filter((item: any) => {\n        if (item && item.tagName && item.tagName.includes('font')) {\n          return item.attributes.name !== fontName;\n        }\n        return true;\n      });\n      head.children = filteredfonts;\n      setFonts(filteredfonts);\n      const updated = _.set(mjmlJson, 'children[0]', head);\n      if (updated) {\n        setFonts(head.children.filter((item: any) => item && item.tagName && item.tagName.includes('font')));\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  const handleAddFont = (name: string, href: string) => {\n    if (mjmlJson) {\n      let head = _.cloneDeep(mjmlJson.children[0]);\n      if (head && head.children) {\n        head.children.push({\n          tagName: 'mj-font',\n          attributes: {\n            name,\n            href,\n          },\n        });\n\n        const updated = _.set(mjmlJson, 'children[0]', head);\n        if (updated) {\n          setFonts(head.children.filter((item: any) => item && item.tagName && item.tagName.includes('font')));\n          setMjmlJson({ ...updated });\n        }\n      }\n    }\n  };\n\n  return (\n    <FormItem>\n      <Row>\n        <Col\n          span={24}\n          style={{ justifyContent: 'center', paddingBottom: '24px', display: 'flex', rowGap: '6px', flexWrap: 'wrap' }}\n        >\n          {fonts &&\n            fonts.length > 0 &&\n            fonts.map((font: any, index) =>\n              font.attributes && font.attributes.href && font.attributes.name ? (\n                <Tooltip key={index} title={font.attributes.href}>\n                  <Tag closable onClose={() => handleRemove(font.attributes.name)}>\n                    {font.attributes.name}\n                  </Tag>\n                </Tooltip>\n              ) : null\n            )}\n        </Col>\n        <Col span={24} style={{ textAlign: 'center' }}>\n          <Popover\n            visible={addFontActive}\n            trigger=\"click\"\n            placement=\"bottom\"\n            content={<GetFontsValue addCustomFontClick={handleAddFont} popOverCallBacK={setAddFontActive} />}\n          >\n            <Button onClick={(e) => setAddFontActive(!addFontActive)}>Add custom font</Button>\n          </Popover>\n        </Col>\n      </Row>\n    </FormItem>\n  );\n};\n\nconst FontInputContainer = styled.div`\n  .ant-form-item {\n    margin-bottom: 8px;\n  }\n`;\n\nconst GetFontsValue = ({\n  addCustomFontClick,\n  popOverCallBacK,\n}: {\n  addCustomFontClick: (name: string, href: string) => void;\n  popOverCallBacK: (arg: any) => void;\n}) => {\n  const [fontName, setFontName] = useState('');\n  const [fontUrl, setFontUrl] = useState('');\n  return (\n    <FontInputContainer>\n      <FormItem>\n        <Input addonBefore=\"name\" value={fontName} onChange={(e) => setFontName(e.target.value)} />\n      </FormItem>\n      <FormItem>\n        <Input addonBefore=\"url\" value={fontUrl} onChange={(e) => setFontUrl(e.target.value)} />\n      </FormItem>\n      <FormItem style={{ textAlign: 'center' }}>\n        <Button\n          onClick={() => {\n            popOverCallBacK(false);\n            if (fontName && fontUrl) {\n              addCustomFontClick(fontName, fontUrl);\n            }\n          }}\n        >\n          add\n        </Button>\n\n        <Button\n          style={{ marginLeft: '6px' }}\n          onClick={() => {\n            popOverCallBacK(false);\n          }}\n        >\n          cancel\n        </Button>\n      </FormItem>\n    </FontInputContainer>\n  );\n};\n\nexport { AddCustomFonts };\n","import { Col, Row } from 'antd';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { Background } from './Mods/Background';\nimport { Width } from './Mods/WidthHeight';\nimport { Title as TitleMod } from './Mods/Title';\nimport { UNDOREDO } from '../Utils/undoRedo';\nimport { AddCustomFonts } from './Mods/AddCustomFonts';\n\nexport const BODY_PATH = 'children[1]';\n\nexport const HEAD_PATH = 'children[0]';\n\nconst BodyContainer = styled.div`\n  padding: 16px 0px;\n  .title {\n    font-size: 14px;\n    font-weight: 600;\n  }\n  .props-container {\n    padding: 16px;\n  }\n`;\n\nconst BodyAttributes = () => {\n  const { mjmlJson } = useEditor();\n  const [titleIndex, setTitleIndex] = useState<number>(-1);\n  const [cssIndex, setCssIndex] = useState<number>(-1);\n\n  useEffect(() => {\n    // taking advantage of the fact that head tag always has a static path\n    if (mjmlJson && mjmlJson['children'] && mjmlJson['children'].length > 0) {\n      let headConfig = mjmlJson['children'][0];\n      if (\n        headConfig &&\n        headConfig['tagName'] &&\n        headConfig['tagName'].includes('head') &&\n        headConfig.children &&\n        headConfig.children.length > 0\n      ) {\n        let children = headConfig.children;\n        for (let i = 0; i < children.length; i++) {\n          const child = children[i];\n          if (child && child.tagName && child.tagName.includes('title')) {\n            setTitleIndex(i);\n          } else if (child.tagName.includes('style')) {\n            setCssIndex(i);\n          }\n        }\n      }\n    }\n  }, []);\n\n  return (\n    <BodyContainer\n      onMouseDown={(e) => {\n        UNDOREDO.newAction(mjmlJson);\n      }}\n      onBlur={(e) => {\n        UNDOREDO.newAction(mjmlJson);\n      }}\n    >\n      <Title title=\"Body Properties\" />\n      <div className=\"props-container\">\n        <Width activePath={BODY_PATH} />\n        <Background activePath={BODY_PATH} label=\"Body Background:\" />\n      </div>\n      <Title title=\"Head Properties\" />\n\n      <div className=\"props-container\">\n        <TitleMod itemIndex={titleIndex} />\n      </div>\n\n      <Title title=\"Fonts\" />\n      <div className=\"props-container\">\n        <AddCustomFonts />\n      </div>\n    </BodyContainer>\n  );\n};\n\nconst Title = ({ title }: { title: string }) => {\n  return (\n    <Row justify=\"center\">\n      <Col span={24} style={{ textAlign: 'center' }}>\n        <span className=\"title\">{title}</span>\n      </Col>\n    </Row>\n  );\n};\n\nexport { BodyAttributes };\n","import _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { BODY_PATH } from '../Components/BodyAttributes';\nimport { findUniqueIdentifier } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { useEditor } from './Editor.hook';\nimport { useHtmlWrapper } from './Htmlwrapper.hook';\n\ninterface useVisibilityProps {\n  attribute?: string;\n  property?: string;\n  customPath?: string;\n}\n\nconst useVisibility = ({ attribute, property, customPath }: useVisibilityProps): [boolean | null, string, any] => {\n  const [visible, setVisible] = useState<boolean | null>(false);\n\n  const { active } = useHtmlWrapper();\n\n  const [path, setPath] = useState('');\n\n  const { mjmlJson } = useEditor();\n\n  useEffect(() => {\n    // if its body, no need to tranverse, as soon as the state'mjmlJson' is available,\n    //   it can be show to the ui\n    // possible optimization: body properties are being on every active item click.\n    //  write seperate Mods for body ex: instead of using common width, create width uniquely for body\n    if (mjmlJson && customPath && customPath === BODY_PATH) {\n      setVisible(true);\n      setPath(BODY_PATH);\n      return;\n    }\n\n    if (active) {\n      const uniqueIdentifier = findUniqueIdentifier(active, active.classList);\n      if (uniqueIdentifier) {\n        let path = findElementInJson(mjmlJson, uniqueIdentifier);\n\n        if (customPath) {\n          path = [null, '.' + customPath];\n        }\n\n        if (path) {\n          const [, pathToElement] = path;\n          if (pathToElement.length > 0) {\n            setPath(pathToElement.slice(1));\n          }\n          if (attribute) {\n            const item = _.get(mjmlJson, pathToElement.slice(1));\n            if (item && item.mutableProperties && item.mutableProperties.includes(attribute)) {\n              setVisible(true);\n              return;\n            }\n          } else if (property) {\n            const item = _.get(mjmlJson, pathToElement.slice(1));\n            if (item && item[property]) {\n              setVisible(true);\n              return;\n            }\n          }\n        }\n      }\n    }\n    setVisible(false);\n    setPath('');\n  }, [active]);\n\n  return [visible, path, active];\n};\n\ninterface useValueProps {\n  path: string;\n  visible: boolean | null;\n  attribute: string;\n}\n\nconst useValue = ({ path, visible, attribute }: useValueProps) => {\n  const { mjmlJson } = useEditor();\n  // todo: optimize this\n  const getValue = () => {\n    let value = '';\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      if (element && element.attributes) {\n        value = element.attributes[attribute];\n      }\n    }\n    return value;\n  };\n\n  return { getValue };\n};\n\nexport { useVisibility, useValue };\n","import _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useValue, useVisibility } from './Attribute.hook';\nimport { useEditor } from './Editor.hook';\n\nconst ATTRIBUTE = 'font-family';\n\nconst useFonts = (): [string[], string] => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState('');\n  const [fonts, setFonts] = useState<[]>([]);\n\n  useEffect(() => {\n    updateFonts(mjmlJson, fonts, setFonts, setMjmlJson);\n  }, []);\n\n  useEffect(() => {\n    updateFonts(mjmlJson, fonts, setFonts, setMjmlJson);\n  }, [mjmlJson]);\n\n  useEffect(() => {\n    if (visible && mjmlJson) {\n      const _value = getValue();\n      if (_value && _value.indexOf(',')) {\n        const _fonts = _value.split(',')[0];\n        setValue(_fonts);\n      }\n    }\n  }, [mjmlJson]);\n\n  return [fonts, value];\n};\n\nconst updateFonts = (mjmlJson: any, fonts: any, setFonts: (arg: any) => void, setMjmlJson: (arg: any) => void) => {\n  if (mjmlJson) {\n    const head = mjmlJson.children[0];\n    if (head && head.children) {\n      const fontList = head.children.filter((item: any) => item && item.tagName && item.tagName.includes('font'));\n      if (fonts && fontList && fontList.length !== fonts.length) {\n        let sortedFontList = fontList\n          .map((item: any) => item.attributes.name.trim())\n          .sort((a: any, b: any) => (a > b ? 1 : -1));\n        sortedFontList = _.uniq(sortedFontList);\n\n        setFonts(sortedFontList);\n\n        // update the overall fonts in the mail\n        // uitlizing the fact that the path to attributes tag is always the same/static\n        let mailFont = mjmlJson.children[0].children[2];\n        let toUpdate = 'Ubuntu,' + sortedFontList.join(',');\n        // updating attributes tag in head section. the font-family for changing 'font-family' on the fly for text-tag\n        if (\n          mailFont &&\n          mailFont.tagName.includes('attributes') &&\n          mailFont.children &&\n          mailFont.children[0] &&\n          mailFont.children[0].tagName.includes('text') &&\n          mailFont.children[0]['attributes']['font-family'] !== toUpdate\n        ) {\n          mailFont.children[0].attributes['font-family'] = toUpdate;\n          const update = _.set(mjmlJson, 'children[0].children[2]', mailFont);\n          if (update) {\n            setMjmlJson({ ...update });\n          }\n        }\n      }\n    }\n  }\n};\n\nexport { useFonts };\n","import _ from 'lodash';\nimport { ChangeEvent, useEffect, useState } from 'react';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Input, Row } from 'antd';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport FormItem from 'antd/lib/form/FormItem';\n\nconst ATTRIBUTE = 'href';\n\nconst Link = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n  const [value, setValue] = useState('');\n\n  useEffect(() => {\n    if (visible) {\n      setValue(getValue());\n    }\n  }, [visible, path]);\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n    if (path && visible) {\n      setValueInState(e.target.value);\n    }\n  };\n\n  const setValueInState = (userValue: string) => {\n    let json = {};\n    let element = _.get(mjmlJson, path);\n    element.attributes[ATTRIBUTE] = userValue;\n    json = _.set(mjmlJson, path, element);\n    setMjmlJson({ ...json });\n  };\n\n  // if entered url does not contain 'https://' | 'http://' add it on blur event,\n  // after the user finises typing.\n  const onBlur = (e: any) => {\n    if (e && e.target && e.target.value) {\n      const url = addHttps(e.target.value);\n      setValueInState(url);\n      setValue(url);\n    }\n  };\n\n  return visible ? (\n    <FormItem>\n      <Row>\n        <Col span={24}>\n          <Input addonBefore={ATTRIBUTE} onBlur={onBlur} onChange={handleChange} value={value} />\n        </Col>\n      </Row>\n    </FormItem>\n  ) : null;\n};\n\nconst addHttps = (url: string) => {\n  url = url.trim();\n  if (url && !url.includes('https://') && !url.includes('http://')) {\n    url = `https://${url}`;\n  }\n  return url;\n};\n\nexport { Link, addHttps };\n","import { VerticalAlignTopOutlined, VerticalAlignBottomOutlined } from '@ant-design/icons';\nimport { Button } from 'antd';\nimport { useEffect, useState } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { findUniqueIdentifierFromString } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { moveSectionDown, moveSectionUp } from '../Utils/reorderSections';\nimport { ResetEventBehaviour } from './Mods/CustomInlineEditor';\n\ninterface MoveUpDownProps {\n  idRef: any;\n  active: any;\n  className: string;\n}\n\nconst MoveUpDown = ({ className, idRef, active }: MoveUpDownProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [upActive, setUpActive] = useState(true);\n  const [downActive, setDownActive] = useState(true);\n\n  useEffect(() => {\n    if (idRef.current === active) {\n      const uniqueClassName = findUniqueIdentifierFromString(className);\n      if (uniqueClassName) {\n        const child = findElementInJson(mjmlJson, findUniqueIdentifierFromString(className));\n        const parent = findElementInJson(mjmlJson, 'identifier-mj-body');\n        if (child && parent) {\n          const [parentItem] = parent;\n          const [childItem] = child;\n\n          // if section element is the first element\n          if (parentItem && parentItem.children && parentItem.children.length === 1) {\n            setUpActive(false);\n            setDownActive(false);\n            return;\n          } else if (parentItem && parentItem.children && parentItem.children.length > 1) {\n            const lastItem = parentItem.children.length - 1;\n            for (let i = 0; i < parentItem.children.length; i++) {\n              const childSection = parentItem.children[i];\n              if (\n                childSection &&\n                childSection.attributes &&\n                childSection.attributes['css-class'] &&\n                childSection.attributes['css-class'].includes(uniqueClassName)\n              ) {\n                if (i === lastItem) {\n                  setDownActive(false);\n                  setUpActive(true);\n                  break;\n                } else if (i === 0) {\n                  setUpActive(false);\n                  setDownActive(true);\n                  break;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }, [mjmlJson, idRef, active]);\n\n  const MoveUp = (e: any) => {\n    ResetEventBehaviour(e);\n    moveSectionUp(className, mjmlJson, setMjmlJson);\n  };\n\n  const MoveDown = (e: any) => {\n    ResetEventBehaviour(e);\n    moveSectionDown(className, mjmlJson, setMjmlJson);\n  };\n\n  return (\n    <div onMouseDown={ResetEventBehaviour} style={{ display: active === idRef.current ? 'block' : 'none' }}>\n      <div\n        style={{\n          zIndex: 200,\n          position: 'absolute',\n          left: -38,\n          bottom: 0,\n          display: 'flex',\n          flexDirection: 'column',\n          rowGap: '4px',\n        }}\n      >\n        <Button\n          type=\"primary\"\n          disabled={!upActive}\n          onClick={MoveUp}\n          icon={<VerticalAlignTopOutlined style={{ fontSize: '20px' }} />}\n        />\n        <Button\n          type=\"primary\"\n          disabled={!downActive}\n          onClick={MoveDown}\n          icon={<VerticalAlignBottomOutlined style={{ fontSize: '20px' }} />}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport { MoveUpDown };\n","import _ from 'lodash';\nimport { cloneElement, createElement, memo, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useCkeditor } from '../Hooks/Ckeditor.hook';\nimport { useCustomEditorPosition, useCustomEditorStatus } from '../Hooks/CustomEditor.hook';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../Hooks/Htmlwrapper.hook';\nimport { findClosestParent, findUniqueIdentifier } from '../Utils/closestParent';\nimport { detectEmptyElement } from '../Utils/detectEmptyBody';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { findColumnOfElement } from '../Utils/findElementsParent';\nimport {\n  generateDropItemPlaceholder,\n  genereateDropItemPlaceholderForColumn,\n} from '../Utils/generateDropItemPlaceholder';\nimport { logger } from '../Utils/logger';\nimport { setToolBars } from '../Utils/setToolbarPositions';\nimport { typeoftag } from '../Utils/typeoftag';\nimport { MoveUpDown } from './MoveUpDownRow';\n\ninterface HtmlWrapperProps {\n  // children: React.DOMElement<React.DOMAttributes<Element>, Element>;\n  uniqueKey: string | number;\n  originalNode: any;\n}\n\nexport const HtmlWrapper = memo(({ uniqueKey, originalNode }: HtmlWrapperProps) => {\n  const { setUIWrapperList, setActive, setActiveHover, active, activeHover, id, setId, getId, uiList } =\n    useHtmlWrapper();\n  const {\n    setDelActive,\n    setDelX,\n    setDelY,\n    copy,\n    drag: { isColumn },\n  } = useCkeditor();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { setX: customEditorSetX, setY: customEditorSetY } = useCustomEditorPosition();\n  const { setActive: setCustomEditorStatus } = useCustomEditorStatus();\n  const idRef = useRef(id);\n  const uniqueId = useRef(id);\n\n  const { setCopyX, setCopyActive, setCopyY } = copy;\n\n  useEffect(() => {\n    getId();\n  }, []);\n\n  // while move items in editor, hide these\n  useEffect(() => {\n    if (active === null) {\n      setCopyActive(false);\n      setDelActive(false);\n      setCustomEditorStatus(false);\n    }\n  }, [active]);\n\n  const onHover = (e: any) => {\n    e.stopPropagation();\n    activeHover !== idRef.current && setActiveHover(idRef.current);\n  };\n\n  const onClick = useMemo(\n    () =>\n      idRef.current === activeHover\n        ? (e: any) => {\n            // text element with links in editor mode, should not trigger clicks\n            if (e && e.target && e.target.tagName === 'A') {\n              e.preventDefault();\n            }\n            setActive(idRef.current);\n            const clickTarget = e.target;\n            const mjmlTarget = clickTarget.closest('.mjml-tag');\n            if (mjmlTarget) {\n              const pos = mjmlTarget.getBoundingClientRect();\n\n              // activate editor only for text elements,\n              const identifier = findUniqueIdentifier(mjmlTarget, mjmlTarget.classList);\n\n              // if its body, dont show copy or delte.\n              if (identifier?.includes('body')) {\n                setDelActive(false);\n                setCopyActive(false);\n                return;\n              }\n\n              if (identifier?.includes('text')) {\n                const x = pos.left;\n                const y = pos.top - 38;\n\n                setCustomEditorStatus(true);\n                customEditorSetX(x);\n                customEditorSetY(y);\n              } else {\n                setCustomEditorStatus(false);\n              }\n\n              // moving the delete positon to currently selected elements right\n              setDelActive(true);\n              setCopyActive(true);\n\n              setToolBars({ pos, delete: { setDelX, setDelY }, copy: { setCopyX, setCopyY } });\n            }\n          }\n        : null,\n    [idRef, activeHover]\n  );\n  const draggable = activeHover === idRef.current && !idRef.current.className.includes('section');\n  const cursetStyle = useMemo(() => (activeHover === idRef.current ? 'pointer' : 'default'), [activeHover, idRef]);\n  const outline = activeHover === idRef.current ? '2px dashed rgb(121, 202, 182)' : 'unset';\n  const outlineClick = active === idRef.current ? '2px solid rgb(121, 202, 182)' : 'unset';\n\n  // detect empty body\n  if (detectEmptyElement(originalNode, 'body')) {\n    logger.info('empty body detected');\n  }\n  // detect empty section\n  if (detectEmptyElement(originalNode, 'section')) {\n    logger.info('empty section detected');\n  }\n\n  const onDragStart = (e: any) => {\n    if (active) {\n      setActive(null);\n    }\n    e.dataTransfer.dropEffect = 'move';\n    const uniqueClassName = findClosestParent(e.target);\n    const find = findElementInJson(mjmlJson, uniqueClassName);\n    if (find) {\n      const [, path] = find;\n      let item = _.get(mjmlJson, path.slice(1));\n      item = { mode: 'move', uniqueClassName: uniqueClassName, config: _.cloneDeep(item) };\n      let target = e.target;\n      // const backup = target.children[1]?.cloneNode(true);\n      // target.children[1].remove();\n      // target.addEventListener('dragend', () => {\n      //   target.appendChild(backup);\n      // });\n      // const dummyElement = document.createElement('div');\n\n      e.dataTransfer.setDragImage(target, 0, 0);\n      e.dataTransfer.setData('config', JSON.stringify(item));\n    } else {\n      logger.info(`move items: drag unable to find the config to transfer ${uniqueClassName}`);\n    }\n  };\n\n  const memoFind = useCallback((e: HTMLElement) => findColumnOfElement(e), []);\n\n  //todo: add removed perfomance optimization once functionality dev is complete.\n  const onDragOver = (e: any) => {\n    if (isColumn) {\n      // column & section can not be nested,\n      return;\n    }\n    const currentTarget = e.nativeEvent.target;\n    const nearestTag = findClosestParent(currentTarget);\n    // only show place item sign for column's children\n    if (nearestTag?.includes('mj-column') || nearestTag?.includes('mj-section')) {\n      logger.log('::indicator: trigger->column');\n      if (nearestTag.includes('mj-column')) {\n        const madeChange = genereateDropItemPlaceholderForColumn({ mjmlJson, nearestTag, setMjmlJson });\n        if (madeChange === true) {\n          logger.log('::indicator: trigger->column -> stopping further processing');\n          return;\n        }\n        logger.log('::indicator: trigger->column -> no updates where done -> proceeding further processing');\n      }\n    }\n\n    let columnElement = memoFind(currentTarget);\n    // find column of element returns element and uniqueIdentifier\n    if (columnElement) {\n      [columnElement] = columnElement;\n    }\n    logger.log('::indicator: trigger->insideColumn');\n    generateDropItemPlaceholder({\n      mjmlJson,\n      nearestTag,\n      columnElement,\n      currentTarget,\n      setMjmlJson,\n      event: e,\n    });\n  };\n\n  const tag = typeoftag(originalNode.props.className);\n\n  const ItemName = createElement(\n    'div',\n    {\n      style: {\n        position: 'absolute',\n        right: -2,\n        bottom: -24,\n        zIndex: 100,\n        display: tag !== 'social-element' ? 'block' : 'none',\n        minWidth: 64,\n        textAlign: 'right',\n      },\n      draggable: false,\n    },\n\n    activeHover === idRef.current || active === idRef.current\n      ? createElement(\n          'span',\n          { style: { padding: '4px 6px', background: '#1890ff', color: 'white', fontSize: '14px' } },\n          typeoftag(originalNode.props.className)\n        )\n      : null\n  );\n\n  let moveUpDown = null;\n\n  // for sections show Indicators to show up and down.\n  if (originalNode && originalNode.props.className.includes('mj-section')) {\n    moveUpDown = <MoveUpDown className={originalNode.props.className} idRef={idRef} active={active} />;\n  }\n\n  const Element = createElement(\n    originalNode.nodeName as string,\n    {\n      ...originalNode.props,\n      onDragOver: _.debounce(onDragOver, 150),\n      onMouseOver: onHover,\n      onDragStart,\n      draggable,\n      ref: idRef,\n      id: uniqueId.current,\n      onClick,\n      key: uniqueKey,\n      style: {\n        ...originalNode.props.style,\n        cursor: 'pointer',\n        outline: active === idRef.current ? outlineClick : outline,\n        position: 'relative',\n      },\n    },\n    originalNode.children ? [...originalNode.children, ItemName, moveUpDown] : null\n  );\n\n  return Element;\n});\n","import { floor } from 'lodash';\n\ntype fn = (arg: number) => void;\n\ninterface SetToolBarsProps {\n  pos: any;\n  delete: {\n    setDelX: fn;\n    setDelY: fn;\n  };\n  copy: {\n    setCopyX: fn;\n    setCopyY: fn;\n  };\n}\n\nconst setToolBars = ({ pos, delete: { setDelX, setDelY }, copy: { setCopyX, setCopyY } }: SetToolBarsProps) => {\n  const IconSize = 32;\n  const numberOfIcons = 2 * IconSize;\n  if (pos) {\n    setDelX(pos.right + 4);\n    const middle = floor((pos.bottom - pos.top) / 2) - numberOfIcons / 2;\n    setDelY(pos.top + middle);\n    setCopyX(pos.right + 4);\n    // below the delete icon, with a little offset\n    setCopyY(pos.top + middle + IconSize + 4);\n  }\n};\n\nexport { setToolBars };\n","//https://raw.githubusercontent.com/facebook/react/cae635054e17a6f107a39d328649137b83f25972/packages/react-dom/src/shared/possibleStandardNames.js\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// When adding attributes to the HTML or SVG allowed attribute list, be sure to\n// also add them to this module to ensure casing and incorrect name\n// warnings.\nconst possibleStandardNames: any = {\n  // HTML\n  accept: 'accept',\n  acceptcharset: 'acceptCharset',\n  'accept-charset': 'acceptCharset',\n  accesskey: 'accessKey',\n  action: 'action',\n  allowfullscreen: 'allowFullScreen',\n  alt: 'alt',\n  align: 'align', // deprecated, but still adding it since, mjml uses it, msdn: Instead of using the obsolete align attribute, you should instead use the CSS text-align property to establish left, center, right, or justify alignment for the row's cells. To apply character-based alignment, set the CSS text-align property to the alignment character (such as \".\" or \",\").\n  as: 'as',\n  async: 'async',\n  autocapitalize: 'autoCapitalize',\n  autocomplete: 'autoComplete',\n  autocorrect: 'autoCorrect',\n  autofocus: 'autoFocus',\n  autoplay: 'autoPlay',\n  autosave: 'autoSave',\n  capture: 'capture',\n  cellpadding: 'cellPadding',\n  cellspacing: 'cellSpacing',\n  challenge: 'challenge',\n  charset: 'charSet',\n  checked: 'checked',\n  children: 'children',\n  cite: 'cite',\n  class: 'className',\n  classid: 'classID',\n  classname: 'className',\n  cols: 'cols',\n  colspan: 'colSpan',\n  content: 'content',\n  contenteditable: 'contentEditable',\n  contextmenu: 'contextMenu',\n  controls: 'controls',\n  controlslist: 'controlsList',\n  coords: 'coords',\n  crossorigin: 'crossOrigin',\n  dangerouslysetinnerhtml: 'dangerouslySetInnerHTML',\n  data: 'data',\n  datetime: 'dateTime',\n  default: 'default',\n  defaultchecked: 'defaultChecked',\n  defaultvalue: 'defaultValue',\n  defer: 'defer',\n  dir: 'dir',\n  disabled: 'disabled',\n  disablepictureinpicture: 'disablePictureInPicture',\n  disableremoteplayback: 'disableRemotePlayback',\n  download: 'download',\n  draggable: 'draggable',\n  enctype: 'encType',\n  enterkeyhint: 'enterKeyHint',\n  for: 'htmlFor',\n  form: 'form',\n  formmethod: 'formMethod',\n  formaction: 'formAction',\n  formenctype: 'formEncType',\n  formnovalidate: 'formNoValidate',\n  formtarget: 'formTarget',\n  frameborder: 'frameBorder',\n  headers: 'headers',\n  height: 'height',\n  hidden: 'hidden',\n  high: 'high',\n  href: 'href',\n  hreflang: 'hrefLang',\n  htmlfor: 'htmlFor',\n  httpequiv: 'httpEquiv',\n  'http-equiv': 'httpEquiv',\n  icon: 'icon',\n  id: 'id',\n  innerhtml: 'innerHTML',\n  inputmode: 'inputMode',\n  integrity: 'integrity',\n  is: 'is',\n  itemid: 'itemID',\n  itemprop: 'itemProp',\n  itemref: 'itemRef',\n  itemscope: 'itemScope',\n  itemtype: 'itemType',\n  keyparams: 'keyParams',\n  keytype: 'keyType',\n  kind: 'kind',\n  label: 'label',\n  lang: 'lang',\n  list: 'list',\n  loop: 'loop',\n  low: 'low',\n  manifest: 'manifest',\n  marginwidth: 'marginWidth',\n  marginheight: 'marginHeight',\n  max: 'max',\n  maxlength: 'maxLength',\n  media: 'media',\n  mediagroup: 'mediaGroup',\n  method: 'method',\n  min: 'min',\n  minlength: 'minLength',\n  multiple: 'multiple',\n  muted: 'muted',\n  name: 'name',\n  nomodule: 'noModule',\n  nonce: 'nonce',\n  novalidate: 'noValidate',\n  open: 'open',\n  optimum: 'optimum',\n  pattern: 'pattern',\n  placeholder: 'placeholder',\n  playsinline: 'playsInline',\n  poster: 'poster',\n  preload: 'preload',\n  profile: 'profile',\n  radiogroup: 'radioGroup',\n  readonly: 'readOnly',\n  referrerpolicy: 'referrerPolicy',\n  rel: 'rel',\n  required: 'required',\n  reversed: 'reversed',\n  role: 'role',\n  rows: 'rows',\n  rowspan: 'rowSpan',\n  sandbox: 'sandbox',\n  scope: 'scope',\n  scoped: 'scoped',\n  scrolling: 'scrolling',\n  seamless: 'seamless',\n  selected: 'selected',\n  shape: 'shape',\n  size: 'size',\n  sizes: 'sizes',\n  span: 'span',\n  spellcheck: 'spellCheck',\n  src: 'src',\n  srcdoc: 'srcDoc',\n  srclang: 'srcLang',\n  srcset: 'srcSet',\n  start: 'start',\n  step: 'step',\n  style: 'style',\n  summary: 'summary',\n  tabindex: 'tabIndex',\n  target: 'target',\n  title: 'title',\n  type: 'type',\n  usemap: 'useMap',\n  value: 'value',\n  width: 'width',\n  wmode: 'wmode',\n  wrap: 'wrap',\n\n  // SVG\n  about: 'about',\n  accentheight: 'accentHeight',\n  'accent-height': 'accentHeight',\n  accumulate: 'accumulate',\n  additive: 'additive',\n  alignmentbaseline: 'alignmentBaseline',\n  'alignment-baseline': 'alignmentBaseline',\n  allowreorder: 'allowReorder',\n  alphabetic: 'alphabetic',\n  amplitude: 'amplitude',\n  arabicform: 'arabicForm',\n  'arabic-form': 'arabicForm',\n  ascent: 'ascent',\n  attributename: 'attributeName',\n  attributetype: 'attributeType',\n  autoreverse: 'autoReverse',\n  azimuth: 'azimuth',\n  basefrequency: 'baseFrequency',\n  baselineshift: 'baselineShift',\n  'baseline-shift': 'baselineShift',\n  baseprofile: 'baseProfile',\n  bbox: 'bbox',\n  begin: 'begin',\n  bias: 'bias',\n  by: 'by',\n  calcmode: 'calcMode',\n  capheight: 'capHeight',\n  'cap-height': 'capHeight',\n  clip: 'clip',\n  clippath: 'clipPath',\n  'clip-path': 'clipPath',\n  clippathunits: 'clipPathUnits',\n  cliprule: 'clipRule',\n  'clip-rule': 'clipRule',\n  color: 'color',\n  colorinterpolation: 'colorInterpolation',\n  'color-interpolation': 'colorInterpolation',\n  colorinterpolationfilters: 'colorInterpolationFilters',\n  'color-interpolation-filters': 'colorInterpolationFilters',\n  colorprofile: 'colorProfile',\n  'color-profile': 'colorProfile',\n  colorrendering: 'colorRendering',\n  'color-rendering': 'colorRendering',\n  contentscripttype: 'contentScriptType',\n  contentstyletype: 'contentStyleType',\n  cursor: 'cursor',\n  cx: 'cx',\n  cy: 'cy',\n  d: 'd',\n  datatype: 'datatype',\n  decelerate: 'decelerate',\n  descent: 'descent',\n  diffuseconstant: 'diffuseConstant',\n  direction: 'direction',\n  display: 'display',\n  divisor: 'divisor',\n  dominantbaseline: 'dominantBaseline',\n  'dominant-baseline': 'dominantBaseline',\n  dur: 'dur',\n  dx: 'dx',\n  dy: 'dy',\n  edgemode: 'edgeMode',\n  elevation: 'elevation',\n  enablebackground: 'enableBackground',\n  'enable-background': 'enableBackground',\n  end: 'end',\n  exponent: 'exponent',\n  externalresourcesrequired: 'externalResourcesRequired',\n  fill: 'fill',\n  fillopacity: 'fillOpacity',\n  'fill-opacity': 'fillOpacity',\n  fillrule: 'fillRule',\n  'fill-rule': 'fillRule',\n  filter: 'filter',\n  filterres: 'filterRes',\n  filterunits: 'filterUnits',\n  floodopacity: 'floodOpacity',\n  'flood-opacity': 'floodOpacity',\n  floodcolor: 'floodColor',\n  'flood-color': 'floodColor',\n  focusable: 'focusable',\n  fontfamily: 'fontFamily',\n  'font-family': 'fontFamily',\n  fontsize: 'fontSize',\n  'font-size': 'fontSize',\n  fontsizeadjust: 'fontSizeAdjust',\n  'font-size-adjust': 'fontSizeAdjust',\n  fontstretch: 'fontStretch',\n  'font-stretch': 'fontStretch',\n  fontstyle: 'fontStyle',\n  'font-style': 'fontStyle',\n  fontvariant: 'fontVariant',\n  'font-variant': 'fontVariant',\n  fontweight: 'fontWeight',\n  'font-weight': 'fontWeight',\n  format: 'format',\n  from: 'from',\n  fx: 'fx',\n  fy: 'fy',\n  g1: 'g1',\n  g2: 'g2',\n  glyphname: 'glyphName',\n  'glyph-name': 'glyphName',\n  glyphorientationhorizontal: 'glyphOrientationHorizontal',\n  'glyph-orientation-horizontal': 'glyphOrientationHorizontal',\n  glyphorientationvertical: 'glyphOrientationVertical',\n  'glyph-orientation-vertical': 'glyphOrientationVertical',\n  glyphref: 'glyphRef',\n  gradienttransform: 'gradientTransform',\n  gradientunits: 'gradientUnits',\n  hanging: 'hanging',\n  horizadvx: 'horizAdvX',\n  'horiz-adv-x': 'horizAdvX',\n  horizoriginx: 'horizOriginX',\n  'horiz-origin-x': 'horizOriginX',\n  ideographic: 'ideographic',\n  imagerendering: 'imageRendering',\n  'image-rendering': 'imageRendering',\n  in2: 'in2',\n  in: 'in',\n  inlist: 'inlist',\n  intercept: 'intercept',\n  k1: 'k1',\n  k2: 'k2',\n  k3: 'k3',\n  k4: 'k4',\n  k: 'k',\n  kernelmatrix: 'kernelMatrix',\n  kernelunitlength: 'kernelUnitLength',\n  kerning: 'kerning',\n  keypoints: 'keyPoints',\n  keysplines: 'keySplines',\n  keytimes: 'keyTimes',\n  lengthadjust: 'lengthAdjust',\n  letterspacing: 'letterSpacing',\n  'letter-spacing': 'letterSpacing',\n  lightingcolor: 'lightingColor',\n  'lighting-color': 'lightingColor',\n  limitingconeangle: 'limitingConeAngle',\n  local: 'local',\n  markerend: 'markerEnd',\n  'marker-end': 'markerEnd',\n  markerheight: 'markerHeight',\n  markermid: 'markerMid',\n  'marker-mid': 'markerMid',\n  markerstart: 'markerStart',\n  'marker-start': 'markerStart',\n  markerunits: 'markerUnits',\n  markerwidth: 'markerWidth',\n  mask: 'mask',\n  maskcontentunits: 'maskContentUnits',\n  maskunits: 'maskUnits',\n  mathematical: 'mathematical',\n  mode: 'mode',\n  numoctaves: 'numOctaves',\n  offset: 'offset',\n  opacity: 'opacity',\n  operator: 'operator',\n  order: 'order',\n  orient: 'orient',\n  orientation: 'orientation',\n  origin: 'origin',\n  overflow: 'overflow',\n  overlineposition: 'overlinePosition',\n  'overline-position': 'overlinePosition',\n  overlinethickness: 'overlineThickness',\n  'overline-thickness': 'overlineThickness',\n  paintorder: 'paintOrder',\n  'paint-order': 'paintOrder',\n  panose1: 'panose1',\n  'panose-1': 'panose1',\n  pathlength: 'pathLength',\n  patterncontentunits: 'patternContentUnits',\n  patterntransform: 'patternTransform',\n  patternunits: 'patternUnits',\n  pointerevents: 'pointerEvents',\n  'pointer-events': 'pointerEvents',\n  points: 'points',\n  pointsatx: 'pointsAtX',\n  pointsaty: 'pointsAtY',\n  pointsatz: 'pointsAtZ',\n  prefix: 'prefix',\n  preservealpha: 'preserveAlpha',\n  preserveaspectratio: 'preserveAspectRatio',\n  primitiveunits: 'primitiveUnits',\n  property: 'property',\n  r: 'r',\n  radius: 'radius',\n  refx: 'refX',\n  refy: 'refY',\n  renderingintent: 'renderingIntent',\n  'rendering-intent': 'renderingIntent',\n  repeatcount: 'repeatCount',\n  repeatdur: 'repeatDur',\n  requiredextensions: 'requiredExtensions',\n  requiredfeatures: 'requiredFeatures',\n  resource: 'resource',\n  restart: 'restart',\n  result: 'result',\n  results: 'results',\n  rotate: 'rotate',\n  rx: 'rx',\n  ry: 'ry',\n  scale: 'scale',\n  security: 'security',\n  seed: 'seed',\n  shaperendering: 'shapeRendering',\n  'shape-rendering': 'shapeRendering',\n  slope: 'slope',\n  spacing: 'spacing',\n  specularconstant: 'specularConstant',\n  specularexponent: 'specularExponent',\n  speed: 'speed',\n  spreadmethod: 'spreadMethod',\n  startoffset: 'startOffset',\n  stddeviation: 'stdDeviation',\n  stemh: 'stemh',\n  stemv: 'stemv',\n  stitchtiles: 'stitchTiles',\n  stopcolor: 'stopColor',\n  'stop-color': 'stopColor',\n  stopopacity: 'stopOpacity',\n  'stop-opacity': 'stopOpacity',\n  strikethroughposition: 'strikethroughPosition',\n  'strikethrough-position': 'strikethroughPosition',\n  strikethroughthickness: 'strikethroughThickness',\n  'strikethrough-thickness': 'strikethroughThickness',\n  string: 'string',\n  stroke: 'stroke',\n  strokedasharray: 'strokeDasharray',\n  'stroke-dasharray': 'strokeDasharray',\n  strokedashoffset: 'strokeDashoffset',\n  'stroke-dashoffset': 'strokeDashoffset',\n  strokelinecap: 'strokeLinecap',\n  'stroke-linecap': 'strokeLinecap',\n  strokelinejoin: 'strokeLinejoin',\n  'stroke-linejoin': 'strokeLinejoin',\n  strokemiterlimit: 'strokeMiterlimit',\n  'stroke-miterlimit': 'strokeMiterlimit',\n  strokewidth: 'strokeWidth',\n  'stroke-width': 'strokeWidth',\n  strokeopacity: 'strokeOpacity',\n  'stroke-opacity': 'strokeOpacity',\n  suppresscontenteditablewarning: 'suppressContentEditableWarning',\n  suppresshydrationwarning: 'suppressHydrationWarning',\n  surfacescale: 'surfaceScale',\n  systemlanguage: 'systemLanguage',\n  tablevalues: 'tableValues',\n  targetx: 'targetX',\n  targety: 'targetY',\n  textanchor: 'textAnchor',\n  'text-anchor': 'textAnchor',\n  textdecoration: 'textDecoration',\n  'text-decoration': 'textDecoration',\n  textlength: 'textLength',\n  textrendering: 'textRendering',\n  'text-rendering': 'textRendering',\n  to: 'to',\n  transform: 'transform',\n  typeof: 'typeof',\n  u1: 'u1',\n  u2: 'u2',\n  underlineposition: 'underlinePosition',\n  'underline-position': 'underlinePosition',\n  underlinethickness: 'underlineThickness',\n  'underline-thickness': 'underlineThickness',\n  unicode: 'unicode',\n  unicodebidi: 'unicodeBidi',\n  'unicode-bidi': 'unicodeBidi',\n  unicoderange: 'unicodeRange',\n  'unicode-range': 'unicodeRange',\n  unitsperem: 'unitsPerEm',\n  'units-per-em': 'unitsPerEm',\n  unselectable: 'unselectable',\n  valphabetic: 'vAlphabetic',\n  'v-alphabetic': 'vAlphabetic',\n  values: 'values',\n  vectoreffect: 'vectorEffect',\n  'vector-effect': 'vectorEffect',\n  version: 'version',\n  vertadvy: 'vertAdvY',\n  'vert-adv-y': 'vertAdvY',\n  vertoriginx: 'vertOriginX',\n  'vert-origin-x': 'vertOriginX',\n  vertoriginy: 'vertOriginY',\n  'vertical-align': 'vertial-align',\n  'vert-origin-y': 'vertOriginY',\n  vhanging: 'vHanging',\n  'v-hanging': 'vHanging',\n  videographic: 'vIdeographic',\n  'v-ideographic': 'vIdeographic',\n  viewbox: 'viewBox',\n  viewtarget: 'viewTarget',\n  visibility: 'visibility',\n  vmathematical: 'vMathematical',\n  'v-mathematical': 'vMathematical',\n  vocab: 'vocab',\n  widths: 'widths',\n  wordspacing: 'wordSpacing',\n  'word-spacing': 'wordSpacing',\n  writingmode: 'writingMode',\n  'writing-mode': 'writingMode',\n  x1: 'x1',\n  x2: 'x2',\n  x: 'x',\n  xchannelselector: 'xChannelSelector',\n  xheight: 'xHeight',\n  'x-height': 'xHeight',\n  xlinkactuate: 'xlinkActuate',\n  'xlink:actuate': 'xlinkActuate',\n  xlinkarcrole: 'xlinkArcrole',\n  'xlink:arcrole': 'xlinkArcrole',\n  xlinkhref: 'xlinkHref',\n  'xlink:href': 'xlinkHref',\n  xlinkrole: 'xlinkRole',\n  'xlink:role': 'xlinkRole',\n  xlinkshow: 'xlinkShow',\n  'xlink:show': 'xlinkShow',\n  xlinktitle: 'xlinkTitle',\n  'xlink:title': 'xlinkTitle',\n  xlinktype: 'xlinkType',\n  'xlink:type': 'xlinkType',\n  xmlbase: 'xmlBase',\n  'xml:base': 'xmlBase',\n  xmllang: 'xmlLang',\n  'xml:lang': 'xmlLang',\n  xmlns: 'xmlns',\n  'xml:space': 'xmlSpace',\n  xmlnsxlink: 'xmlnsXlink',\n  'xmlns:xlink': 'xmlnsXlink',\n  xmlspace: 'xmlSpace',\n  y1: 'y1',\n  y2: 'y2',\n  y: 'y',\n  ychannelselector: 'yChannelSelector',\n  z: 'z',\n  zoomandpan: 'zoomAndPan',\n};\n\nexport default possibleStandardNames;\n","import { createElement } from 'react';\n\ninterface WrapWithOutlineProps {\n  nodeName: string;\n  props: any;\n  children: any;\n  id: number;\n}\n\nconst WrapWithOutline = ({ nodeName, props, children, id }: WrapWithOutlineProps) => {\n  return createElement(\n    nodeName,\n    { ...props, key: id, style: { ...props.style, outline: '2px dashed rgb(121,202,182)' } },\n    children\n  );\n};\n\nexport { WrapWithOutline };\n","import React, { createElement, ReactNode } from 'react';\r\nimport { HtmlWrapper } from '../Components/HtmlWrapper';\r\nimport { logger } from './logger';\r\nimport possibleStandardNames from './reactPropertyNames';\r\nimport { WrapWithOutline } from './wrapWithOutline';\r\n\r\nconst DEBUG = false;\r\n\r\nconst domParser: any = new DOMParser();\r\n\r\nexport const htmlProcessor = (html: string): ReactNode => {\r\n  if (typeof html !== 'string') {\r\n    logger.error('htmlParser: html is not a string');\r\n    return React.createElement('div', {}, 'errors: please check dev console') as ReactNode;\r\n  }\r\n\r\n  let doc = domParser.parseFromString(html, 'text/html');\r\n\r\n  if (doc === null) {\r\n    logger.error('htmlParser: doc is null, unable to process html');\r\n    return React.createElement('p', {}, 'errors: please check dev console') as ReactNode;\r\n  }\r\n  return converter(doc as unknown as HTMLElement, 1);\r\n};\r\n\r\nconst converter = (element: HTMLElement, key = 0) => {\r\n  if (element === undefined) {\r\n    return;\r\n  }\r\n\r\n  let nodeName = element.nodeName.toLowerCase();\r\n\r\n  // meta, script, style, ..etc, tags don't have children,\r\n  if (\r\n    nodeName === 'script' ||\r\n    nodeName === 'style' ||\r\n    nodeName === 'meta' ||\r\n    nodeName === 'link' ||\r\n    nodeName === 'title' ||\r\n    nodeName === 'br'\r\n  ) {\r\n    if (nodeName === 'meta') {\r\n      let el = element as HTMLMetaElement;\r\n      return React.createElement(\r\n        nodeName,\r\n        { httpEquiv: el.httpEquiv, content: el.content, key: nodeName + key++ },\r\n        null\r\n      );\r\n    }\r\n    if (nodeName === 'link') {\r\n      let el = element as HTMLLinkElement;\r\n      let type = null;\r\n      if (el.type) {\r\n        type = el.type;\r\n      }\r\n      return React.createElement(\r\n        nodeName,\r\n        {\r\n          href: el.href,\r\n          rel: el.rel,\r\n          type,\r\n          key: nodeName + key++,\r\n        },\r\n        null\r\n      );\r\n    }\r\n    if (nodeName === 'br') {\r\n      return React.createElement(nodeName, { key: nodeName + key++ }, null);\r\n    }\r\n\r\n    return React.createElement(nodeName, {\r\n      dangerouslySetInnerHTML: { __html: element.innerHTML, key: nodeName + key++ },\r\n    });\r\n  }\r\n\r\n  let attributes: { [key: string]: string | { [key: string]: string } | any } = {};\r\n\r\n  for (var i = 0; element.attributes && i < element.attributes.length; i++) {\r\n    let attribute = element.attributes[i];\r\n    let reactName = possibleStandardNames[attribute.name];\r\n\r\n    if (reactName === undefined) {\r\n      reactName = toCamelCase(attribute.name);\r\n      const msg = `htmlParser: ${attribute.name} is not found in possible attributes,\r\n      using ${reactName} instead.`;\r\n      DEBUG && logger.error(msg, element);\r\n    }\r\n\r\n    let value = attribute.name === 'style' ? convertStyleStringToObject(attribute.value) : attribute.value.trim();\r\n\r\n    attributes[reactName] = value;\r\n  }\r\n\r\n  attributes['key'] = key++;\r\n\r\n  let children: ReactNode[] = [];\r\n\r\n  if (element.className && element.className.includes('mj-text')) {\r\n    // if element is mj-text, we edit it with customInlineEditor by making div 'contentEditable' true.\r\n    //  do not handle children in react.\r\n\r\n    const original = {\r\n      nodeName,\r\n      props: { ...attributes },\r\n      children: [createElement('span', { dangerouslySetInnerHTML: { __html: element.innerHTML } })],\r\n    };\r\n\r\n    return <HtmlWrapper uniqueKey={key++} originalNode={original} />;\r\n  }\r\n\r\n  for (let i = 0; i < element.childNodes.length; i++) {\r\n    let child = element.childNodes[i];\r\n\r\n    if (child['nodeName'] === '#text') {\r\n      if (child.textContent) {\r\n        // remove all new line characters & trim, problem with user's text content\r\n        //   is handled before this section in 'mj-text'\r\n        const content = child.textContent.replaceAll('\\n', '').trim();\r\n        if (content) {\r\n          children.push(content);\r\n        }\r\n      }\r\n      continue;\r\n    }\r\n\r\n    if (child['nodeName'] === '#comment') {\r\n      continue;\r\n    }\r\n\r\n    if (nodeName !== 'script' && nodeName !== 'style') {\r\n      children.push(converter(child as HTMLElement, key++));\r\n    }\r\n  }\r\n  if (element.classList && element.classList.contains('mjml-tag')) {\r\n    DEBUG && logger.info(`identified mjml-tag for : ${nodeName}, with attributes: ${JSON.stringify(attributes)}`);\r\n    // const ReactNode = React.createElement(nodeName, { key: key++, ...attributes }, children);\r\n    const original = { nodeName, props: { ...attributes }, children };\r\n\r\n    return <HtmlWrapper uniqueKey={key++} originalNode={original} />;\r\n    // return <HtmlWrapper children={ReactNode} key={key++} originalNode={original} />;\r\n  }\r\n\r\n  // process placehodler item differently, if mj-text is placer, the wrapper is td,\r\n  //    td does not obey border properties, so outline can be used.\r\n  if (element.classList && element.classList.contains('placeitem-placeholder')) {\r\n    return <WrapWithOutline id={key++} nodeName={nodeName} props={{ ...attributes }} children={children} />;\r\n  }\r\n\r\n  // if root document, create it with div,\r\n  // todo: rnd if this document can be abstracted from the main document,\r\n  if (nodeName === '#document') {\r\n    nodeName = 'div';\r\n  }\r\n\r\n  // remove href in link\r\n  if (nodeName === 'a') {\r\n    delete attributes['href'];\r\n    delete attributes['target'];\r\n  }\r\n\r\n  // img tag should not have child param passed to it\r\n  if (nodeName === 'img') {\r\n    return React.createElement(nodeName, { key: key++, ...attributes }, null);\r\n  } else if (element.nodeType === 3) {\r\n    return React.createElement(nodeName, { ...attributes, key: key++ }, element.textContent);\r\n  }\r\n\r\n  return React.createElement(nodeName, attributes, children);\r\n};\r\n\r\nconst convertStyleStringToObject = (style: string) => {\r\n  let styleObject: { [key: string]: string } = {};\r\n\r\n  //  edgecase\r\n  //  \"background:#ffffff url('background:#ffffff url('https://lh3.googleusercontent.com/-y_e1bS8pZSc/YKkCKwNrxgI/AAAAAAAADuY/l1ygemViAp8ZXd44mAvqypqg7zsTD2gIACLcBGAsYHQ/s1600/1621688872017805-1.png') center top / auto repeat;') center top / auto repeat;background-position:center top;background-repeat:repeat;background-size:auto;margin:0px auto;border-radius:0px;max-width:600px;\"\r\n  // https://stackoverflow.com/a/9219386/6843092, with negative lookahead\r\n  let styleArray = style.split(/;+(?![^(]*\\))/g);\r\n\r\n  for (let i = 0; i < styleArray.length; i++) {\r\n    if (styleArray[i] === '') {\r\n      continue;\r\n    }\r\n\r\n    // bug while parsing\r\n    // 'background:#ffffff url('https://...') center top / auto repeat;'\r\n    let [key, ..._value] = styleArray[i].split(':');\r\n\r\n    let stylePair = [key, _value.join(':')];\r\n    let property = stylePair[0].trim();\r\n    property = toCamelCase(property);\r\n    let value = stylePair[1].trim();\r\n    styleObject[property] = value;\r\n  }\r\n\r\n  return styleObject;\r\n};\r\n\r\nconst toCamelCase = (str: string) => {\r\n  return str.replace(/([-_][a-z])/gi, ($1) => {\r\n    return $1.toUpperCase().replace('-', '').replace('_', '');\r\n  });\r\n};\r\n","// remove the empty placeholder-banner if present\nconst removePlaceholderBanner = (item: any) => {\n  if (item && item.children) {\n    item.children = item.children.filter((config: any) => {\n      if (config && config['attributes'] && config['attributes']['css-class']) {\n        return !config['attributes']['css-class'].includes('mj-placeholder');\n      }\n      return true;\n    });\n  }\n  return item;\n};\n\nconst insertAtPlaceholderIndicatorPosition = (item: any, itemToInsert: any) => {\n  if (item.tagName !== 'mj-body' && item.children && item.children.length) {\n    // place the dropped config in the placeholder position, this only is needed for\n    //   items, which has children\n    for (var i = 0; i < item.children.length; i++) {\n      const child = item.children[i];\n      const cssClass = child.attributes['css-class'];\n      if (cssClass && cssClass.includes('placeitem-placeholder')) {\n        item.children[i] = itemToInsert;\n        continue;\n      }\n      item.children[i] = child;\n    }\n  } else {\n    // children are empty\n    item.children.push(itemToInsert);\n  }\n\n  return item;\n};\n\nexport { removePlaceholderBanner, insertAtPlaceholderIndicatorPosition };\n","import { message } from 'antd';\nimport _ from 'lodash';\nimport { error } from '../Components/Messages';\nimport { columnPlaceholder } from '../Components/Section';\nimport {\n  findClosestParent,\n  findUniqueIdentifier,\n  generateUniqueIdRecursively,\n  getIndexOfElementInParent,\n} from './closestParent';\nimport { findElementInJson } from './findElementInMjmlJson';\nimport { logger } from './logger';\nimport { cleanMjmlJson } from './mjmlProcessor';\nimport { insertAtPlaceholderIndicatorPosition, removePlaceholderBanner } from './removePlaceholders';\nimport { UNDOREDO } from './undoRedo';\n\ninterface AddProps {\n  target: HTMLElement;\n  droppedConfig: any;\n  mjmlJson: any;\n  setMjmlJson: any;\n  uid: () => string;\n}\n\nconst Add = ({ target, droppedConfig, setMjmlJson, mjmlJson, uid }: AddProps) => {\n  let uniqueClassName = findClosestParent(target);\n\n  if (!uniqueClassName) {\n    const cleanedMjmlJson = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleanedMjmlJson });\n    return null;\n  }\n\n  if (droppedConfig.tagName !== 'mj-section') {\n    if (uniqueClassName === 'identifier-mj-body' || uniqueClassName === 'identifier-mj-section') {\n      const cleanedMjmlJson = cleanMjmlJson(mjmlJson);\n      setMjmlJson({ ...cleanedMjmlJson });\n      message.error('Use a section to place the item');\n      return null;\n    }\n  }\n\n  if (droppedConfig.tagName && droppedConfig.tagName === 'mj-section') {\n    if (uniqueClassName !== 'identifier-mj-body') {\n      const msg = 'Sections can not be nested! it will break mobile design';\n      message.info(msg);\n      logger.log(`operation add: ${msg}`);\n      return;\n    }\n  }\n\n  let droppedConfigWithUid = _.cloneDeep(droppedConfig);\n  droppedConfigWithUid = generateUniqueIdRecursively(droppedConfigWithUid, uid);\n\n  const ObjectEquivalent = findElementInJson(_.cloneDeep(mjmlJson), uniqueClassName);\n\n  if (!ObjectEquivalent) {\n    return null;\n  }\n\n  let [item, path] = ObjectEquivalent;\n  logger.info('operation add: item in Object:', item, 'path to Object:', path);\n\n  item = removePlaceholderBanner(item);\n\n  item = insertAtPlaceholderIndicatorPosition(item, droppedConfigWithUid);\n\n  if (UNDOREDO.isUndoEmpty()) {\n    UNDOREDO.newAction(cleanMjmlJson(_.cloneDeep(mjmlJson)));\n  }\n\n  let updated = _.set(mjmlJson, path.slice(1), item);\n  updated = cleanMjmlJson(updated);\n  UNDOREDO.newAction(updated);\n  setMjmlJson({ ...updated });\n};\n\ninterface AddAtIndexProps {\n  droppedConfig: any;\n  mjmlJson: any;\n  setMjmlJson: any;\n  uid: () => string;\n  parentUniqueClassIdentifier: string;\n  index: number;\n}\n\nconst AddAtIndex = ({\n  droppedConfig,\n  setMjmlJson,\n  mjmlJson,\n  uid,\n  parentUniqueClassIdentifier,\n  index,\n}: AddAtIndexProps) => {\n  let uniqueClassName = parentUniqueClassIdentifier;\n\n  if (!uniqueClassName) {\n    const cleanedMjmlJson = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleanedMjmlJson });\n    return null;\n  }\n\n  let droppedConfigWithUid = _.cloneDeep(droppedConfig);\n  droppedConfigWithUid = generateUniqueIdRecursively(droppedConfigWithUid, uid);\n\n  const ObjectEquivalent = findElementInJson(mjmlJson, uniqueClassName);\n\n  if (!ObjectEquivalent) {\n    return null;\n  }\n\n  let [item, path] = ObjectEquivalent;\n  logger.info('operation add: item in Object:', item, 'path to Object:', path);\n\n  item = removePlaceholderBanner(item);\n\n  // insert the dropped config at the specified location\n  if (index > -1) {\n    for (var i = 0; item && item.children && i < item.children.length; i++) {\n      if (i === index) {\n        item.children.splice(i, 0, droppedConfigWithUid);\n      }\n    }\n  }\n  let updated = _.set(mjmlJson, path.slice(1), item);\n  updated = cleanMjmlJson(updated);\n\n  UNDOREDO.newAction(updated);\n  setMjmlJson({ ...updated });\n};\n\ninterface RemoveProps {\n  target?: HTMLElement | undefined;\n  uniqueClassName?: string;\n  mjmlJson: any;\n  setMjmlJson: any;\n  setDelActive: any;\n  setCopyActive: any;\n  setActive: any;\n  movement?: boolean;\n}\n\nconst Remove = ({\n  target,\n  uniqueClassName: ucn,\n  mjmlJson,\n  setMjmlJson,\n  setDelActive,\n  setCopyActive,\n  setActive,\n  movement,\n}: RemoveProps) => {\n  let uniqueClassName;\n  if (target) {\n    uniqueClassName = findClosestParent(target);\n  } else if (ucn) {\n    uniqueClassName = ucn;\n  } else {\n    logger.info(`operation remove: either target/uniqueClassName must be provided \n      to perform this operation\n    `);\n    return;\n  }\n  if (!uniqueClassName) {\n    return null;\n  }\n\n  const ObjectEquivalent = findElementInJson(mjmlJson, uniqueClassName);\n  if (!ObjectEquivalent) {\n    return null;\n  }\n\n  let [, path]: [any, string] = ObjectEquivalent;\n  let parent: any = path.split('.');\n  const last: string = parent.pop();\n  parent = parent.join('.');\n  let item = _.get(mjmlJson, parent.slice(1));\n  const regExMatch = last.match(/\\[(.*?)\\]/);\n\n  if (regExMatch) {\n    const indexToRemove = parseInt(regExMatch[1]);\n    let newChildren = [];\n    for (var i = 0; item && item.children && i < item.children.length; i++) {\n      if (i !== indexToRemove) {\n        newChildren.push(item.children[i]);\n      }\n    }\n\n    // if column is empty, fill it with placeholder\n    if (parent) {\n      const parentItem = _.get(mjmlJson, parent.slice(1));\n\n      if (parentItem.tagName && parentItem.tagName === 'mj-column' && newChildren.length === 0) {\n        newChildren = columnPlaceholder;\n      }\n    }\n\n    item.children = newChildren;\n  }\n\n  setActive(null);\n  const updated = _.set(mjmlJson, parent.slice(1), item);\n  if (updated) {\n    setDelActive(false);\n    setCopyActive(false);\n    setMjmlJson({ ...updated });\n    // for moving elements in editor,\n    //   the way it works is that the element is removed from the parent first,\n    //   then the placeholder is replaced with the element\n    //   for undo action dont need to show the process\n    if (!movement) {\n      UNDOREDO.newAction(updated);\n    }\n  } else {\n    logger.info('operation remove: unable to delete the item');\n  }\n};\n\ninterface UpdateValueProps {\n  visible: boolean | null;\n  path: string;\n  mjmlJson: any;\n  setMjmlJson: any;\n  attribute: string;\n  value: any;\n}\n\nconst UpdateValue = ({ visible, path, mjmlJson, setMjmlJson, attribute, value }: UpdateValueProps) => {\n  if (visible && path) {\n    let item = _.get(mjmlJson, path, visible);\n    if (item) {\n      if (item['attributes'] && item['attributes'][attribute] !== value) {\n        item['attributes'][attribute] = value;\n        const updated = _.set(mjmlJson, path, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  }\n};\n\ninterface CopyProps extends Exclude<RemoveProps, 'uniqueClassName'> {\n  target: HTMLElement;\n  uidGenerator: () => string;\n}\n\nconst Copy = ({ mjmlJson, setActive, setMjmlJson, setCopyActive, setDelActive, target, uidGenerator }: CopyProps) => {\n  const uniqueIdentifier = findUniqueIdentifier(target, target.classList);\n  let parentUniqueIdentifier = '';\n  let index = -1;\n\n  if (uniqueIdentifier) {\n    const _ = getIndexOfElementInParent(target, mjmlJson, uniqueIdentifier);\n    if (_ && typeof _[0] === 'number' && typeof _[1] === 'string') {\n      [index, parentUniqueIdentifier] = _;\n    } else {\n      message.error('Unable to copy element');\n      return;\n    }\n  }\n\n  let copyOfConfig = findElementInJson(mjmlJson, uniqueIdentifier);\n  if (copyOfConfig && index > -1) {\n    [copyOfConfig] = copyOfConfig;\n    setCopyActive(false);\n    setDelActive(false);\n    setActive(null);\n\n    return AddAtIndex({\n      droppedConfig: _.cloneDeep(copyOfConfig),\n      setMjmlJson,\n      mjmlJson,\n      uid: uidGenerator,\n      index,\n      parentUniqueClassIdentifier: parentUniqueIdentifier,\n    });\n  }\n};\n\nexport { Add, Remove, UpdateValue, Copy };\n","const findTextNode = (node: any): any => {\n  if (node.nodeType === 3) {\n    return node;\n  }\n\n  for (let i = 0; node.childNodes && i < node.childNodes.length; i++) {\n    const textNode = findTextNode(node.childNodes[i]);\n    if (textNode) {\n      return closestDivToTextNode(textNode);\n    }\n  }\n};\n\nconst closestDivToTextNode = (node: any): any => {\n  if (!node) {\n    return null;\n  }\n  if (node.nodeType === 3) {\n    return closestDivToTextNode(node.parentNode);\n  }\n\n  const element = node;\n\n  if (element.nodeType === 1) {\n    const closestDiv = element.closest('div');\n    return closestDiv;\n  }\n\n  return element;\n};\n\nexport { findTextNode };\n","import { createContext, FC, useState } from 'react';\n\nexport const QuillContext = createContext<any>(null);\n\nexport const QuillEditor: FC = (props) => {\n  const [QuillActive, setQuillActive] = useState(false);\n  const [quillEditor, setQuillEditor] = useState<any>(null);\n  const [quillX, setQuillX] = useState(0);\n  const [quillY, setQuillY] = useState(0);\n\n  return (\n    <QuillContext.Provider\n      value={{\n        QuillActive,\n        setQuillActive,\n        quillEditor,\n        setQuillEditor,\n        quillX,\n        quillY,\n        setQuillX,\n        setQuillY,\n      }}\n    >\n      {props.children}\n    </QuillContext.Provider>\n  );\n};\n","import { useContext } from 'react';\nimport { QuillContext } from '../Context/Quill.context';\n\nexport const useQuillEditor = () => {\n  const Quill = useContext(QuillContext);\n  return Quill as unknown as {\n    QuillActive: boolean;\n    setQuillActive: (args: boolean) => void;\n    quillEditor: any;\n    setQuillEditor: (args: any) => void;\n    quillX: number;\n    quillY: number;\n    setQuillX: (args: number) => void;\n    setQuillY: (args: number) => void;\n  };\n};\n","import { CKEditor } from '@ckeditor/ckeditor5-react';\nimport { Button, Popconfirm } from 'antd';\nimport ED from 'ckeditor5-custom-build/build/ckeditor';\nimport { useEffect, useMemo } from 'react';\nimport { useCkeditor } from '../../Hooks/Ckeditor.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { Remove, Copy as CopyOperation } from '../../Utils/operations';\nimport { findTextNode } from '../../Utils/findTextNode';\nimport Quill from 'quill';\nimport { useQuillEditor } from '../../Hooks/Quill.hook';\nimport { findUniqueIdentifier } from '../../Utils/closestParent';\nimport { findElementInJson } from '../../Utils/findElementInMjmlJson';\nimport _ from 'lodash';\nimport CopyFilled from '@ant-design/icons/lib/icons/CopyFilled';\nimport DeleteFilled from '@ant-design/icons/lib/icons/DeleteFilled';\nimport { useUniqueIdGenerator } from '../../Hooks/Drag.hook';\nimport { logger } from '../../Utils/logger';\n\nexport const Editor = () => {\n  const { ref, isActive, x, y, delActive, delX, delY, setDelActive, copy } = useCkeditor();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { active, setActive } = useHtmlWrapper();\n  const { QuillActive, quillX, quillY, setQuillEditor, setQuillActive } = useQuillEditor();\n  let { quillEditor } = useQuillEditor();\n  const { copyActive, setCopyActive, copyX, copyY } = copy;\n  const { getId } = useUniqueIdGenerator();\n\n  useEffect(() => {\n    if (quillEditor) {\n      const identifier = findUniqueIdentifier(active, active.classList);\n      quillEditor.on('text-change', () => {\n        const change = quillEditor.container.firstChild.innerHTML;\n        logger.log(change);\n        if (identifier) {\n          let position = findElementInJson(mjmlJson, identifier);\n          if (position) {\n            let [, path] = position;\n            let item = _.get(mjmlJson, path.slice(1));\n            item.content = change;\n            const updated = _.set(mjmlJson, path.slice(1), item);\n            setMjmlJson({ ...updated });\n          }\n        }\n      });\n    }\n    return () => quillEditor && quillEditor.off('text-change');\n  }, [quillEditor]);\n\n  useEffect(() => {\n    if (active && QuillActive) {\n      let textNode = findTextNode(active);\n\n      if (quillEditor) {\n        // previous instance listeners\n        quillEditor.off('text-change');\n      }\n\n      if (textNode) {\n        // fix for QuillWrapper keeps wrapping up an extra div on init\n        while (textNode.parentElement.classList.contains('ql-container') || textNode.hasAttribute('data-gramm')) {\n          textNode = textNode.parentElement;\n        }\n        if (textNode.classList.contains('ql-container')) {\n          textNode.classList.remove('ql-container');\n          textNode.classList.remove('ql-snow');\n        }\n\n        let lquill: any = new Quill(textNode, { theme: 'snow', modules: { toolbar: '#toolbarContainer' } });\n\n        // fix for allowing multiple instances,\n        // on how it works refer, 'https://github.com/quilljs/quill/blob/develop/modules/toolbar.js'\n        // pain \\u{1F63F}\n        lquill.getModule('toolbar').container.childNodes.forEach((element: any) => {\n          const clone = element.cloneNode(true);\n          element.parentNode.replaceChild(clone, element);\n        });\n\n        let toolbar = lquill.getModule('toolbar');\n\n        toolbar.container.childNodes.forEach((input: any) => {\n          toolbar.attach(input);\n        }, toolbar);\n\n        setQuillEditor(lquill);\n        lquill.editor.scroll.domNode.classList.remove('ql-editor');\n\n        // remove clipboard and tooltip\n        lquill.container.children[1].remove();\n        lquill.container.children[1].remove();\n        lquill = undefined;\n      }\n    }\n  }, [active]);\n\n  const deleteConfirm = useMemo(\n    () => () => {\n      if (active) {\n        // setQuillActive(false);\n        Remove({ target: active, mjmlJson, setMjmlJson, setDelActive, setActive, setCopyActive });\n      }\n    },\n    [active]\n  );\n\n  const copyAction = () => {\n    if (active) {\n      CopyOperation({\n        mjmlJson,\n        setActive,\n        setMjmlJson,\n        setCopyActive,\n        setDelActive,\n        target: active,\n        uidGenerator: getId,\n      });\n    }\n  };\n\n  return (\n    <>\n      {/* <div\n        id=\"toolbarContainer\"\n        style={{\n          visibility: QuillActive ? 'visible' : 'hidden',\n          backgroundColor: '#fff',\n          zIndex: 99,\n          position: 'fixed',\n          left: `${quillX}px`,\n          top: `${quillY}px`,\n        }}\n      >\n        <button className=\"ql-bold\"></button>\n        <button className=\"ql-italic\"></button>\n        <button className=\"ql-underline\"></button>\n        <button className=\"ql-script\" value=\"sub\"></button>\n        <button className=\"ql-script\" value=\"super\"></button>\n      </div> */}\n\n      {/* <div\n        key=\"editorContainer\"\n        id=\"editorContainer\"\n        ref={ref}\n        style={{ display: isActive ? 'block' : 'none', position: 'fixed', left: `${x}px`, top: `${y}px` }}\n      >\n        <div key=\"editor\">\n          <CKEditor\n            editor={ED}\n            disabled={false}\n            config={{\n              toolbar: [\n                'fontSize',\n                'fontColor',\n                'FontFamily',\n                'FontBackgroundColor',\n                '|',\n                'heading',\n                '|',\n                'bold',\n                'italic',\n                '|',\n                'undo',\n                'redo',\n                'insertTable',\n              ],\n            }}\n            data={'placement'}\n            onReady={(editor) => {}}\n            onChange={(event, editor) => {}}\n            onBlur={(event, editor) => {}}\n            onFocus={(event, editor) => {}}\n          />\n        </div>\n      </div> */}\n      <Delete\n        style={{\n          zIndex: 200,\n          display: delActive ? 'block' : 'none',\n          position: 'fixed',\n          left: `${delX}px`,\n          top: `${delY}px`,\n        }}\n        deleteConfirm={deleteConfirm}\n      />\n      <Copy\n        onClick={copyAction}\n        style={{\n          zIndex: 200,\n          display: copyActive ? 'block' : 'none',\n          position: 'fixed',\n          left: `${copyX}px`,\n          top: `${copyY}px`,\n        }}\n      />\n    </>\n  );\n};\n\ninterface DeleteProps {\n  style: any;\n  deleteConfirm: () => void;\n}\n\nconst Delete = ({ style, deleteConfirm }: DeleteProps) => {\n  return (\n    <Popconfirm placement=\"right\" title=\"Are you sure ?\" okText=\"Delete\" cancelText=\"Cancel\" onConfirm={deleteConfirm}>\n      <Button style={style} type=\"primary\" icon={<DeleteFilled />} />\n    </Popconfirm>\n  );\n};\n\ninterface CopyProps {\n  style: any;\n  onClick: () => void;\n}\n\nconst Copy = ({ style, onClick }: CopyProps) => {\n  return <Button style={style} onClick={onClick} type=\"primary\" icon={<CopyFilled />} />;\n};\n","import { UndoOutlined, RedoOutlined } from '@ant-design/icons';\nimport { Button, Tooltip } from 'antd';\nimport { UNDOREDO } from '../Utils/undoRedo';\n\ninterface UndoRedoProps {\n  undoCallback: () => void;\n  redoCallback: () => void;\n}\n\nconst UndoRedo = ({ undoCallback, redoCallback }: UndoRedoProps) => {\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        padding: '8px',\n        display: 'flex',\n        flexDirection: 'column',\n        rowGap: '4px',\n        zIndex: 200,\n      }}\n    >\n      <Tooltip mouseEnterDelay={0.5} color=\"cyan\" title=\"undo\" placement=\"right\">\n        <Button\n          disabled={UNDOREDO.isUndoEmpty()}\n          onClick={undoCallback}\n          type=\"default\"\n          size=\"large\"\n          style={{ background: '#fff' }}\n          icon={<UndoOutlined />}\n        />\n      </Tooltip>\n\n      <Tooltip mouseEnterDelay={0.5} color=\"cyan\" title=\"redo\" placement=\"right\">\n        <Button\n          disabled={UNDOREDO.isRedoEmpty()}\n          onClick={redoCallback}\n          type=\"default\"\n          style={{ background: '#fff' }}\n          size=\"large\"\n          icon={<RedoOutlined />}\n        />\n      </Tooltip>\n    </div>\n  );\n};\n\nexport { UndoRedo };\n","import { useEditor } from '../../Hooks/Editor.hook';\nimport mjml2html from 'mjml-browser';\nimport css from './Editor.module.scss';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport { htmlProcessor } from '../../Utils/htmlProcessor';\nimport { Editor } from '../../Components/Mods/Editor';\nimport { Add, Remove } from '../../Utils/operations';\nimport { useDragAndDropUniqueId } from '../../Hooks/Drag.hook';\nimport '../../Assets/Css/ckeditorOverride.css';\nimport '../../Assets/Css/quillOverride.css';\nimport { InlineEditor } from '../../Components/Mods/CustomInlineEditor';\nimport styled from 'styled-components';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { useCkeditor } from '../../Hooks/Ckeditor.hook';\nimport { memo, useCallback, useEffect } from 'react';\nimport { UndoRedo } from '../../Components/UndoRedo';\nimport _ from 'lodash';\nimport { UNDOREDO } from '../../Utils/undoRedo';\nimport { logger } from '../../Utils/logger';\n\ninterface ViewProps {}\n\nconst DesignContainer = styled('div')`\n  .editor-active {\n    :focus {\n      outline: none;\n    }\n  }\n`;\n\nexport const View = (props: ViewProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getId } = useDragAndDropUniqueId();\n  const { setActive, active } = useHtmlWrapper();\n  const {\n    setDelActive,\n    copy,\n    drag: { setIsColumn, isColumn },\n  } = useCkeditor();\n  const { setCopyActive } = copy;\n\n  useEffect(() => {\n    UNDOREDO.print();\n  }, [mjmlJson]);\n\n  const undoCallback = () => {\n    const action = UNDOREDO.undoAction(mjmlJson);\n    if (action) {\n      setMjmlJson({ ...action });\n      setActive(null);\n      setDelActive(false);\n      setCopyActive(false);\n    }\n  };\n  const redoCallback = () => {\n    const action = UNDOREDO.redoAction(mjmlJson);\n    if (action) {\n      setActive(null);\n      setMjmlJson({ ...action });\n      setDelActive(false);\n      setCopyActive(false);\n    }\n  };\n\n  const onDragOver = useCallback(\n    (e: any) => {\n      if (active) {\n        setActive(null);\n      }\n      e.preventDefault();\n    },\n    [setActive, active]\n  );\n\n  const onDrop = (e: any) => {\n    e.preventDefault();\n    isColumn && setIsColumn(false);\n    let config = JSON.parse(e.dataTransfer.getData('config'));\n    if (config && config.mode && config.mode === 'move' && config['config']) {\n      // remove the item old position, before inserting in new position\n      Remove({\n        uniqueClassName: config.uniqueClassName,\n        mjmlJson,\n        setMjmlJson,\n        setActive,\n        setDelActive,\n        setCopyActive,\n        movement: true,\n      });\n      logger.info(`operation move: onDrop -> removed previous instance \n      of config :'${config.uniqueClassName}'`);\n      config = config['config'];\n    }\n    Add({\n      target: e.nativeEvent.target,\n      droppedConfig: config,\n      mjmlJson,\n      setMjmlJson,\n      uid: getId,\n    });\n  };\n\n  return (\n    <Scrollbars style={{ height: '100%' }}>\n      <Editor />\n      <InlineEditor />\n      <UndoRedo undoCallback={undoCallback} redoCallback={redoCallback} />\n      <DesignContainer\n        className={`${css.viewHolder} mjml-wrapper mjml-tag identifier-mj-body`}\n        onDrop={onDrop}\n        onDragOver={onDragOver}\n      >\n        <MjmlProcessor mjml={mjmlJson} isColumn={isColumn} />\n      </DesignContainer>\n    </Scrollbars>\n  );\n};\n\nconst MjmlProcessor = memo(({ mjml, isColumn }: { mjml: any; isColumn: boolean }) => {\n  return mjml && htmlProcessor(mjml2html(mjml).html);\n});\n","import AlignCenterOutlined from '@ant-design/icons/lib/icons/AlignCenterOutlined';\nimport AlignLeftOutlined from '@ant-design/icons/lib/icons/AlignLeftOutlined';\nimport AlignRightOutlined from '@ant-design/icons/lib/icons/AlignRightOutlined';\nimport PicCenterOutlined from '@ant-design/icons/lib/icons/PicCenterOutlined';\nimport { Button, Col, Form, Row, Tooltip } from 'antd';\nimport _ from 'lodash';\nimport { ReactNode } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\n\nconst ATTRIBUTE = 'align';\n\ninterface AlignOptions {\n  title: string;\n  prop: string;\n  component: ReactNode;\n}\n\nconst alignOptions: AlignOptions[] = [\n  { title: 'Left', prop: 'left', component: <AlignLeftOutlined /> },\n  { title: 'Justify', prop: 'justify', component: <PicCenterOutlined /> },\n  { title: 'Center', prop: 'center', component: <AlignCenterOutlined /> },\n  { title: 'Right', prop: 'right', component: <AlignRightOutlined /> },\n];\n\nexport const Align = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { active } = useHtmlWrapper();\n\n  const onClick = (align: string) => {\n    if (active && visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item && item.attributes && item.attributes) {\n        item.attributes['align'] = align;\n        const updated = _.set(mjmlJson, path, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  return visible ? (\n    <Row>\n      <Col flex=\"3\">\n        <Form.Item label=\"Align\"></Form.Item>\n      </Col>\n      <Col flex=\"2\">\n        <Row justify=\"space-between\">\n          {alignOptions.map(({ prop, component, title }, key) => {\n            return (\n              <Col key={key}>\n                <Tooltip title={title}>\n                  <Button onClick={() => onClick(prop)} type=\"ghost\" icon={component} />\n                </Tooltip>\n              </Col>\n            );\n          })}\n        </Row>\n      </Col>\n    </Row>\n  ) : null;\n};\n","import _ from 'lodash';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Form, Input } from 'antd';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEffect, useState } from 'react';\n\nconst ATTRIBUTE = 'border';\n\ninterface BorderProps {\n  activePath?: string;\n  label?: string;\n  attribute_name?: string;\n}\n\nexport const Border = ({ activePath, label, attribute_name }: BorderProps) => {\n  let attributeName = attribute_name || ATTRIBUTE;\n  const [visible, path] = useVisibility({ attribute: attributeName, customPath: activePath });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: attributeName });\n\n  const [value, setValue] = useState('');\n\n  useEffect(() => {\n    if (visible) {\n      setValue(getValue());\n    }\n  }, [visible]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n    if (visible && path && e.target.value) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[attributeName] = e.target.value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <Form.Item label={label ? label : 'Border'}>\n      <Input onChange={handleChange} value={value} onKeyDown={onKeyDown} />\n    </Form.Item>\n  ) : null;\n};\n\nconst onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n  if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n    e.currentTarget.value = '';\n  }\n};\n","import _ from 'lodash';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Form, Input } from 'antd';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\n\nconst ATTRIBUTE = 'border-radius';\n\ninterface BorderRadiusProps {\n  activePath?: string;\n}\n\nexport const BorderRadius = ({ activePath }: BorderRadiusProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE, customPath: activePath });\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (visible && e.target.value) {\n      if (e.target.value === '') {\n        e.target.value = 'none';\n      }\n      setValue(e.currentTarget.value);\n    }\n  };\n\n  const setValue = (value: string) => {\n    if (path) {\n      if (value === '') {\n        value = 'none';\n      }\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = value;\n      const json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n      e.currentTarget.value = '';\n    }\n\n    if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {\n      e.preventDefault();\n      if (visible) {\n        const attributes = _.get(mjmlJson, path + 'attributes');\n        let value = attributes['border-radius'];\n        const re = new RegExp(/^\\d+/);\n        const match = re.exec(value);\n        let matchedValue = match ? parseInt(match[0]) : 0;\n        if (e.key === 'ArrowUp') {\n          value = value.replace(/^\\d+/, matchedValue + 1);\n        } else if (e.key === 'ArrowDown' && matchedValue > 0) {\n          value = value.replace(/^\\d+/, matchedValue - 1);\n        }\n        e.currentTarget.value = value;\n        setValue(value);\n      }\n    }\n  };\n\n  let value = '';\n  if (visible) {\n    value = _.get(mjmlJson, path + 'attributes.border-radius');\n  }\n\n  return visible ? (\n    <Form.Item label=\"Border Radius\">\n      <Input onChange={handleChange} value={value} onKeyDown={onKeyDown} />\n    </Form.Item>\n  ) : null;\n};\n","import _ from 'lodash';\nimport styled from 'styled-components';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Form, Row } from 'antd';\nimport { ChromePicker } from 'react-color';\nimport { useEffect, useState } from 'react';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { logger } from '../../Utils/logger';\n\nconst ATTRIBUTE = 'container-background-color';\n\nexport const ContainerBackground = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [active, setActive] = useState(() => false);\n  const [color, setColor] = useState(() => '#ccc');\n  const { active: clicked } = useHtmlWrapper();\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n\n  useEffect(() => {\n    if (clicked && visible) {\n      try {\n        if (path) {\n          let item = _.get(mjmlJson, path);\n          if (item.mutableProperties.includes(ATTRIBUTE)) {\n            setColor(item.attributes[ATTRIBUTE]);\n          }\n        }\n      } catch (e) {\n        logger.info('got exception, hiding background mod', e);\n      }\n    }\n  }, [clicked]);\n\n  const handleColorChange = (color: any) => {\n    const hexCode = `${color.hex}${decimalToHex(color.rgb.a)}`;\n    setColor(hexCode);\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      element.attributes['container-background-color'] = hexCode;\n      let json = _.set(mjmlJson, path, element);\n\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <>\n      <Row>\n        <Col flex=\"auto\">\n          <Form.Item label=\"Container Background\"></Form.Item>\n        </Col>\n\n        <ColorPicker color={color} flex=\"none\">\n          <div className=\"swatch\" onClick={() => setActive(true)}>\n            <div className=\"color\"></div>\n          </div>\n          {active ? (\n            <div className=\"popover\">\n              <div className=\"cover\" onClick={() => setActive(false)}></div>\n              <ChromePicker disableAlpha={false} color={color} onChange={(color: any) => handleColorChange(color)} />\n            </div>\n          ) : null}\n        </ColorPicker>\n      </Row>\n    </>\n  ) : null;\n};\n\nconst decimalToHex = (alpha: number) => (alpha === 0 ? '00' : Math.round(255 * alpha).toString(16));\n\nconst ColorPicker = styled(Col)`\n  .color {\n    width: 25px;\n    height: 25px;\n    border-radius: 2px;\n    background: ${(props) => props.color};\n  }\n  .swatch {\n    padding: 5px;\n    background: #fff;\n    border-radius: 1px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .popover {\n    position: absolute;\n    z-index: 2;\n    top: -108px;\n    left: -200px;\n  }\n\n  .cover {\n    position: fixed;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n  }\n`;\n","import { useVisibility } from '../../Hooks/Attribute.hook';\nimport { Form, Input } from 'antd';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { ChangeEvent, useEffect, useState } from 'react';\nimport _ from 'lodash';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\n\nconst PROPERTY = 'content';\n\nexport const Content = () => {\n  const [visible, path] = useVisibility({ property: PROPERTY });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState('');\n  const [isReadOnly, setIsReadOnly] = useState<boolean | null>(null);\n  const [htmlBlock, setHtmlBlock] = useState(false);\n  const { active } = useHtmlWrapper();\n\n  useEffect(() => {\n    if (visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item) {\n        setValue(item.content ? item.content : '');\n\n        // maintain read only state for some attributes\n        if (item.tagName === 'mj-text') {\n          if (item.attributes && item.attributes['css-class'] && item.attributes['css-class'].includes('html-block')) {\n            setIsReadOnly(false);\n            setHtmlBlock(true);\n            return;\n          }\n          setIsReadOnly(true);\n        } else {\n          setIsReadOnly(false);\n        }\n        setHtmlBlock(false);\n      }\n    }\n  }, [visible, path]);\n\n  const handleChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\n    let value = e.currentTarget.value;\n    setValue(value);\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      // while in middle of editing, if the element is removed.\n      if (element) {\n        if (element[PROPERTY] !== value) {\n          element[PROPERTY] = value;\n          const updated = _.set(mjmlJson, path, element);\n          setMjmlJson({ ...updated });\n        }\n      }\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"Content\">\n      {htmlBlock ? (\n        <Input.TextArea rows={28} onChange={handleChange} value={value} />\n      ) : (\n        <Input.TextArea\n          disabled={isReadOnly ? isReadOnly : false}\n          readOnly={isReadOnly ? isReadOnly : false}\n          rows={3}\n          onChange={handleChange}\n          value={value}\n        />\n      )}\n    </Form.Item>\n  ) : null;\n};\n","import _ from 'lodash';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Form, Input, Row, Col } from 'antd';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\n\ninterface CordinalBorderProps {\n  activePath?: string;\n}\nexport const CordinalBorder = ({ activePath }: CordinalBorderProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [visible, path] = useVisibility({ attribute: 'border-top', customPath: activePath });\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>, direction: string) => {\n    if (visible && path && e.target.value) {\n      if (e.target.value === '') {\n        e.target.value = '';\n      }\n      setValue(direction, e.target.value);\n    }\n  };\n\n  const setValue = (direction: string, value: string) => {\n    if (path) {\n      if (value === '') {\n        value = 'none';\n      }\n      let element = _.get(mjmlJson, path);\n      element.attributes[`border-${direction}`] = value;\n      const json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>, direction: string) => {\n    if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n      e.currentTarget.value = '';\n    }\n\n    if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {\n      e.preventDefault();\n      if (visible) {\n        const attributes = _.get(mjmlJson, path + 'attributes');\n        let value = attributes['border-' + direction];\n        const re = new RegExp(/^\\d+/);\n        const match = re.exec(value);\n        let matchedValue = match ? parseInt(match[0]) : 0;\n        if (e.key === 'ArrowUp') {\n          value = value.replace(/^\\d+/, matchedValue + 1);\n        } else if (e.key === 'ArrowDown' && matchedValue > 0) {\n          value = value.replace(/^\\d+/, matchedValue - 1);\n        }\n        e.currentTarget.value = value;\n\n        setValue(direction, e.currentTarget.value);\n      }\n    }\n  };\n\n  let [valuel, valuer, valueb, valuet] = ['', '', '', ''];\n  if (visible) {\n    valuel = _.get(mjmlJson, path + 'attributes.border-left');\n    valuer = _.get(mjmlJson, path + 'attributes.border-right');\n    valuet = _.get(mjmlJson, path + 'attributes.border-top');\n    valueb = _.get(mjmlJson, path + 'attributes.border-bottom');\n  }\n\n  return visible ? (\n    <Form.Item label=\"Border Directions\">\n      <Input.Group style={{ marginBottom: '6px' }}>\n        <Row>\n          <Col span={11} offset={0}>\n            <Input\n              addonBefore=\"top\"\n              onKeyDown={(e) => onKeyDown(e, 'top')}\n              onChange={(e) => handleChange(e, 'top')}\n              value={valuet}\n            />\n          </Col>\n          <Col span={11} offset={2}>\n            <Input\n              addonBefore=\"right\"\n              onKeyDown={(e) => onKeyDown(e, 'right')}\n              onChange={(e) => handleChange(e, 'right')}\n              value={valuer}\n            />\n          </Col>\n        </Row>\n      </Input.Group>\n      <Input.Group>\n        <Row>\n          <Col span={11} offset={0}>\n            <Input\n              addonBefore=\"bottom\"\n              onKeyDown={(e) => onKeyDown(e, 'bottom')}\n              onChange={(e) => handleChange(e, 'bottom')}\n              value={valueb}\n            />\n          </Col>\n\n          <Col span={11} offset={2}>\n            <Input\n              addonBefore=\"left\"\n              onKeyDown={(e) => onKeyDown(e, 'left')}\n              onChange={(e) => handleChange(e, 'left')}\n              value={valuel}\n            />\n          </Col>\n        </Row>\n      </Input.Group>\n    </Form.Item>\n  ) : null;\n};\n","import { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { Form, Input } from 'antd';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { ChangeEvent } from 'react';\nimport _ from 'lodash';\n\nconst ATTRIBUTE = 'font-size';\n\nexport const FontSize = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    let value = e.currentTarget.value;\n    if (path && visible) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"FontSize\">\n      <Input onChange={handleChange} value={getValue()} />\n    </Form.Item>\n  ) : null;\n};\n","import _ from 'lodash';\nimport { ChangeEvent } from 'react';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Input, Row } from 'antd';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\n\nconst ATTRIBUTE = 'src';\n\nconst Img = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n  //todo: check if changing directly to mjmlJson causes perfomance impact\n  //   if so, then maintain a local state, then on change change the value first,\n  //   then by using useeffect listen for the in localvalue, then update the mjmlJson.\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    let value = e.currentTarget.value;\n    if (path && visible) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <Row>\n      <Col span={24}>\n        <Input addonBefore=\"src\" onChange={(e) => handleChange(e)} value={getValue()} />\n      </Col>\n    </Row>\n  ) : null;\n};\n\nexport { Img };\n","import { Form, Input } from 'antd';\nimport _ from 'lodash';\nimport { ChangeEvent, useEffect, useState } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { logger } from '../../Utils/logger';\nimport { UpdateValue } from '../../Utils/operations';\n\nconst ATTRIBUTE = 'inner-padding';\n\nconst InnerPadding = () => {\n  let [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState<string>();\n\n  useEffect(() => {\n    if (visible && path) {\n      const item = _.get(mjmlJson, path);\n      if (item && item.attributes && item.attributes[ATTRIBUTE]) {\n        setValue(item.attributes[ATTRIBUTE]);\n      }\n    }\n  }, [visible, path]);\n\n  useEffect(() => {\n    value && UpdateValue({ visible, path, mjmlJson, setMjmlJson, value, attribute: ATTRIBUTE });\n  }, [value]);\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const value = e.currentTarget.value;\n    logger.log('inner padding value', value);\n    if (path && visible) {\n      setValue(value);\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"Inner Padding :\">\n      <Input onChange={handleChange} type=\"text\" value={value} />\n    </Form.Item>\n  ) : null;\n};\n\nexport { InnerPadding };\n","import { Form, Input, Row, Col } from 'antd';\nimport _ from 'lodash';\nimport { ChangeEvent, useMemo } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\n\ninterface PaddingProps {\n  activePath?: string;\n}\n\nconst Padding = ({ activePath }: PaddingProps) => {\n  let [visible, path, active] = useVisibility({ attribute: 'padding', customPath: activePath });\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>, direction: string) => {\n    if (e.currentTarget.value === '') {\n      e.currentTarget.value = '0';\n    }\n    // if (!value.includes('px')) {\n    //   e.currentTarget.value = `${value}px`;\n    // }\n    setPadding(direction, e.currentTarget.value);\n  };\n\n  const setPadding = useMemo(\n    () => (direction: string, value: string) => {\n      if (path && visible) {\n        let json = {};\n\n        if (direction) {\n          let element = _.get(mjmlJson, path);\n          element.attributes[`padding-${direction}`] = value;\n          json = _.set(mjmlJson, path, element);\n          setMjmlJson({ ...json });\n        }\n      }\n    },\n    [visible, path]\n  );\n\n  //todo: optimize this function, move to useEffect, useState.\n  // its being called on every hover event.\n  const getValue = (direction: string) => {\n    let value = '';\n    //todo: debug why removing active causes crash  getValue:{@mods/pad..tsx}\n    // move it to useeffect later\n    if (path && visible && active) {\n      let element = _.get(mjmlJson, path);\n      if (!element) {\n        return;\n      }\n      value = element.attributes ? element.attributes[`padding-${direction}`] : null;\n      if (!value) {\n        value = element.attributes['padding'];\n        if (value) {\n          const [vertical, horizontal] = value.split(' ');\n          switch (direction) {\n            case 'top':\n            case 'bottom':\n              return vertical;\n            case 'left':\n            case 'right':\n              return horizontal;\n          }\n        }\n      }\n    }\n    return value;\n  };\n\n  return visible ? (\n    <Form.Item label=\"Padding :\">\n      <Input.Group style={{ marginBottom: '6px' }}>\n        <Row>\n          <Col span={11} offset={0}>\n            <Input addonBefore=\"top\" onChange={(e) => handleChange(e, 'top')} value={getValue('top')} />\n          </Col>\n          <Col span={11} offset={2}>\n            <Input addonBefore=\"right\" onChange={(e) => handleChange(e, 'right')} value={getValue('right')} />\n          </Col>\n        </Row>\n      </Input.Group>\n      <Input.Group>\n        <Row>\n          <Col span={11} offset={0}>\n            <Input addonBefore=\"bottom\" onChange={(e) => handleChange(e, 'bottom')} value={getValue('bottom')} />\n          </Col>\n\n          <Col span={11} offset={2}>\n            <Input addonBefore=\"left\" onChange={(e) => handleChange(e, 'left')} value={getValue('left')} />\n          </Col>\n        </Row>\n      </Input.Group>\n    </Form.Item>\n  ) : null;\n};\n\nexport { Padding };\n","import { Row } from 'antd';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useCkeditor } from '../Hooks/Ckeditor.hook';\nimport { useCustomEditorStatus } from '../Hooks/CustomEditor.hook';\nimport { useDragAndDropUniqueId } from '../Hooks/Drag.hook';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../Hooks/Htmlwrapper.hook';\nimport { generateUniqueIdRecursively } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { findSectionOfElement } from '../Utils/findElementsParent';\nimport { logger } from '../Utils/logger';\nimport { UNDOREDO } from '../Utils/undoRedo';\nimport { COLUMN } from './Section';\n\nconst style = {\n  display: 'flex',\n  height: '16px',\n  borderRadius: '0px',\n};\n\nconst borderRight = '1px solid rgb(85, 85, 85)';\n\nconst ColumnSelector = () => {\n  const { active } = useHtmlWrapper();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const {\n    setDelActive,\n    copy: { setCopyActive },\n  } = useCkeditor();\n  const { setActive: setCustomEditorActive } = useCustomEditorStatus();\n  const { getId } = useDragAndDropUniqueId();\n  const [visible, setVisible] = useState(false);\n  const [sectionIdentifier, setSectionIdentifier] = useState();\n\n  useEffect(() => {\n    if (active) {\n      const section = findSectionOfElement(active);\n      if (section) {\n        const [, uniqueIdentifier] = section;\n        setVisible(true);\n        setSectionIdentifier(uniqueIdentifier);\n        return;\n      }\n    }\n    setVisible(false);\n  }, [active, visible]);\n\n  const handleClick = (changeTo: string[]) => {\n    if (visible && sectionIdentifier) {\n      const find = findElementInJson(mjmlJson, sectionIdentifier);\n      if (find) {\n        const [item, path] = find;\n        if (item && path && item.children && changeTo.length > 0) {\n          const existingLength = item.children.length;\n          const convertLength = changeTo.length;\n          if (convertLength < existingLength) {\n            // todo: implement getconfirmation, that user is about to delete a column\n          }\n          let newChildren = [];\n\n          // iterate over existing children\n          for (let i = 0; i < existingLength && i < convertLength; i++) {\n            let child = _.cloneDeep(item.children[i]);\n            if (child && child.attributes) {\n              // modify width attribute, add it to newChildren\n              child.attributes.width = changeTo[i];\n              newChildren.push(child);\n            }\n          }\n\n          //iterate over new children\n          for (let i = existingLength; i < convertLength; i++) {\n            let preProcessedColumn = generateUniqueIdRecursively(_.cloneDeep(COLUMN), getId);\n            preProcessedColumn.attributes.width = changeTo[i];\n            newChildren.push(preProcessedColumn);\n          }\n\n          // update children\n          const updatedItem = { ...item, children: newChildren };\n\n          //update json\n          logger.log('column layout: ', updatedItem);\n\n          const updated = _.set(mjmlJson, path.slice(1), updatedItem);\n\n          if (updated) {\n            UNDOREDO.newAction(updated);\n            setDelActive(false);\n            setCopyActive(false);\n            setCustomEditorActive(false);\n            setMjmlJson({ ...updated });\n          }\n        }\n      }\n    }\n  };\n\n  return visible ? (\n    <>\n      <div>\n        <SectionTitle>\n          <p>1 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['100%'])} one={100} />\n      </div>\n      <div style={{ marginTop: '16px' }}>\n        <SectionTitle>\n          <p>2 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['50%', '50%'])} one={50} two={50} />\n        <Image click={() => handleClick(['39%', '59%'])} one={40} two={60} />\n        <Image click={() => handleClick(['25%', '75%'])} one={25} two={75} />\n        <Image click={() => handleClick(['60%', '40%'])} one={60} two={40} />\n        <Image click={() => handleClick(['75%', '25%'])} one={75} two={25} />\n      </div>\n      <div style={{ marginTop: '16px' }}>\n        <SectionTitle>\n          <p>3 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['33%', '33%', '33%'])} one={50} two={50} three={50} />\n        <Image click={() => handleClick(['47.5%', '5%', '47.5%'])} one={47.5} two={5} three={47.5} />\n        <Image click={() => handleClick(['25%', '25%', '50%'])} one={25} two={25} three={50} />\n        <Image click={() => handleClick(['25%', '50%', '25%'])} one={25} two={50} three={25} />\n        <Image click={() => handleClick(['50%', '25%', '25%'])} one={50} two={25} three={25} />\n      </div>\n      <div style={{ marginTop: '16px' }}>\n        <SectionTitle>\n          <p>4 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['25%', '25%', '25%', '25%'])} one={50} two={50} three={50} four={50} />\n      </div>\n    </>\n  ) : (\n    <div style={{ textAlign: 'center' }}>Select an item inside the body</div>\n  );\n};\n\nconst Image = ({\n  click,\n  one,\n  two,\n  three,\n  four,\n}: {\n  click?: (e: any) => void;\n  one: number;\n  two?: number;\n  three?: number;\n  four?: number;\n}) => {\n  return (\n    <>\n      <Row style={{ marginBottom: '12px' }}></Row>\n      <SectionImage onClick={click ? click : undefined}>\n        <div className=\"wrapper\">\n          <div className=\"border\">\n            <div style={{ ...style, flexGrow: one, borderRight: two ? borderRight : 'unset' }}></div>\n            {two ? <div style={{ ...style, flexGrow: two, borderRight: three ? borderRight : 'unset' }}></div> : null}\n            {three ? (\n              <div style={{ ...style, flexGrow: three, borderRight: four ? borderRight : 'unset' }}></div>\n            ) : null}\n            {four ? <div style={{ ...style, flexGrow: two }}></div> : null}\n          </div>\n        </div>\n      </SectionImage>\n    </>\n  );\n};\n\nconst SectionTitle = styled(Row)`\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n  p {\n    margin: 0px;\n    text-align: inherit;\n    color: rgb(85, 85, 85);\n    font-size: 14px;\n    font-weight: 600;\n  }\n`;\n\nconst SectionImage = styled(Row)`\n  background-color: rgb(252, 252, 252);\n  border: 1px solid rgb(229, 229, 229);\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: flex;\n  box-shadow: none;\n  cursor: grab;\n\n  &:hover {\n    background-color: rgb(255, 255, 255);\n    box-shadow: rgb(0 0 0 / 20%) 0px 1px 4px;\n    border-color: rgb(255, 255, 255);\n  }\n\n  .wrapper {\n    margin: 10px;\n    background-color: rgb(255, 255, 255);\n    position: relative;\n    width: 100%;\n    display: flex;\n    border-radius: 3px;\n    box-sizing: border-box;\n\n    .border {\n      border: 1px solid rgb(85, 85, 85);\n      border-radius: 3px;\n      display: flex;\n      -webkit-box-align: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n    }\n  }\n`;\n\nexport { ColumnSelector };\n","import { Form, Select } from 'antd';\nimport _ from 'lodash';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useFonts } from '../../Hooks/useFonts';\n\nconst ATTRIBUTE = 'font-family';\n\nconst { Option } = Select;\n\nexport const FontFamily = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n  const [fontlist, fontvalue] = useFonts();\n\n  const handleChange = (value: string) => {\n    if (visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item) {\n        item.attributes['font-family'] = value;\n        const updated = _.set(mjmlJson, path, item);\n        if (updated) {\n          setMjmlJson({ ...updated });\n        }\n      }\n    }\n  };\n\n  let value = '';\n\n  if (visible && path) {\n    value = getValue();\n    if (value && value.indexOf(',') > -1) {\n      value = value.split(',')[0];\n    }\n  }\n\n  return visible ? (\n    <Form.Item label=\"Font Family\">\n      <Select value={fontvalue} onChange={handleChange}>\n        {fontlist.map((name: string) => {\n          return (\n            <Option key={name} value={name}>\n              {name}\n            </Option>\n          );\n        })}\n      </Select>\n    </Form.Item>\n  ) : null;\n};\n","import { Button, Col, Form, Row, Tooltip } from 'antd';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport {\n  VerticalAlignTopOutlined,\n  VerticalAlignMiddleOutlined,\n  VerticalAlignBottomOutlined,\n} from '@ant-design/icons/lib/icons/';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport _ from 'lodash';\n\nconst ATTRIBUTE = 'vertical-align';\n\ninterface VerticalAlignProps {\n  activePath?: string;\n}\n\nexport const VerticalAlign = ({ activePath }: VerticalAlignProps) => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE, customPath: activePath });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { active } = useHtmlWrapper();\n\n  const onClick = (value: string) => {\n    if (active && visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item && item.attributes) {\n        item.attributes[ATTRIBUTE] = value;\n        const updated = _.set(mjmlJson, path, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  return visible ? (\n    <Row>\n      <Col flex=\"auto\">\n        <Form.Item label=\"Vertical Align\"></Form.Item>\n      </Col>\n      <Col>\n        <Row justify=\"space-between\" gutter={[16, 0]}>\n          <Tooltip title=\"Top\">\n            <Button onClick={() => onClick('top')} type=\"ghost\" icon={<VerticalAlignTopOutlined />} />\n          </Tooltip>\n\n          <Col>\n            <Tooltip\n              placement=\"left\"\n              title=\"Middle :Note: all columns in section must be set to middle, for this to work.\"\n            >\n              <Button onClick={() => onClick('middle')} type=\"ghost\" icon={<VerticalAlignMiddleOutlined />} />\n            </Tooltip>\n          </Col>\n\n          <Col>\n            <Tooltip title=\"Bottom\">\n              <Button onClick={() => onClick('bottom')} type=\"ghost\" icon={<VerticalAlignBottomOutlined />} />\n            </Tooltip>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  ) : null;\n};\n","import { Col, Form, Row, Input } from 'antd';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\n\nconst URL = 'background-url';\nconst SIZE = 'background-size';\nconst REPEAT = 'background-repeat';\n\nconst BackgroundImage = () => {\n  const [url, setUrl] = useState<string>('');\n  const [size, setSize] = useState<string>('');\n  const [repeat, setRepeat] = useState<string>('');\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const [urlVisibility, urlPath] = useVisibility({ attribute: URL });\n  const [sizeVisibility, sizePath] = useVisibility({ attribute: SIZE });\n  const [repeatVisiblity, repeatPath] = useVisibility({ attribute: REPEAT });\n\n  useEffect(() => {\n    if (mjmlJson) {\n      if (urlVisibility) {\n        const item = _.get(mjmlJson, urlPath);\n        item && setUrl(item.attributes[URL]);\n      }\n      if (sizeVisibility) {\n        const item = _.get(mjmlJson, sizePath);\n        item && setSize(item.attributes[SIZE]);\n      }\n      if (repeatVisiblity) {\n        const item = _.get(mjmlJson, repeatPath);\n        item && setRepeat(item.attributes[REPEAT]);\n      }\n    }\n  }, [urlVisibility, sizeVisibility, repeatVisiblity]);\n\n  if (urlVisibility === false && sizeVisibility === false && repeatVisiblity === false) {\n    return null;\n  }\n\n  const onChangeUrl = (e: any) => {\n    setUrl(e.target.value);\n    if (urlVisibility && urlPath && e.target.value) {\n      let item = _.get(mjmlJson, urlPath);\n      if (item && item.attributes) {\n        item.attributes[URL] = e.target.value;\n        const updated = _.set(mjmlJson, urlPath, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  const onChangeSize = (e: any) => {\n    setSize(e.target.value);\n    if (sizeVisibility && sizePath && e.target.value) {\n      let item = _.get(mjmlJson, urlPath);\n      if (item && item.attributes) {\n        item.attributes[SIZE] = e.target.value;\n        const updated = _.set(mjmlJson, sizePath, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  const onChangeRepeat = (e: any) => {\n    setRepeat(e.target.value);\n    if (repeatVisiblity && repeatPath && e.target.value) {\n      let item = _.get(mjmlJson, urlPath);\n      if (item && item.attributes) {\n        item.attributes[REPEAT] = e.target.value;\n        const updated = _.set(mjmlJson, repeatPath, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  return (\n    <Form.Item label=\"Background Image:\">\n      <Input.Group>\n        <Row gutter={[0, 4]}>\n          {urlVisibility ? (\n            <Col span={24}>\n              <Input addonBefore=\"url\" onChange={onChangeUrl} value={url} />\n            </Col>\n          ) : null}\n          {sizeVisibility ? (\n            <Col span={24}>\n              <Input\n                addonBefore=\"size\"\n                onChange={onChangeSize}\n                value={size}\n                placeholder=\"px/percent/'cover'/'contain'\"\n              />\n            </Col>\n          ) : null}\n          {repeatVisiblity ? (\n            <Col span={24}>\n              <Input addonBefore=\"repeat\" onChange={onChangeRepeat} value={repeat} placeholder=\"repeat\" />\n            </Col>\n          ) : null}\n        </Row>\n      </Input.Group>\n    </Form.Item>\n  );\n};\n\nexport { BackgroundImage };\n","import styled from 'styled-components';\nimport { Tabs } from 'antd';\nimport { UNDOREDO } from '../Utils/undoRedo';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../Hooks/Htmlwrapper.hook';\nimport { useEffect, useState } from 'react';\nimport { findSectionOfElement } from '../Utils/findElementsParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { Background } from './Mods/Background';\nimport { Width } from './Mods/WidthHeight';\nimport { Padding } from './Mods/Paddings';\nimport { VerticalAlign } from './Mods/VerticalAlign';\nimport { Border } from './Mods/Border';\nimport { CordinalBorder } from './Mods/CordinalBorder';\nimport { BorderRadius } from './Mods/BorderRadius';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport _ from 'lodash';\n\nconst { TabPane } = Tabs;\nconst CustomTabs = styled(Tabs)`\n  .ant-tabs-tab {\n    padding-top: 0px;\n  }\n  .ant-tabs-content {\n    height: 100%;\n  }\n\n  .mods {\n    padding: 24px 16px;\n    padding-top: 4px;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .ant-row {\n    margin-bottom: 8px;\n  }\n`;\n\nconst ColumnAttributes = () => {\n  const { mjmlJson } = useEditor();\n  const { active } = useHtmlWrapper();\n  const [columns, setActiveColumns] = useState<any>([]);\n\n  useEffect(() => {\n    if (active) {\n      const section = findSectionOfElement(active);\n      if (section) {\n        const [, uniqueSectionIdentifier] = section;\n        const find = findElementInJson(mjmlJson, uniqueSectionIdentifier);\n        if (find) {\n          let [item, path] = find;\n          path = path.slice(1);\n\n          if (item && item.children && item.children.length > 0) {\n            let _columns = [];\n            for (var i = 0; i < item.children.length; i++) {\n              if (item.children[i].tagName === 'mj-column') {\n                _columns.push(`${path}.children[${i}]`);\n              }\n            }\n            if (!_.isEqual(columns, _columns)) {\n              setActiveColumns(_columns);\n            }\n            return;\n          }\n        }\n      }\n    }\n    setActiveColumns([]);\n  }, [active]);\n\n  return active && columns.length > 0 ? (\n    <CustomTabs\n      centered\n      tabBarGutter={2}\n      defaultActiveKey=\"0\"\n      style={{ height: '100%' }}\n      destroyInactiveTabPane={false}\n    >\n      {columns &&\n        columns.map((column: any, index: number) => {\n          return (\n            <TabPane tab={`column ${index + 1}`} key={index}>\n              <Scrollbars style={{ height: '100%' }} autoHide={true}>\n                <div\n                  className=\"mods\"\n                  onMouseDown={(e) => {\n                    UNDOREDO.newAction(mjmlJson);\n                  }}\n                  onBlur={(e) => {\n                    UNDOREDO.newAction(mjmlJson);\n                  }}\n                >\n                  <Width activePath={column} />\n                  <VerticalAlign activePath={column} />\n                  <Padding activePath={column} />\n\n                  <Background activePath={column} />\n                  <Background\n                    label={'Inner Background:'}\n                    overrideAttribute=\"inner-background-color\"\n                    activePath={column}\n                  />\n                  <BorderRadius activePath={column} />\n                  <Border activePath={column} />\n                  <CordinalBorder activePath={column} />\n                </div>\n              </Scrollbars>\n            </TabPane>\n          );\n        })}\n    </CustomTabs>\n  ) : (\n    <div style={{ textAlign: 'center', marginTop: '24px' }}>Select an item inside the body</div>\n  );\n};\n\nexport { ColumnAttributes };\n","import { Col, Input, Row } from 'antd';\nimport FormItem from 'antd/lib/form/FormItem';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\n\nconst ATTRIBUTE = 'line-height';\n\nconst LineHeight = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState<string>('100%');\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n\n  useEffect(() => {\n    if (visible && path) {\n      let value = getValue();\n      setValue(value);\n    }\n  }, [visible, path]);\n\n  const onChange = (e: any) => {\n    setValue(e.target.value);\n    if (visible && path && e && e.target) {\n      if (typeof e.target.value === 'number' && e.target.value < 0) {\n        e.target.value = 0;\n      }\n      SetValue(e.target.value.toString(), path, mjmlJson, setMjmlJson);\n    }\n  };\n\n  const addonBeforeClick = () => {\n    changeValue(visible, value, mjmlJson, path, setValue, setMjmlJson, 'dec');\n  };\n\n  const addonAfterClick = () => {\n    changeValue(visible, value, mjmlJson, path, setValue, setMjmlJson, 'inc');\n  };\n\n  return visible ? (\n    <FormItem>\n      <Row>\n        <Col flex=\"auto\">Line Height:</Col>\n\n        <Col flex=\"none\">\n          <IncrementDecrementInput\n            onChange={onChange}\n            addonBefore={<span onClick={addonBeforeClick}>-</span>}\n            addonAfter={<span onClick={addonAfterClick}>+</span>}\n            value={value}\n            style={{ width: `${value ? value.toString().length + 12 : 12}ch ` }}\n          />\n        </Col>\n      </Row>\n    </FormItem>\n  ) : null;\n};\n\nconst IncrementDecrementInput = styled(Input)`\n  .ant-input-group-addon {\n    cursor: pointer;\n    user-select: none;\n    padding:0px;\n    &:hover {\n      color: #40a9ff;\n    }\n    span{\n        padding 0 11px;\n    }\n  }\n`;\n\nconst changeValue = (\n  visible: boolean | null,\n  value: string,\n  mjmlJson: any,\n  path: string,\n  setValue: (arg: string) => void,\n  setMjmlJson: (arg: any) => void,\n  type: 'inc' | 'dec'\n) => {\n  if (visible && value) {\n    let existingValue: string | number = value;\n    let copy = value;\n    let increment;\n    if (existingValue.includes('%')) {\n      increment = type === 'inc' ? +10 : -10;\n      existingValue = existingValue.split('%')[0];\n      existingValue = parseInt(existingValue);\n    } else {\n      increment = type === 'inc' ? +1 : -1;\n      existingValue = parseInt(existingValue);\n    }\n    const toSearch = existingValue;\n    let valueIncrementNumber = Math.max(existingValue + increment, 0);\n    const valueToSet = copy.replace(toSearch.toString(), valueIncrementNumber.toString());\n    setValue(valueToSet);\n    SetValue(valueToSet.toString(), path, mjmlJson, setMjmlJson);\n  }\n};\n\nconst SetValue = (valueToSet: string, path: string, mjmlJson: any, setMjmlJson: (arg: any) => void) => {\n  let item = _.get(mjmlJson, path);\n  if (item) {\n    if (item.attributes) {\n      item.attributes[ATTRIBUTE] = valueToSet;\n      const updated = _.set(mjmlJson, path, item);\n      if (updated) {\n        setMjmlJson({ ...updated });\n      }\n    }\n  }\n};\n\nexport { LineHeight };\n","import { Scrollbars } from 'react-custom-scrollbars-2';\nimport { Align } from '../../Components/Mods/Align';\nimport { Background } from '../../Components/Mods/Background';\nimport { Border } from '../../Components/Mods/Border';\nimport { BorderRadius } from '../../Components/Mods/BorderRadius';\nimport { ContainerBackground } from '../../Components/Mods/ContainerBackground';\nimport { Content } from '../../Components/Mods/Content';\nimport { CordinalBorder } from '../../Components/Mods/CordinalBorder';\nimport { FontSize } from '../../Components/Mods/FontSize';\nimport { Img } from '../../Components/Mods/Img';\nimport { InnerPadding } from '../../Components/Mods/InnerPadding';\nimport { Link } from '../../Components/Mods/Link';\nimport { Padding } from '../../Components/Mods/Paddings';\nimport { Height, Width } from '../../Components/Mods/WidthHeight';\nimport styled from 'styled-components';\nimport css from './Editor.module.scss';\nimport { Drawer, Tabs } from 'antd';\nimport { ColumnSelector } from '../../Components/ColumnSelector';\nimport { FontFamily } from '../../Components/Mods/FontFamily';\nimport { UNDOREDO } from '../../Utils/undoRedo';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { VerticalAlign } from '../../Components/Mods/VerticalAlign';\nimport { BackgroundImage } from '../../Components/Mods/BackgroundImage';\nimport { ColumnAttributes } from '../../Components/ColumnAttributes';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { useEffect, useRef, useState } from 'react';\nimport { LineHeight } from '../../Components/Mods/LineHeight';\nimport { BodyAttributes } from '../../Components/BodyAttributes';\n\nconst { TabPane } = Tabs;\n\nconst CustomTabs = styled(Tabs)`\n  .ant-tabs-content {\n    height: 100%;\n  }\n  .ant-tabs-tab {\n    padding: 8px 16px !important;\n  }\n  .ant-tabs-tabpane {\n    padding-right: 0px !important;\n  }\n`;\n\nexport const Attributes = () => {\n  const { mjmlJson } = useEditor();\n  const { active } = useHtmlWrapper();\n  const [isColumn, setIsColumn] = useState(false);\n\n  useEffect(() => {\n    if (active && active.classList && active.className.includes('mj-column')) {\n      setIsColumn(true);\n    }\n    isColumn && setIsColumn(false);\n  }, [active]);\n\n  return (\n    <CustomTabs\n      tabPosition=\"right\"\n      defaultActiveKey=\"2\"\n      style={{ height: '100%' }}\n      destroyInactiveTabPane={true}\n      title={'Attributes'}\n      size=\"small\"\n      tabBarGutter={1}\n    >\n      {/* <TabPane tab=\"Attributes\" key=\"1\">\n        <Scrollbars style={{ height: '100%' }} autoHide={true}>\n          <div\n            className={css.mods}\n            onMouseDown={(e) => {\n              UNDOREDO.newAction(mjmlJson);\n            }}\n            onBlur={(e) => {\n              UNDOREDO.newAction(mjmlJson);\n            }}\n          >\n            {isColumn ? (\n              <div style={{ textAlign: 'center' }}>\n                The selected Item is a Column, to modify properties <h2> check \"Column Properties\" Tab</h2>\n              </div>\n            ) : (\n              <>\n                <Width />\n                <Height />\n                <Align />\n                <VerticalAlign />\n                <Content />\n                <LineHeight />\n                <FontSize />\n                <FontFamily />\n                <Padding />\n                <InnerPadding />\n                <ContainerBackground />\n                <Background />\n                <BackgroundImage />\n                <Border />\n                <Border label=\"Border Width\" attribute_name=\"border-width\" />\n                <Border label=\"Border Style\" attribute_name=\"border-style\" />\n                <Background label=\"Border Color\" overrideAttribute=\"border-color\" />\n                <CordinalBorder />\n                <BorderRadius />\n                <Link />\n                <Img />\n              </>\n            )}\n          </div>\n        </Scrollbars>\n      </TabPane> */}\n\n      <TabPane tab={<span style={{ fontSize: '12px' }}>layout</span>} key=\"2\">\n        <Scrollbars style={{ height: '100%' }} autoHide={true}>\n          <div className={css.columns}>\n            <ColumnSelector />\n          </div>\n        </Scrollbars>\n      </TabPane>\n      <TabPane\n        tab={\n          <>\n            <span style={{ fontSize: '12px' }}>layout</span>\n            <br />\n            <span style={{ fontSize: '12px' }}>config</span>\n          </>\n        }\n        key=\"3\"\n      >\n        <Scrollbars style={{ height: '100%' }} autoHide={true}>\n          <ColumnAttributes />\n        </Scrollbars>\n      </TabPane>\n      <TabPane\n        tab={\n          <>\n            <span style={{ fontSize: '12px' }}>body</span>\n            <br />\n            <span style={{ fontSize: '12px' }}>config</span>\n          </>\n        }\n        key=\"4\"\n      >\n        <Scrollbars style={{ height: '100%' }} autoHide={true}>\n          <BodyAttributes />\n        </Scrollbars>\n      </TabPane>\n    </CustomTabs>\n  );\n};\n\nexport const OnlyAttributesDrawer = () => {\n  const { mjmlJson } = useEditor();\n  const { active, setActive } = useHtmlWrapper();\n  const [isDisabled, setIsDisabled] = useState(false);\n  const [visible, setVisible] = useState(false);\n  const [init, setInit] = useState(false);\n\n  const onClose = () => {\n    setVisible(false);\n  };\n\n  useEffect(() => {\n    // wierd bug in antd\n    if (active && !init) {\n      setInit(true);\n    }\n\n    if (\n      active &&\n      ((active.classList && active.className.includes('mj-column')) ||\n        (active.classList && active.className.includes('mj-body')))\n    ) {\n      setIsDisabled(true);\n    } else {\n      isDisabled && setIsDisabled(false);\n    }\n  }, [active]);\n\n  useEffect(() => {\n    if (!isDisabled && active) {\n      setVisible(true);\n    } else {\n      setVisible(false);\n    }\n  }, [isDisabled, active]);\n\n  return init ? (\n    <Drawer\n      destroyOnClose={true}\n      width={'100%'}\n      getContainer={false}\n      title={\n        <div style={{ textAlign: 'center' }}>\n          <span>Attributes</span>\n        </div>\n      }\n      style={{ position: 'absolute', height: '100%' }}\n      onClose={onClose}\n      visible={visible}\n      maskClosable={false}\n      mask={false}\n      bodyStyle={{\n        padding: '8px 0px',\n      }}\n    >\n      <Scrollbars style={{ height: '100%' }} autoHide={true}>\n        <div\n          className={css.mods}\n          onMouseDown={(e) => {\n            UNDOREDO.newAction(mjmlJson);\n          }}\n          onBlur={(e) => {\n            UNDOREDO.newAction(mjmlJson);\n          }}\n        >\n          <Width />\n          <Height />\n          <Align />\n          <VerticalAlign />\n          <Content />\n          <LineHeight />\n          <FontSize />\n          <FontFamily />\n          <Padding />\n          <InnerPadding />\n          <ContainerBackground />\n          <Background />\n          <BackgroundImage />\n          <Border />\n          <Border label=\"Border Width\" attribute_name=\"border-width\" />\n          <Border label=\"Border Style\" attribute_name=\"border-style\" />\n          <Background label=\"Border Color\" overrideAttribute=\"border-color\" />\n          <CordinalBorder />\n          <BorderRadius />\n          <Link />\n          <Img />\n        </div>\n      </Scrollbars>\n    </Drawer>\n  ) : null;\n};\n","import css from './UiWrapper.module.scss';\n\nexport const UiWrapper = ({ background, label }: { background: string; label: string }) => {\n  return (\n    <div className={css.wrapper}>\n      <div className={`${css.container} ${css[background]}`}></div>\n      <span>{label}</span>\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = ['align', 'background-color', 'border', 'border-bottom', 'border-left', 'border-radius', 'border-right', 'border-top', 'color', 'container-background-color', 'css-class', 'font-family', 'font-size', 'font-style', 'font-weight', 'height', 'href', 'inner-padding', 'letter-spacing', 'line-height', 'padding', 'padding-bottom', 'padding-left', 'padding-right', 'padding-top', 'rel', 'target', 'text-align', 'text-decoration', 'text-transform', 'title', 'vertical-align', 'width'];\n\n// prettier-ignore\nconst properties_with_default_values = {\"align\": \"center\", \"background-color\": \"#414141\", \"border\": \"none\", \"border-bottom\": \"\", \"border-left\": \"\", \"border-radius\": \"3px\", \"border-right\": \"\", \"border-top\": \"\", \"color\": \"#ffffff\", \"container-background-color\": \"\", \"css-class\": \"\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"\", \"font-weight\": \"normal\", \"height\": \"\", \"href\": \"\", \"inner-padding\": \"10px 25px\", \"letter-spacing\": \"\", \"line-height\": \"120%\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"rel\": \"\", \"target\": \"_blank\", \"text-align\": \"none\", \"text-decoration\": \"none\", \"text-transform\": \"none\", \"title\": \"\", \"vertical-align\": \"middle\", \"width\": \"\"}\n\n// prettier-ignore\nconst assigned_default_values  = {\"align\": \"center\", \"background-color\": \"#414141\", \"border\": \"none\", \"border-radius\": \"3px\", \"color\": \"#ffffff\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-weight\": \"normal\", \"inner-padding\": \"10px 25px\", \"line-height\": \"120%\", \"padding\": \"10px 25px\", \"target\": \"_blank\", \"text-align\": \"none\", \"text-decoration\": \"none\", \"text-transform\": \"none\", \"vertical-align\": \"middle\"}\n\nexport const Button = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const config = {\n    tagName: 'mj-button',\n    attributes: {\n      ...assigned_default_values,\n      'css-class': 'mjml-tag identifier-mj-button',\n    },\n    children: [],\n    content: 'button',\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: any) => {\n    dragStart(e, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"button\" label=\"Button\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { FONTS_CONFIG } from './Mods/FontConfig';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = ['color', 'font-family', 'font-size', 'font-style', 'font-weight', 'line-height', 'letter-spacing', 'height', 'text-decoration', 'text-transform', 'align', 'container-background-color', 'padding', 'padding-top', 'padding-bottom', 'padding-left', 'padding-right', 'css-class'];\n\n// prettier-ignore\nconst properties_with_default_values = {\"color\": \"#000000\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"\", \"font-weight\": \"\", \"line-height\": \"1\", \"letter-spacing\": \"none\", \"height\": \"\", \"text-decoration\": \"\", \"text-transform\": \"\", \"align\": \"left\", \"container-background-color\": \"\", \"padding\": \"10px 25px\", \"padding-top\": \"\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"css-class\": \"\"};\n\n// prettier-ignore\nconst assigned_default_values  = {\"color\": \"#000000\", \"font-size\": \"13px\", \"line-height\": \"1\", \"letter-spacing\": \"none\", \"align\": \"center\", \"padding\": \"10px 25px\"};\n//note to self: removed fontFamily default value.\n\nexport const Text = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-text',\n    attributes: {\n      ...assigned_default_values,\n      align: 'left',\n      'padding-left': '0px',\n      'padding-right': '0px',\n      'css-class': 'mjml-tag identifier-mj-text',\n    },\n    content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque quis dolor auctor.',\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"text\" label=\"Text\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = [\"align\", \"alt\", \"border\", \"border-top\", \"border-bottom\", \"border-left\", \"border-right\", \"border-radius\", \"container-background-color\", \"css-class\", \"fluid-on-mobile\", \"height\", \"href\", \"name\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"rel\", \"sizes\", \"src\", \"srcset\", \"target\", \"title\", \"usemap\", \"width\"]\n\n// prettier-ignore\nconst properties_with_default_values = {\"align\": \"center\", \"alt\": \"\", \"border\": \"none\", \"border-top\": \"none\", \"border-bottom\": \"none\", \"border-left\": \"none\", \"border-right\": \"none\", \"border-radius\": \"\", \"container-background-color\": \"\", \"css-class\": \"\", \"fluid-on-mobile\": \"\", \"height\": \"auto\", \"href\": \"\", \"name\": \"\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"rel\": \"\", \"sizes\": \"\", \"src\": \"\", \"srcset\": \"\", \"target\": \"_blank\", \"title\": \"\", \"usemap\": \"\", \"width\": \"100%\"}\n\n// prettier-ignore\nconst assigned_default_values = {\"align\": \"center\", \"border\": \"none\", \"border-top\": \"none\", \"border-bottom\": \"none\", \"border-left\": \"none\", \"border-right\": \"none\", \"height\": \"auto\", \"padding\": \"10px 25px\", \"target\": \"_blank\", \"width\": \"100%\"}\n\nexport const Image = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-image',\n    attributes: {\n      ...assigned_default_values,\n      'css-class': 'mjml-tag identifier-mj-image',\n      width: 'auto',\n      padding: '0px 8px',\n      src: 'https://dev.bluepie.in/dnde.png',\n    },\n    children: [],\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"image\" label=\"Image\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = [\"container-background-color\", \"css-class\", \"height\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\"]\n\n// prettier-ignore\nconst properties_with_default_values = {\"container-background-color\": \"\", \"css-class\": \"\", \"height\": \"20px\", \"padding\": \"none\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\"}\n\n// prettier-ignore\nconst assigned_default_values = {\"height\": \"20px\", \"padding\": \"none\"}\n\nexport const Spacer = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-spacer',\n    attributes: {\n      ...assigned_default_values,\n      'css-class': 'mjml-tag identifier-mj-spacer',\n    },\n    children: [],\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"spacer\" label=\"Spacer\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\nexport const Html = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-text',\n    attributes: {\n      'css-class': 'mjml-tag identifier-mj-html html-block',\n      padding: '0px',\n    },\n    mutableProperties: ['font-family'],\n    content: `\n    <table border=\"1\" style=\"width:100%; border-collapse:collapse\">\n    <tr style=\"font-weight:bold\">\n      <td>S. No</td> \n      <td>Items</td>\n      <td>Quantity</td>\n      <td align=\"center\">Price</td>\n    </tr>\n    <tr>\n      <td>1</td>\n      <td>egg</td>\n      <td>24</td>\n      <td align=\"center\">$10.00</td>\n    </tr>\n    <tr>\n      <td>2</td>\n      <td>milk</td>\n      <td>5</td>\n      <td align=\"center\">$8</td>\n    </tr>\n    <tr>\n      <td>3</td>\n      <td>curd</td>\n      <td>8</td>\n      <td align=\"center\">$8</td>\n    </tr>\n    </table>\n    `,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"html\" label=\" Html\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = [\"border-color\", \"border-style\", \"border-width\", \"container-background-color\", \"css-class\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"width\", \"align\"]\n\n// prettier-ignore\nconst properties_with_default_values = {\"border-color\": \"#000000\", \"border-style\": \"solid\", \"border-width\": \"4px\", \"container-background-color\": \"\", \"css-class\": \"\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"width\": \"100%\", \"align\": \"center\"}\n\n// prettier-ignore\nconst assigned_default_values = {\"border-color\": \"#000000\", \"border-style\": \"solid\", \"border-width\": \"4px\", \"padding\": \"10px 25px\", \"width\": \"100%\", \"align\": \"center\"}\n\nexport const Divider = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-divider',\n    attributes: {\n      ...assigned_default_values,\n      padding: '0px',\n      'css-class': 'mjml-tag identifier-mj-divider',\n    },\n    children: [],\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n  // access type, etc from comp nd set to context\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"divider\" label=\"Divider\" />\n    </div>\n  );\n};\n","import { dragStart } from '../Utils/dragStart';\nimport { UiWrapper } from './UiWrapper';\n\n// prettier-ignore\nconst social_properties = [\"align\", \"border-radius\", \"color\", \"css-class\", \"container-background-color\", \"font-family\", \"font-size\", \"font-style\", \"font-weight\", \"icon-height\", \"icon-size\", \"inner-padding\", \"line-height\", \"mode\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"icon-padding\", \"text-padding\", \"text-decoration\"]\n\n// prettier-ignore\nconst social_properties_with_default_values = {\"align\": \"center\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"css-class\": \"\", \"container-background-color\": \"\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"inner-padding\": \"4px\", \"line-height\": \"22px\", \"mode\": \"horizontal\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"text-decoration\": \"none\"}\n\n// prettier-ignore\nconst social_assigned_default_values = {\"align\": \"center\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"inner-padding\": \"4px\", \"line-height\": \"22px\", \"mode\": \"horizontal\", \"padding\": \"10px 25px\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"text-decoration\": \"none\"}\n\n// prettier-ignore\nconst social_element_properties = [\"align\", \"alt\", \"background-color\", \"border-radius\", \"color\", \"css-class\", \"font-family\", \"font-size\", \"font-style\", \"font-weight\", \"href\", \"icon-height\", \"icon-size\", \"line-height\", \"name\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"icon-padding\", \"text-padding\", \"sizes\", \"src\", \"srcset\", \"rel\", \"target\", \"title\", \"text-decoration\", \"vertical-align\"]\n\n// prettier-ignore\nconst social_element_properties_with_default_values = {\"align\": \"center\", \"alt\": \"none\", \"background-color\": \"Each social name has its own default\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"css-class\": \"\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"href\": \"none\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"line-height\": \"22px\", \"name\": \"N/A\", \"padding\": \"4px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"sizes\": \"\", \"src\": \"Each social name has its own default\", \"srcset\": \"\", \"rel\": \"\", \"target\": \"_blank\", \"title\": \"none\", \"text-decoration\": \"none\", \"vertical-align\": \"middle\"}\n\n// prettier-ignore\nconst social_element_assigned_default_values = {\"align\": \"center\", \"alt\": \"none\", \"background-color\": \"Each social name has its own default\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"href\": \"none\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"line-height\": \"22px\", \"name\": \"N/A\", \"padding\": \"4px\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"src\": \"Each social name has its own default\", \"target\": \"_blank\", \"title\": \"none\", \"text-decoration\": \"none\", \"vertical-align\": \"middle\"}\n\nconst social_element_config = {\n  tagName: 'mj-social-element',\n  attributes: {\n    'css-class': 'mjml-tag identifier-mj-social-element',\n  },\n  mutableProperties: social_element_properties,\n};\n\nexport const Social = () => {\n  const config = {\n    tagName: 'mj-social',\n    attributes: {\n      'css-class': 'mjml-tag identifier-mj-social',\n    },\n    children: [\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'facebook-noshare',\n          href: 'https://github.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/facebook.png',\n        },\n      },\n\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'twitter-noshare',\n          href: 'https://twitter.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/twitter.png',\n        },\n      },\n\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'youtube-noshare',\n          href: 'https://github.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/youtube.png',\n        },\n      },\n\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'github',\n          href: 'https://github.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/github.png',\n        },\n      },\n    ],\n    mutableProperties: social_properties,\n  };\n\n  const onDragStart = (e: any) => {\n    dragStart(e, config);\n  };\n\n  return (\n    <div onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"social\" label=\"Social\" />\n    </div>\n  );\n};\n","import { useCkeditor } from '../Hooks/Ckeditor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { COLUMN, SECTION } from './Section';\nimport { UiWrapper } from './UiWrapper';\n\nconst SectionV2 = () => {\n  const config = { ...SECTION, children: [COLUMN] };\n  const {\n    drag: { setIsColumn },\n  } = useCkeditor();\n\n  const onDragStart = (e: any) => {\n    setIsColumn(true);\n    dragStart(e, config);\n  };\n  return (\n    <div onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"section\" label=\"Section\" />\n    </div>\n  );\n};\n\nexport { SectionV2 };\n","import { Col, Collapse, Row } from 'antd';\nimport { Button } from '../../Components/Button';\nimport { Text } from '../../Components/Text';\nimport { CaretDownOutlined } from '@ant-design/icons';\nimport css from './Editor.module.scss';\nimport '../../Assets/Css/antoveride.scss';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport { Image } from '../../Components/Image';\nimport { Spacer } from '../../Components/Spacer';\nimport { Html } from '../../Components/Html';\nimport { Divider } from '../../Components/Divider';\nimport { Section } from '../../Components/Section';\nimport { Social } from '../../Components/Social';\nimport { SectionV2 } from '../../Components/SectionV2';\n\nconst { Panel } = Collapse;\n\nconst Header = ({ title }: { title: string }) => {\n  return <p className={css.title}>{title}</p>;\n};\n\nexport const ComponentBank = () => {\n  return (\n    <Scrollbars style={{ height: '100%' }} autoHide={true}>\n      {/* <div style={{ padding: '8px', textAlign: 'center', fontSize: '16px', fontWeight: 'bold' }}>\n        <span>Components</span>\n      </div> */}\n      {/* <Collapse\n        expandIconPosition={'right'}\n        bordered={false}\n        defaultActiveKey={['1', '2']}\n        style={{ backgroundColor: 'rgb(255,255,255)' }}\n        expandIcon={({ isActive }) => <CaretDownOutlined rotate={isActive ? 0 : 180} />}\n      >\n        <Panel header={<Header title=\"Drag & Drop Section\" />} key=\"1\">\n          <Section />\n        </Panel> */}\n      {/* <Panel header={<Header title=\"Drag & Drop Content\" />} key=\"2\"> */}\n      <div className={css.components}>\n        <SectionV2 />\n        <Button />\n        <Text />\n        <Image />\n        <Spacer />\n        <Divider />\n        <Html />\n        <Social />\n      </div>\n      {/* </Panel> */}\n      {/* </Collapse> */}\n    </Scrollbars>\n  );\n};\n","import { Modal, Radio } from 'antd';\nimport { RadioChangeEvent } from 'antd/lib/radio';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport './Preview.module.css';\n\nconst DESKTOP_WIDTH = '800px';\nconst MOBILE_WIDTH = '323px';\n\nconst FullscreenModal = styled(Modal).attrs({ title: 'Preview' })`\n  .ant-modal {\n    max-width: unset !important;\n    margin: unset !important;\n  }\n  .ant-modal-centered::before {\n    content: unset !important;\n  }\n  .ant-modal-content {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n  .ant-modal-body {\n    margin: 0px auto;\n  }\n`;\n\nconst PreviewMode = styled.div`\n  position: absolute;\n  bottom: 24px;\n  left: 24px;\n`;\n\ninterface PreviewProps {\n  visible: boolean;\n  visibleChange: (visible: boolean) => void;\n  inframeContent: string;\n}\n\nexport const Preview = ({ visible, visibleChange, inframeContent }: PreviewProps) => {\n  const [mode, setMode] = useState('desktop');\n\n  const onChange = (e: RadioChangeEvent) => {\n    if (e.target.value) {\n      setMode(e.target.value);\n    }\n  };\n\n  return (\n    <FullscreenModal\n      visible={visible}\n      onCancel={() => visibleChange(false)}\n      onOk={() => visibleChange(false)}\n      width={'unset'}\n      style={{ top: '0px', maxWidth: 'unset', paddingBottom: '0px', height: '100%' }}\n      bodyStyle={{ height: '100%' }}\n      maskStyle={{ height: '100%' }}\n      destroyOnClose={true}\n      footer={null}\n    >\n      <PreviewMode>\n        <ModeSelect onChange={onChange} value={mode} />\n      </PreviewMode>\n      {inframeContent ? (\n        <iframe\n          title=\"Preview\"\n          style={{ margin: '0px auto' }}\n          width={mode === 'desktop' ? DESKTOP_WIDTH : MOBILE_WIDTH}\n          height=\"100%\"\n          srcDoc={inframeContent}\n        />\n      ) : null}\n    </FullscreenModal>\n  );\n};\n\ninterface ModeSelectProps {\n  onChange: (e: RadioChangeEvent) => void;\n  value: string;\n}\n\nconst ModeSelect = ({ onChange, value }: ModeSelectProps) => {\n  return (\n    <>\n      <Radio.Group\n        onChange={onChange}\n        value={value}\n        options={[\n          { label: 'desktop', value: 'desktop' },\n          { label: 'mobile', value: 'mobile' },\n        ]}\n        buttonStyle=\"solid\"\n        optionType=\"button\"\n      />\n    </>\n  );\n};\n","import { View } from './View';\nimport css from './Editor.module.scss';\nimport { Attributes, OnlyAttributesDrawer } from './Attributes';\nimport { ComponentBank } from './ComponentBank';\nimport { Button } from 'antd';\nimport { success } from '../../Components/Messages';\nimport mjml2html from 'mjml-browser';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { forwardRef, useEffect, useImperativeHandle, useState } from 'react';\nimport { Preview } from './Preview';\nimport { exportJson } from '../../Utils/mjmlProcessor';\nimport _ from 'lodash';\nimport { generatePreview } from '../../Utils/previewGenerator';\nimport { UNDOREDO } from '../../Utils/undoRedo';\n\nexport const Editor = forwardRef((props, ref) => {\n  const { mjmlJson } = useEditor();\n  const [preview, setPreview] = useState(false);\n\n  useImperativeHandle(ref, () => {\n    return {\n      getHtml,\n      getJson,\n    };\n  });\n\n  useEffect(() => {\n    // reset undo redo actions on each new load\n    UNDOREDO.reset();\n  }, []);\n\n  const getHtml = () => {\n    let html = '';\n    if (mjmlJson) {\n      html = mjml2html(mjmlJson).html;\n    }\n    return html;\n  };\n\n  const getJson = () => {\n    let json = {};\n    if (mjmlJson) {\n      const _json = JSON.stringify(exportJson(_.cloneDeep(mjmlJson)));\n      if (_json) {\n        json = _json;\n      }\n    }\n    return json;\n  };\n\n  const copyPreviewImage = async (e: any) => {\n    e.preventDefault();\n    const html = mjml2html(mjmlJson).html;\n    navigator.clipboard.writeText(await generatePreview(html));\n    success('Preview Image Copied to clipboard');\n  };\n\n  return (\n    <div className={css.editor}>\n      <div className={css.bank}>\n        <ComponentBank />\n      </div>\n      <div className={css.view}>\n        <Preview\n          visible={preview}\n          visibleChange={(flag) => setPreview(flag)}\n          inframeContent={preview ? mjml2html(mjmlJson).html : ''}\n        />\n        <Button\n          style={{ position: 'absolute', top: '8px', right: '16px', zIndex: 300 }}\n          key=\"3\"\n          onClick={() => setPreview(true)}\n        >\n          Preview\n        </Button>\n        <View />\n      </div>\n      <div className={css.attributes} style={{ position: 'relative' }}>\n        <OnlyAttributesDrawer />\n        <Attributes />\n      </div>\n    </div>\n  );\n});\n","import { Editor } from './Editor';\nimport { DNDContext } from '../../Context/DragAndDrop.context';\nimport { EDContext } from '../../Context/Editor.context';\nimport { Ckeditor } from '../../Context/Ckeditor.context';\nimport { HtmlContextProvider } from '../../Context/Htmlwrapper.context';\nimport { QuillEditor } from '../../Context/Quill.context';\nimport { CustomEditorProvider } from '../../Context/CustomEditor.context';\nimport { forwardRef } from 'react';\n\nconst wrapContext = forwardRef((props, ref) => (\n  <HtmlContextProvider>\n    <CustomEditorProvider>\n      <QuillEditor>\n        <Ckeditor>\n          <DNDContext>\n            <EDContext>\n              <Editor ref={ref} />\n            </EDContext>\n          </DNDContext>\n        </Ckeditor>\n      </QuillEditor>\n    </CustomEditorProvider>\n  </HtmlContextProvider>\n));\n\nexport default wrapContext;\n","import { Button, Col, Row, Modal, Layout, PageHeader, Input, Form, message } from 'antd';\nimport { useEffect, useRef, useState } from 'react';\nimport { Prompt } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { useSendMailMutation } from '../../Api/api';\nimport { success } from '../../Components/Messages';\nimport { logger } from '../../Utils/logger';\nimport { UNDOREDO } from '../../Utils/undoRedo';\nimport Editor from '../Editor/';\n\nconst { Content } = Layout;\nconst { confirm } = Modal;\n\nconst EditPage = () => {\n  const ref = useRef<any>(null);\n\n  const sendEmail = () => {\n    if (ref.current) {\n      const html = ref.current.getHtml();\n      console.log('html', html);\n    }\n  };\n\n  const copyJsonInClipBoard = (e: any) => {\n    if (ref.current) {\n      e.preventDefault();\n      const json = ref.current.getJson();\n      logger.log('json', json);\n      navigator.clipboard.writeText(json);\n      success('Copied to Clipboard & logged in devtools ');\n    }\n  };\n\n  const copyHTMLAsClipBoard = (e: any) => {\n    if (ref.current) {\n      const html = ref.current.html;\n      navigator.clipboard.writeText(html);\n      logger.log('html', html);\n      success('Copied to clipboard & logged in devtools ');\n      e.preventDefault();\n    }\n  };\n\n  return (\n    <div style={{ flex: '1', display: 'flex', width: '100%', height: '100%' }}>\n      <Row style={{ height: '100%', width: '100%' }} justify=\"center\">\n        <Prompt\n          when={UNDOREDO.undo.length > 1 || UNDOREDO.redo.length > 1}\n          message={() => 'Are you sure you want to leave, your changes will be lost'}\n        />\n        <Col lg={24} xl={0}>\n          <div style={{ textAlign: 'center', padding: '40px', paddingTop: '10%' }}>\n            <h3>Sorry, You need a device with a larger screen to perform editing, atleast '{'>'}=1200px'</h3>\n          </div>\n        </Col>\n        <Col xs={0} xl={24}>\n          <Layout style={{ height: '100%' }}>\n            <PageHeader\n              ghost={false}\n              onBack={() => window.history.back()}\n              title=\"dnde\"\n              subTitle=\"\"\n              style={{ borderBottom: '1px solid #e8e8e8' }}\n              extra={[\n                <>\n                  <SendTestMail editorRef={ref} key=\"4\" />\n                  {/* <Button key=\"5\" onClick={copyPreviewImage}>\n                Copy Preview Image\n              </Button> */}\n                  <Button key=\"2\" onClick={copyHTMLAsClipBoard}>\n                    Copy as html\n                  </Button>\n                  <Button key=\"1\" onClick={copyJsonInClipBoard}>\n                    Copy as json\n                  </Button>\n                </>,\n              ]}\n            ></PageHeader>\n            <Content>\n              <Editor ref={ref} />\n              <Button onClick={(e: any) => sendEmail()} style={{ position: 'absolute', bottom: '16px', right: '16px' }}>\n                gethtml\n              </Button>\n            </Content>\n          </Layout>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nexport { EditPage };\n\nlet MESSAGEID = 'sendMailid';\n\nconst SendTestMail = ({ editorRef }: { editorRef: any }) => {\n  const [form] = Form.useForm();\n  const [visible, setVisible] = useState(false);\n  const [sendMailApi, sendMailApiStatus] = useSendMailMutation();\n\n  const onOk = () => {\n    form.validateFields().then(async (values) => {\n      if (editorRef.current) {\n        const html = editorRef.current.getHtml();\n        if (html && html.trim().length > 0) {\n          message.loading({ content: 'mail is being sent', key: MESSAGEID, duration: 0 });\n          setVisible(false);\n          const result = (await sendMailApi({\n            to: values.email,\n            html: editorRef.current.getHtml(),\n          })\n            .unwrap()\n            .catch((e) => {\n              message.error({ content: 'unable to contact server', key: MESSAGEID, duration: 0 });\n            })) as any;\n          if (result) {\n            if (result.success) {\n              message.success({ content: result.success, key: MESSAGEID, duration: 4 });\n            } else if (result.error) {\n              message.error({ content: result.error, key: MESSAGEID, duration: 2 });\n            }\n          }\n        } else {\n          message.error('design can not be converted into html');\n        }\n        setVisible(false);\n      } else {\n        setVisible(false);\n      }\n    });\n  };\n\n  const onCancel = () => {\n    setVisible(false);\n  };\n\n  return (\n    <>\n      <Button key=\"2\" type=\"primary\" onClick={() => setVisible(!visible)}>\n        Send Test Mail\n      </Button>\n      <CustomModal\n        closable={false}\n        title={null}\n        visible={visible}\n        onOk={onOk}\n        onCancel={onCancel}\n        okText=\"sendMail\"\n        cancelText=\"cancel\"\n      >\n        <Form layout=\"vertical\" form={form}>\n          <Form.Item\n            label=\"Email\"\n            validateTrigger=\"onchange\"\n            name=\"email\"\n            rules={[{ required: true }, { type: 'email' }]}\n          >\n            <Input />\n          </Form.Item>\n        </Form>\n      </CustomModal>\n    </>\n  );\n};\n\nconst CustomModal = styled(Modal)`\n  .ant-modal-footer {\n    border-top: unset;\n  }\n\n  .ant-form-item {\n    margin-bottom: 0px;\n  }\n\n  .ant-modal-footer {\n    padding-top: 0px;\n  }\n`;\n","import { Routing } from './index.route';\n\nexport default Routing;\n","import { Switch, Route, Redirect } from 'react-router-dom';\nimport { List } from './List';\nimport { EditPage } from './EditPage';\n\nconst Routing = () => {\n  return (\n    <Switch>\n      <Route exact path={['', '/list']} component={List} />\n      <Route path=\"/template/:templateId\" component={EditPage} />\n      <Route path=\"*\">\n        <Redirect to=\"/\" />\n      </Route>\n    </Switch>\n  );\n};\n\nexport { Routing };\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  templates: [\n    {\n      id: 24234234,\n      preview: 'https://picsum.photos/320/550',\n    },\n    {\n      id: 4535345,\n      preview: 'https://picsum.photos/320/400',\n    },\n    {\n      id: 976824,\n      preview: 'https://picsum.photos/320/600',\n    },\n  ],\n};\nconst slice = createSlice({\n  name: 'templates',\n  initialState,\n  reducers: {},\n});\n\nexport const { reducer: templateListReducer } = slice;\n","import { configureStore } from '@reduxjs/toolkit';\nimport { FC } from 'react';\nimport { DndeApi } from '../Api/api';\nimport { templateListReducer } from './list';\n\nimport { Provider } from 'react-redux';\n\nconst store = configureStore({\n  reducer: { [DndeApi.reducerPath]: DndeApi.reducer, templateList: templateListReducer },\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(DndeApi.middleware),\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n\nexport const StoreProvider: FC = ({ children }) => {\n  return <Provider store={store}>{children}</Provider>;\n};\n","import React from 'react';\nimport { HashRouter } from 'react-router-dom';\nimport Pages from './Pages';\nimport 'antd/dist/antd.css';\nimport 'quill/dist/quill.snow.css';\nimport './App.scss';\nimport { StoreProvider } from './Store/store';\nimport { Modal } from 'antd';\n\nfunction App() {\n  return (\n    <StoreProvider>\n      <HashRouter\n        getUserConfirmation={async (message, callback) => {\n          const userConfirm = await new Promise<boolean>((resolve) => {\n            Modal.confirm({\n              title: message,\n              onOk: () => resolve(true),\n              onCancel: () => resolve(false),\n            });\n          });\n\n          callback(userConfirm);\n        }}\n      >\n        <div className=\"my-app\">\n          <Pages />\n        </div>\n      </HashRouter>\n    </StoreProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MyApp from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <MyApp />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Editor_layout__2Y-AK\",\"editor\":\"Editor_editor__qGS4j\",\"bank\":\"Editor_bank__3JqEw\",\"attributes\":\"Editor_attributes__32n0a\",\"components\":\"Editor_components__38eSg\",\"mods\":\"Editor_mods__3ZWIb\",\"columns\":\"Editor_columns__1Yrk0\",\"iconsContainer\":\"Editor_iconsContainer__KxyJq\",\"view\":\"Editor_view__eaZst\",\"viewHolder\":\"Editor_viewHolder__3pzWy\",\"title\":\"Editor_title__24LyS\"};"],"sourceRoot":""}