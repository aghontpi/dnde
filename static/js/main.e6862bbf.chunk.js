(this.webpackJsonpdnde=this.webpackJsonpdnde||[]).push([[0],{178:function(e,t,n){e.exports={wrapper:"UiWrapper_wrapper__23xNH",container:"UiWrapper_container__2hsjd",button:"UiWrapper_button__25Pv1",text:"UiWrapper_text__3oy98",image:"UiWrapper_image__3F-94",html:"UiWrapper_html__12ygP",spacer:"UiWrapper_spacer__1yYqc",divider:"UiWrapper_divider__B19qo",social:"UiWrapper_social__3MvUF",section:"UiWrapper_section__2ovUo"}},2069:function(e,t,n){},2070:function(e,t,n){e.exports={"ant-modal":"Preview_ant-modal__3_7T8","andt-modal-centered":"Preview_andt-modal-centered__3GZwp"}},2073:function(e,t,n){},2074:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),o=n(42),c=n.n(o),s=(n(311),n(50)),l=n.n(s),d=n(75),u=n(149),b=n(38),p=n(36),j=n(57),f=n(37),h=n(305),g=n.p+"static/media/new_template.3bcc1262.svg",m=n(5),v=f.a.div(a||(a=Object(p.a)(["\n  flex: 1 1 0%;\n  border: 0.4px solid rgb(225, 230, 242);\n  filter: drop-shadow(rgba(0, 0, 0, 0.08) 4px 4px 4px);\n  max-height: 500px;\n  min-height: 150px;\n  height: min-content;\n  max-width: 280px;\n  overflow: hidden;\n  border-radius: 4px;\n  margin-bottom: 25px;\n  transition: all 0.2s ease 0s;\n  position: relative;\n  text-align: center;\n  margin: 0 auto;\n\n  .hoverItem {\n    display: none;\n    position: absolute;\n    inset: 0px;\n    background: rgba(255, 255, 255, 0.9);\n    padding: 20px;\n    flex-direction: column;\n    .content {\n      display: flex;\n      flex: 1;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n    }\n  }\n\n  .hoverItem.alwaysActive {\n    display: flex;\n    background: unset;\n  }\n\n  &:hover {\n    box-shadow: rgb(0 0 0 / 15%) 0px 5px 20px;\n    .hoverItem {\n      display: flex;\n    }\n  }\n\n  img,\n  .newTemplate {\n    max-width: 280px;\n  }\n  .newTemplate {\n    max-height: 500px;\n    min-height: 250px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-bottom: 60px;\n  }\n\n  .btn-choose {\n    padding: 8px 16px;\n    text-transform: capitalize;\n  }\n"]))),x=function(){var e=Object(b.h)(),t=Object(b.j)().path;return Object(m.jsxs)(v,{children:[Object(m.jsx)("div",{className:"newTemplate",children:Object(m.jsx)(h.a,{style:{fontSize:"40px"}})}),Object(m.jsx)("div",{className:"hoverItem alwaysActive",children:Object(m.jsx)("div",{className:"content",children:Object(m.jsx)(j.a,{onClick:function(){e.push("".concat(t,"/template/new"))},size:"large",type:"primary",className:"btn-choose",children:"New Template"})})}),Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:g,alt:"img new template"})})]})},O=function(e){var t=e.image,n=e.id,a=e.skeleton,r=Object(b.h)(),i=Object(b.j)().path;return Object(m.jsxs)(v,{children:[a?Object(m.jsx)("div",{style:{height:"350px",minWidth:"280px",maxWidth:"280px",padding:"24px 24px"},children:a}):Object(m.jsx)("img",{height:"350px",src:t,alt:"preview"}),Object(m.jsx)("div",{className:"hoverItem",children:Object(m.jsx)("div",{className:"content",children:Object(m.jsx)(j.a,{onClick:function(){r.push("".concat(i,"/template/").concat(n))},size:"large",type:"primary",className:"btn-choose",children:"choose"})})})]})},y=(n(317),n(287)),k=n(58),w=Object(y.a)({baseQuery:Object(k.d)({baseUrl:"https://us-central1-dnde-f4e90.cloudfunctions.net/api"}),endpoints:function(e){return{getTemplates:e.query({query:function(){return"templates/"}}),getTemplate:e.query({query:function(e){var t=e.id;return"templates/".concat(t)}}),sendMail:e.mutation({query:function(e){return{url:"mail/demomail/",method:"POST",body:e}}})}}}),C=w.useGetTemplatesQuery,S=w.useLazyGetTemplateQuery,N=w.useSendMailMutation,A=n(2077),D=n(2078),E=n(2086),M=n(64),J=n.n(M),T=n(2094),P=function(){var e=C(),t=e.data,n=e.isLoading,a=(e.isError,e.isSuccess);return Object(m.jsx)(J.a,{autoHide:!0,style:{height:"100%"},children:Object(m.jsxs)("div",{className:"template",children:[Object(m.jsxs)(A.a,{align:"middle",justify:"center",className:"header",children:[Object(m.jsx)(D.a,{span:24,children:Object(m.jsx)(A.a,{align:"middle",justify:"center",children:Object(m.jsx)(D.a,{children:Object(m.jsx)("span",{className:"title",children:"Dnde"})})})}),Object(m.jsx)(D.a,{span:24,children:Object(m.jsx)(A.a,{align:"middle",justify:"center",children:Object(m.jsx)(D.a,{style:{textAlign:"center"},children:Object(m.jsxs)("span",{className:"subtitle",children:["Drag and Drop Editor tailored for ",Object(m.jsx)("b",{children:"Mails"})]})})})}),Object(m.jsx)(D.a,{style:{paddingTop:"24px"},span:24,children:Object(m.jsx)(A.a,{align:"middle",justify:"center",children:Object(m.jsxs)(D.a,{className:"info",md:24,lg:10,style:{textAlign:"center"},children:[Object(m.jsx)("span",{children:"All features are optimised for mails, work flexibly through import/export, with responsive design for all devices."}),Object(m.jsx)("br",{}),Object(m.jsx)("a",{target:"_blank",href:"https://github.com/aghontpi/dnde",children:Object(m.jsxs)("span",{children:["Check it on Github ",Object(m.jsx)(T.a,{style:{position:"relative",top:"4px",fontSize:"32px"}})]})})]})})})]}),Object(m.jsxs)(A.a,{className:"choose-template",align:"middle",gutter:[0,8],justify:"center",children:[Object(m.jsx)(D.a,{span:16,children:Object(m.jsx)("span",{className:"title",children:"Choose a template and get started."})}),Object(m.jsx)(D.a,{span:16,children:Object(m.jsx)("span",{className:"subtitle",children:"All templates are redesigned in dnde, using original mail as reference."})})]}),Object(m.jsxs)(A.a,{justify:"center",className:"template-list",gutter:[0,40],children:[Object(m.jsx)(D.a,{lg:6,children:Object(m.jsx)(x,{})}),n&&[1,2].map((function(e,t){return Object(m.jsx)(D.a,{xs:24,md:12,lg:6,style:{textAlign:"center"},children:Object(m.jsx)(O,{id:"8x93dummy",skeleton:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(E.a,{active:!0}),Object(m.jsx)(E.a,{active:!0})]})},t)})})),a&&t?t.response.map((function(e,t){return Object(m.jsx)(D.a,{lg:6,children:Object(m.jsx)(O,{id:e.docRef,image:e.preview},t)})})):null]})]})})},z=n(9),_=n(2080),I=n(2087),L=n(2082),B=n(2083),R=n(303),q=n(2084),H=function(e){R.b.success(e)},F=function(){var e;(e=console).log.apply(e,arguments)},U=function(){var e;(e=console).error.apply(e,arguments)},W=function(){var e;(e=console).info.apply(e,arguments)},Y=n(289),X=n(290),V=n(10),G=n.n(V),K=new(function(){function e(){Object(Y.a)(this,e),this.undo=void 0,this.redo=void 0,this.undo=[],this.redo=[]}return Object(X.a)(e,[{key:"newAction",value:function(e){this.undo.length>0&&G.a.isEqual(e,this.peekUndo())?F("undoredo: prev action and new action are same, not performing action"):(this.undo.push(this.copy(e)),this.redo=[],this.storeToLocalStorage())}},{key:"undoAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.undo.length<1)return!1;var t=this.copy(this.undo.pop());return this.redo.push(t),e&&G.a.isEqual(t,e)?(F("undoredo: undo action but view and current are same, proceeding one more step"),this.undoAction(e)):t}},{key:"redoAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.redo.length<1)return!1;var t=this.copy(this.redo.pop());return this.undo.push(t),e&&G.a.isEqual(t,e)?(F("undoredo: redo action but view and current are same, proceeding one more step"),this.redoAction(e)):t}},{key:"peekUndo",value:function(){var e=!1;return this.undo.length>0&&(e=this.copy(this.undo[this.undo.length-1])),e}},{key:"peekRedo",value:function(){var e=!1;return this.redo.length>0&&(e=this.redo[this.redo.length-1]),e}},{key:"isUndoEmpty",value:function(){return 0===this.undo.length}},{key:"isRedoEmpty",value:function(){return 0===this.redo.length}},{key:"reset",value:function(){this.undo=[],this.redo=[]}},{key:"print",value:function(){F("undoredo: ",this.undo,this.redo)}},{key:"storeToLocalStorage",value:function(){try{localStorage.setItem("actions",JSON.stringify(this.undo[this.undo.length-1]))}catch(e){F("undoredo: error storing to local storage"),F("undoredo: it is possible this occured due to storage limit in localStorage,truncating undo")}}},{key:"copy",value:function(e){return G.a.cloneDeep(e)}}]),e}());window.UNDOREO=K;var Q,Z,$=n(12),ee=n(117),te={mutableAttributes:{},id:"",type:""},ne=Object(r.createContext)(te),ae=function(e){var t=Object(r.useRef)(1);return Object(m.jsx)(ne.Provider,{value:{genId:function(){if(t.current&&"number"===typeof t.current)return++t.current}},children:e.children})},re=function(){var e=Object(r.useContext)(ne).genId;return{getId:function(){return e()}}},ie=Object(r.createContext)(null),oe=function(e){var t=Object(r.useRef)(null),n=Object(r.useRef)(null),a=Object(r.useState)(!1),i=Object(z.a)(a,2),o=i[0],c=i[1],s=Object(r.useState)(0),l=Object(z.a)(s,2),d=l[0],u=l[1],b=Object(r.useState)(0),p=Object(z.a)(b,2),j=p[0],f=p[1],h=Object(r.useState)(!1),g=Object(z.a)(h,2),v=g[0],x=g[1],O=Object(r.useState)(0),y=Object(z.a)(O,2),k=y[0],w=y[1],C=Object(r.useState)(0),S=Object(z.a)(C,2),N=S[0],A=S[1],D=Object(r.useState)(!1),E=Object(z.a)(D,2),M=E[0],J=E[1],T=Object(r.useState)(0),P=Object(z.a)(T,2),_=P[0],I=P[1],L=Object(r.useState)(0),B=Object(z.a)(L,2),R=B[0],q=B[1],H=Object(r.useState)(!1),F=Object(z.a)(H,2),U=F[0],W=F[1];return Object(m.jsx)(ie.Provider,{value:{ref:t,isActive:o,setActive:c,x:d,y:j,setX:u,setY:f,delX:k,delY:N,setDelX:w,setDelY:A,drag:{isColumn:U,setIsColumn:W},copy:{copyActive:M,setCopyActive:J,copyX:_,setCopyX:I,copyY:R,setCopyY:q},delActive:v,setDelActive:x,ckeditorInstance:n},children:e.children})},ce=function(){return Object(r.useContext)(ie)},se=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(void 0===t)return null;var r=t;if(r.attributes&&r.attributes["css-class"]){var i=r.attributes["css-class"];if(i.includes(n))return[r,a]}if(r.children)for(var o=0;o<r.children.length;o++){var c=r.children[o],s=e(c,n,a+".children[".concat(o,"]"));if(s)return s}return null},le=function(e){var t=e.closest(".mjml-tag"),n=null;return t?((n=de(t,t.classList))||W("unable to find identifier"),n):(W("unable to find closest"),n)},de=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"identifier-mj",a=null,r=0;t&&r<t.length;r++){var i=t[r];if(i.includes(n)){a=i;break}}return a},ue=function(e){return de(null,e.split(" "))},be=function e(t,n){if(t){for(var a=0;t.children&&a<t.children.length;a++)t.children[a]=e(t.children[a],n);var r=t.attributes;if(r){var i=r["css-class"];i=function(e,t){var n="";if("string"!==typeof e)return F("classNames should be string while generating uniqueIdentifier, but found ".concat(typeof e," instead")),null;for(var a=e.split(" "),r=0;r<a.length;r++){var i=a[r];if(i.includes("identifier-mj")){var o=(i=i.trim()).match(/-(\d+)/),c=i;i=o?i.replace(o[0],"-".concat(t)):" ".concat(i,"-").concat(t),F("generating-tag: ".concat(c," -> ").concat(i," "))}n+=" ".concat(i)}return n}(i,n()),r["css-class"]=i}return t.attributes=r,t}},pe=function(e,t){for(var n=0;t&&e&&e.length>0&&n<e.length;n++){var a=e[n];if(a&&a.attributes&&a.attributes["css-class"].includes(t))return n}return-1},je=function(e,t){if(e&&e.dataTransfer){e.dataTransfer.effectAllowed="move";var n=e.target;e.dataTransfer.setDragImage(n,-5,-5),e.dataTransfer.setData("config",JSON.stringify(t))}},fe=[{tagName:"mj-image",attributes:{src:"https://dev.bluepie.in/assets/87583817874843.svg","css-class":"mj-placeholder",width:"120px"}},{tagName:"mj-text",attributes:{"padding-top":"0px","font-size":"16px",align:"center","css-class":"mj-placeholder"},content:"drag and drop a content block here!"}],he={tagName:"mj-column",attributes:{"css-class":"mjml-tag identifier-mj-column",padding:"0px 0px"},children:[].concat(fe),mutableProperties:["background-color","inner-background-color","border","border-bottom","border-left","border-right","border-top","border-radius","inner-border","inner-border-bottom","inner-border-left","inner-border-right","inner-border-top","inner-border-radius","width","vertical-align","padding","padding-top","padding-bottom","padding-left","padding-right","css-class"]},ge={tagName:"mj-section",attributes:Object($.a)(Object($.a)({},{align:"center","background-color":"#414141",border:"none","border-radius":"3px",color:"#ffffff","font-family":"Ubuntu, Helvetica, Arial, sans-serif","font-size":"13px","font-weight":"normal","inner-padding":"10px 25px","line-height":"120%",padding:"10px 25px",target:"_blank","text-align":"none","text-decoration":"none","text-transform":"none","vertical-align":"middle"}),{},{"css-class":"mjml-tag identifier-mj-section","border-radius":"0px","background-color":"#fff","text-align":"center"}),children:[],cannot_have:["mj-section","mj-column"],mutableProperties:["background-color","background-position","background-position-x","background-position-y","background-repeat","background-size","background-url","border","border-bottom","border-left","border-radius","border-right","border-top","css-class","direction","full-width","padding","padding-bottom","padding-left","padding-right","padding-top","text-align"]},me=(Object(f.a)(A.a)(Q||(Q=Object(p.a)(["\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n  p {\n    text-align: inherit;\n    color: rgb(85, 85, 85);\n    font-size: 14px;\n    font-weight: 600;\n  }\n"]))),Object(f.a)(A.a)(Z||(Z=Object(p.a)(["\n  background-color: rgb(252, 252, 252);\n  border: 1px solid rgb(229, 229, 229);\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: flex;\n  box-shadow: none;\n  cursor: grab;\n\n  &:hover {\n    background-color: rgb(255, 255, 255);\n    box-shadow: rgb(0 0 0 / 20%) 0px 1px 4px;\n    border-color: rgb(255, 255, 255);\n  }\n\n  .wrapper {\n    margin: 10px;\n    background-color: rgb(255, 255, 255);\n    position: relative;\n    width: 100%;\n    display: flex;\n    border-radius: 3px;\n    box-sizing: border-box;\n\n    .border {\n      border: 1px solid rgb(85, 85, 85);\n      border-radius: 3px;\n      display: flex;\n      -webkit-box-align: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n    }\n  }\n"]))),{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,a,r,i,o,c,s="",l=0;for(e=me._utf8_encode(e);l<e.length;)r=(t=e.charCodeAt(l++))>>2,i=(3&t)<<4|(n=e.charCodeAt(l++))>>4,o=(15&n)<<2|(a=e.charCodeAt(l++))>>6,c=63&a,isNaN(n)?o=c=64:isNaN(a)&&(c=64),s=s+this._keyStr.charAt(r)+this._keyStr.charAt(i)+this._keyStr.charAt(o)+this._keyStr.charAt(c);return s},decode:function(e){var t,n,a,r,i,o,c="",s=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");s<e.length;)t=this._keyStr.indexOf(e.charAt(s++))<<2|(r=this._keyStr.indexOf(e.charAt(s++)))>>4,n=(15&r)<<4|(i=this._keyStr.indexOf(e.charAt(s++)))>>2,a=(3&i)<<6|(o=this._keyStr.indexOf(e.charAt(s++))),c+=String.fromCharCode(t),64!=i&&(c+=String.fromCharCode(n)),64!=o&&(c+=String.fromCharCode(a));return c=me._utf8_decode(c)},_utf8_encode:function(e){var t="";e=e.replace(/\r\n/g,"\n");for(var n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t},_utf8_decode:function(e){var t,n,a,r="",i=0;for(t=n=0;i<e.length;)(t=e.charCodeAt(i))<128?(r+=String.fromCharCode(t),i++):t>191&&t<224?(n=e.charCodeAt(i+1),r+=String.fromCharCode((31&t)<<6|63&n),i+=2):(n=e.charCodeAt(i+1),a=e.charCodeAt(i+2),r+=String.fromCharCode((15&t)<<12|(63&n)<<6|63&a),i+=3);return r}}),ve=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t)return null;if(t.attributes&&t.attributes["css-class"]){var a=t.attributes["css-class"];if(a.includes("placeitem-placeholder"))return null}for(var r=n&&t.attributes&&t.attributes["css-class"]&&t.attributes["css-class"].includes(n),i=[],o=0;t.children&&o<t.children.length;o++){var c=t.children[o],s=r?c:e(c,n);s&&i.push(s)}return t&&"mj-column"===t.tagName&&0===i.length&&i.push.apply(i,Object(ee.a)(fe)),i.length&&(t.children=i),t},xe=function e(t){if(t){if(t.attributes&&t.attributes["css-class"]){var n=t.attributes["css-class"];n=n.split(" ");for(var a=[],r=0;r<n.length;r++){var i=n[r];i.includes("identifier-mj")||i.includes("mj-placeholder")||i.includes("placeitem-placeholder")||a.push(i)}a.length&&(n=a.join(" "))}t.content&&(t.content=me.encode(t.content));for(var o=[],c=0;t.children&&c<t.children.length;c++){var s=t.children[c],l=e(s);l&&o.push(l)}return o.length&&(t.children=o),t}};function Oe(e){if(e){e.content&&(e.content=me.decode(e.content));for(var t=[],n=0;e.children&&n<e.children.length;n++){var a=Oe(e.children[n]);a&&t.push(a)}return t.length&&(e.children=t),e}}var ye,ke,we,Ce,Se,Ne,Ae,De,Ee,Me,Je,Te,Pe,ze,_e,Ie,Le=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=be(e,t);n||(a=Oe(a));var r=[];if(a&&a.tagName&&"mjml"===a.tagName&&a.children&&a.children.length>1){for(var i=a.children[0].children,o=0;i&&o<i.length;o++){var c=i[o];c&&(c.tagName.includes("title")||c.tagName.includes("style"))&&r.push(c)}for(var s=G.a.cloneDeep(Re),l=0;s&&l<s.length;l++){var d=s[l];d&&(d.tagName.includes("title")||d.tagName.includes("style"))||r.push(d)}a.children[0].children=r}return F("::import -> processedJson",a),a},Be=(n(134),Object(r.createContext)(null)),Re=[{tagName:"mj-title",content:"dnde-editor"},{tagName:"mj-style",content:"a{text-decoration:none!important} .htmlblock {}"},{tagName:"mj-attributes",children:[{tagName:"mj-text",attributes:{"font-family":"Ubuntu"}}]}].concat(Object(ee.a)([{name:"Roboto",value:"https://fonts.googleapis.com/css2?family=Roboto&display=swap"},{name:"Festive",value:"https://fonts.googleapis.com/css2?family=Festive&display=swap"},{name:"Noto Sans Mono",value:"https://fonts.googleapis.com/css2?family=Noto+Sans+Mono&display=swap"},{name:"Open Sans",value:"https://fonts.googleapis.com/css2?family=Open+Sans&display=swap"},{name:"Andada Pro",value:"https://fonts.googleapis.com/css2?family=Andada+Pro&display=swap"},{name:"Lato",value:"https://fonts.googleapis.com/css2?family=Lato&display=swap"},{name:"Scheherazade New",value:"https://fonts.googleapis.com/css2?family=Scheherazade+New&display=swap"},{name:"Montserrat",value:"https://fonts.googleapis.com/css2?family=Montserrat&display=swap"},{name:"Roboto Condensed",value:"https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap"},{name:"Source Sans Pro",value:"https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap"},{name:"Poppins",value:"https://fonts.googleapis.com/css2?family=Poppins&display=swap"},{name:"Oswald",value:"https://fonts.googleapis.com/css2?family=Oswald&display=swap"},{name:"Noto sans",value:"https://fonts.googleapis.com/css2?family=Noto+sans&display=swap"},{name:"Georama",value:"https://fonts.googleapis.com/css2?family=Georama&display=swap"},{name:"Roboto Mono",value:"https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap"},{name:"Raleway",value:"https://fonts.googleapis.com/css2?family=Raleway&display=swap"},{name:"Nunito",value:"https://fonts.googleapis.com/css2?family=Nunito&display=swap"},{name:"Roboto Slab",value:"https://fonts.googleapis.com/css2?family=Roboto+Slab&display=swap"},{name:"PT Sans",value:"https://fonts.googleapis.com/css2?family=PT+Sans&display=swap"},{name:"Merriweather",value:"https://fonts.googleapis.com/css2?family=Merriweather&display=swap"},{name:"Playfair Display",value:"https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap"},{name:"Lora",value:"https://fonts.googleapis.com/css2?family=Lora&display=swap"},{name:"Rubix",value:"https://fonts.googleapis.com/css2?family=Rubix&display=swap"},{name:"IM Fell English SC",value:"https://fonts.googleapis.com/css2?family=IM+Fell+English+SC&display=swap"},{name:"Open Sans Condensed",value:"https://fonts.googleapis.com/css2?family=Open+Sans+Condensed&display=swap"},{name:"Inter",value:"https://fonts.googleapis.com/css2?family=Inter&display=swap"},{name:"Nunito Sans",value:"https://fonts.googleapis.com/css2?family=Nunito+Sans&display=swap"},{name:"Work Sans",value:"https://fonts.googleapis.com/css2?family=Work+Sans&display=swap"},{name:"Quicksand",value:"https://fonts.googleapis.com/css2?family=Quicksand&display=swap"},{name:"Fira Sans",value:"https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap"},{name:"Ubuntu",value:"https://fonts.googleapis.com/css2?family=Ubuntu&display=swap"}].map((function(e){return{tagName:"mj-font",attributes:{name:e.name,href:e.value}}})))),qe={tagName:"mjml",children:[{tagName:"mj-head",attributes:{},children:Re},{tagName:"mj-body",attributes:{"css-class":"mjml-tag identifier-mj-body","background-color":"grey",width:"600px"},children:[],mutableProperties:["width","background-color"]}],attributes:{}},He="loading",Fe=function(e){var t=Object(b.i)().templateId,n=re().getId,a=Object(r.useState)(null),i=Object(z.a)(a,2),o=i[0],c=i[1],s=S(),u=Object(z.a)(s,2),p=u[0],j=u[1],f=j.data,h=j.isError,g=j.isLoading,v=j.isSuccess;Object(r.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!1,e.next=5;break;case 4:t=e.sent;case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){e||("new"===t||"undefined"===typeof t?(K.newAction(G.a.cloneDeep(qe)),c(G.a.cloneDeep(qe))):t&&(R.b.loading({content:"Fetching Template...",key:He,duration:0}),p({id:t})))}))}),[]),Object(r.useEffect)((function(){if(v&&f)try{var e=Le(JSON.parse(f.response.data),n);c(e),K.newAction(G.a.cloneDeep(e))}catch(t){R.b.error("Unable to load template",3)}else v&&!f&&R.b.error("Template is empty",2);v&&R.b.destroy(He),h&&R.b.info("Network error, template not fetched.",2)}),[h,g,v,f]);var x=Object(r.useState)({}),O=Object(z.a)(x,2),y=O[0],k=O[1];return Object(m.jsx)(Be.Provider,{value:{mjmlJson:o,setMjmlJson:c,attributes:y,setAttributes:k},children:e.children})},Ue=Object(r.createContext)(null),We=Object(r.memo)((function(e){var t=Object(r.useState)([]),n=Object(z.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(),c=Object(z.a)(o,2),s=c[0],l=c[1],d=Object(r.useState)(),u=Object(z.a)(d,2),b=u[0],p=u[1],j=Object(r.useRef)(1),f=Object(r.useState)(1),h=Object(z.a)(f,2),g=h[0],v=h[1];return Object(m.jsxs)(Ue.Provider,{value:{uiList:a,setUIWrapperList:i,activeHover:s,setActiveHover:l,active:b,setActive:p,id:g,setId:v,getId:function(){v(g+1),F("getId",g)}},children:[Object(m.jsx)("div",{children:Object(m.jsxs)(m.Fragment,{children:[F("uiContextRerendering",j.current++)," "]})}),e.children]})})),Ye=function(){return Object(r.useContext)(Ue)},Xe=function(){return Object(r.useContext)(Be)},Ve=n(120),Ge=n.n(Ve),Ke=n(65),Qe=n.n(Ke),Ze=n(291),$e=Object(r.createContext)({position:{x:0,y:0,setX:function(){},setY:function(){}},status:{active:!1,setActive:function(){}}}),et=function(e){var t=Object(r.useState)(0),n=Object(z.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(0),c=Object(z.a)(o,2),s=c[0],l=c[1],d=Object(r.useState)(!1),u=Object(z.a)(d,2),b=u[0],p=u[1];return Object(m.jsx)($e.Provider,{value:{position:{x:a,y:s,setX:i,setY:l},status:{active:b,setActive:p}},children:e.children})},tt=function(){return Object(r.useContext)($e).position},nt=function(){return Object(r.useContext)($e).status},at=function(e,t){return rt(e,t)&&e.children&&e.children<1},rt=function(e,t){if(!t)return!1;if("body"===t)t="identifier-mj-body";else if("section"===t)t="identifier-mj-section";else{if("column"!==t)return!1;t="identifier-mj-column"}return e.props&&e.props.className&&"string"===typeof e.props.className&&e.props.className.includes(t)},it=function e(t,n){if(!t)return null;var a=t.closest(".mjml-tag");if(a&&a.classList){var r=de(a,a.classList);if(r&&r.includes(n))return[a,r];a=a.parentElement}return e(a,n)},ot=function(e){return it(e,"mj-section")},ct=function(e,t){var n=t.getBoundingClientRect(),a=e.clientX,r=e.clientY,i=n&&a&&r&&!0;return(a<n.left||a>n.right)&&(i=!1),(r<n.top||r>n.bottom)&&(i=!1),i},st=function(e){var t=e.mjmlJson,n=e.setMjmlJson,a=e.columnElement,r=e.event,i=e.currentTarget,o=e.nearestTag;if(a&&o){var c=i.closest(".".concat(o));if(c&&a&&ct(r,a)){var s=function(e,t){var n=t.getBoundingClientRect(),a=e.clientY;if(ct(e,t)){var r=Object(V.floor)((n.bottom-n.top)/2)+n.top;if(a<r)return"top";if(a>r)return"bottom"}return!1}(r,c);if(s){var l=se(G.a.cloneDeep(t),o);if(l){for(var d=Object(z.a)(l,2)[1],u=d.slice(1,d.lastIndexOf(".children")),b=G.a.get(G.a.cloneDeep(t),u),p=[],j=0;b&&b.children&&j<b.children.length;j++){var f=b.children[j];F(f);var h=f.attributes&&f.attributes["css-class"];h&&h.includes("placeitem-placeholder")||(h&&h.includes(o)?"top"===s?p.push(lt,f):"bottom"===s&&p.push(f,lt):p.push(f))}if(b&&p.length>0){b.children=p;var g=G.a.set(G.a.cloneDeep(t),u,b),m=de(a,a.classList,"identifier-mj-column");if(m){var v=ve(g,m);G.a.isEqual(t,v)?F("::update:: -> but elements are the same, not triggering rerender"):(F("::update::",t,v),n(Object($.a)({},v)))}else G.a.isEqual(t,g)?F("::update:: -> but elements are the same, not triggering rerender"):(F("::update::",t,g),n(Object($.a)({},g)))}}}}}},lt={tagName:"mj-text",attributes:{align:"center","css-class":"placeitem-placeholder"},content:'<div style="padding:24px">  </div>'},dt=function(e){var t="content",n=e.match(/identifier-mj-(.*)/);return n&&((t=n[1]).includes("social-element")&&(t=t.replace("social-element","icon")),t.includes("-")&&(t=t.split("-")[0])),t},ut=n(2092),bt=n(2101),pt=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"up",r=ue(e);if(r){var i=se(t,r),o=se(t,"identifier-mj-body");if(i&&o){for(var c=Object(z.a)(o,2),s=c[0],l=c[1],d=Object(z.a)(i,1),u=d[0],b=[],p=-1,j=0;s.children.length>1&&j<s.children.length;j++){var f=s.children[j];if(f&&f.attributes&&f.attributes["css-class"].includes(r)){p=j;break}}if(-1!==p)for(var h=0;s.children.length>1&&h<s.children.length;h++){var g=s.children[h];if(g&&"up"===a){if(h===p-1){b.push(u),b.push(g),h+=1;continue}b.push(g)}if(g&&"down"===a){if(h===p){var m=s.children[h+1];b.push(m),b.push(u),h+=1;continue}b.push(g)}}if(b.length>1){var v=G.a.cloneDeep(s);v.children=G.a.cloneDeep(b);var x=G.a.set(t,l.slice(1),v);K.newAction(x),n(Object($.a)({},x))}}}},jt=n(2085),ft=n(296),ht=n(2095),gt=n(2096),mt=n(2097),vt=n(2098),xt=n(2099),Ot=n(2100),yt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";switch(e&&(e.preventDefault(),e.stopPropagation()),F("editor action:",t,n),t){case"bold":document.execCommand("bold");break;case"underline":document.execCommand("underline");break;case"italics":document.execCommand("italic");break;case"size":document.execCommand("fontSize",!1,n);break;case"color":document.execCommand("backColor",!1,n);break;case"fontColor":document.execCommand("foreColor",!1,n);break;case"fontFamily":document.execCommand("fontName",!1,n);break;default:W("unhandled action ".concat(t))}return!1},kt=n(115),wt=function(e){var t=e.handleChange,n=e.mouseDown,a=Object(r.useState)((function(){return"#ccc"})),i=Object(z.a)(a,2),o=i[0],c=i[1];return Object(m.jsx)(St,{onMouseDown:function(e){n||(e.preventDefault(),e.stopPropagation())},color:o,children:Object(m.jsx)("div",{className:"popover",children:Object(m.jsx)(kt.a,{disableAlpha:!1,color:o,onChange:function(e){return function(e){var n="".concat(e.hex).concat(Ct(e.rgb.a));c(n),t("rgba(".concat(e.rgb.r,",").concat(e.rgb.g,",").concat(e.rgb.b,",").concat(e.rgb.a,")"))}(e)}})})})},Ct=function(e){return 0===e?"00":Math.round(255*e).toString(16)},St=f.a.div(ye||(ye=Object(p.a)(["\n  display: inline-block;\n  .ant-popover-inner-content {\n    padding: 0;\n  }\n"]))),Nt=function(e){var t=e.activePath,n=e.label,a=e.overrideAttribute||"background-color",i=Xe(),o=i.mjmlJson,c=i.setMjmlJson,s=Object(r.useState)((function(){return!1})),l=Object(z.a)(s,2),d=l[0],u=l[1],b=Object(r.useState)((function(){return"#ccc"})),p=Object(z.a)(b,2),j=p[0],f=p[1],h=Yt({attribute:a,customPath:t}),g=Object(z.a)(h,2),v=g[0],x=g[1];Object(r.useEffect)((function(){if(v&&x){var e=G.a.get(o,x);e&&e.attributes&&e.attributes[a]&&f(e.attributes[a])}F("background reloading,",x,v)}),[x,v]);return v?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(A.a,{children:[Object(m.jsx)(D.a,{flex:"auto",children:Object(m.jsx)(B.a.Item,{label:n||"Background"})}),Object(m.jsxs)(Dt,{color:j,flex:"none",children:[Object(m.jsx)("div",{className:"swatch",onClick:function(){return u(!0)},children:Object(m.jsx)("div",{className:"color"})}),d?Object(m.jsxs)("div",{className:"popover",children:[Object(m.jsx)("div",{className:"cover",onClick:function(){return u(!1)}}),Object(m.jsx)(kt.a,{disableAlpha:!1,color:j,onChange:function(e){return function(e){var t="".concat(e.hex).concat(At(e.rgb.a));if(f(t),x&&v){var n=G.a.get(o,x);n.attributes[a]=t;var r=G.a.set(o,x,n);c(Object($.a)({},r))}}(e)}})]}):null]})]})}):null},At=function(e){return 0===e?"00":Math.round(255*e).toString(16)},Dt=Object(f.a)(D.a)(ke||(ke=Object(p.a)(["\n  .color {\n    width: 25px;\n    height: 25px;\n    border-radius: 2px;\n    background: ",";\n  }\n  .swatch {\n    padding: 5px;\n    background: #fff;\n    border-radius: 1px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .popover {\n    position: absolute;\n    z-index: 2;\n    top: -108px;\n    left: -200px;\n  }\n\n  .cover {\n    position: fixed;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n  }\n"])),(function(e){return e.color})),Et="width",Mt=function(e){var t=e.activePath,n=Yt({attribute:Et,customPath:t}),a=Object(z.a)(n,2),i=a[0],o=a[1],c=Xe(),s=c.mjmlJson,l=c.setMjmlJson,d=Object(r.useState)(""),u=Object(z.a)(d,2),b=u[0],p=u[1],j=Xt({path:o,visible:i,attribute:Et}).getValue;Object(r.useEffect)((function(){i&&p(j())}),[i]);return i?Object(m.jsx)(B.a.Item,{label:"Width",children:Object(m.jsx)(q.a,{onChange:function(e){if(p(e.target.value),""!==e.target.value&&"%"!==e.target.value||(e.target.value="0"),i&&o&&e.target.value){var t,n=G.a.get(s,o);n.attributes.width=e.target.value,t=G.a.set(s,o,n),l(Object($.a)({},t))}},value:b,onKeyDown:function(e){1===e.currentTarget.value.length&&"Backspace"===e.key&&(e.currentTarget.value="")}})}):null},Jt="height",Tt=function(){var e=Yt({attribute:Jt}),t=Object(z.a)(e,2),n=t[0],a=t[1],i=Xe(),o=i.mjmlJson,c=i.setMjmlJson,s=Xt({path:a,visible:n,attribute:Jt}).getValue,l=Object(r.useState)(""),d=Object(z.a)(l,2),u=d[0],b=d[1];Object(r.useEffect)((function(){n&&b(s())}),[n]);return n?Object(m.jsx)(B.a.Item,{label:"Height",children:Object(m.jsx)(q.a,{onChange:function(e){if(b(e.target.value),""!==e.target.value&&"%"!==e.target.value||(e.target.value=""),n&&a&&e.target.value){var t,r=G.a.get(o,a);r.attributes.height=e.target.value,t=G.a.set(o,a,r),c(Object($.a)({},t))}},value:u,onKeyDown:function(e){1===e.currentTarget.value.length&&"Backspace"===e.key&&(e.currentTarget.value="")}})}):null},Pt=function(e){var t=e.itemIndex,n=Object(r.useState)(),a=Object(z.a)(n,2),i=a[0],o=a[1],c=Xe(),s=c.mjmlJson,l=c.setMjmlJson;Object(r.useEffect)((function(){if(-1!==t){var e=s.children[0].children[t];e&&e.content&&o(e.content)}}),[t]);return Object(m.jsx)(B.a.Item,{children:Object(m.jsx)(A.a,{children:Object(m.jsx)(D.a,{span:24,children:Object(m.jsx)(q.a,{addonBefore:"title",value:i,onBlur:function(e){if(e&&-1!==t){var n=G.a.cloneDeep(s.children[0].children[t]);if(n){n.content=e.target.value;var a=G.a.set(s,"children[0].children[".concat(t,"]"),n);l(Object($.a)({},a))}}},onChange:function(e){-1!==t&&o(e.target.value)}})})})})},zt=n(94),_t=n(2091),It=n(85),Lt=n.n(It),Bt=function(){var e=Xe(),t=e.mjmlJson,n=e.setMjmlJson,a=Object(r.useState)([]),i=Object(z.a)(a,2),o=i[0],c=i[1],s=Object(r.useState)(!1),l=Object(z.a)(s,2),d=l[0],u=l[1];Object(r.useEffect)((function(){if(t){var e=t.children[0];if(e&&e.children){var n=e.children.filter((function(e){return e&&e.tagName&&e.tagName.includes("font")}));n.length>0&&n.lenght!==o.length&&c(n)}}}),[]),Object(r.useEffect)((function(){if(t){var e=t.children[0];if(e&&e.children){var n=e.children.filter((function(e){return e&&e.tagName&&e.tagName.includes("font")}));n.length>0&&n.lenght!==o.length&&c(n)}}}),[t]);return Object(m.jsx)(Lt.a,{children:Object(m.jsxs)(A.a,{children:[Object(m.jsx)(D.a,{span:24,style:{justifyContent:"center",paddingBottom:"24px",display:"flex",rowGap:"6px",flexWrap:"wrap"},children:o&&o.length>0&&o.map((function(e,a){return e.attributes&&e.attributes.href&&e.attributes.name?Object(m.jsx)(zt.a,{title:e.attributes.href,children:Object(m.jsx)(_t.a,{closable:!0,onClose:function(){return function(e){var a=G.a.cloneDeep(t.children[0]);if(a&&a.children){var r=a.children.filter((function(t){return!(t&&t.tagName&&t.tagName.includes("font"))||t.attributes.name!==e}));a.children=r,c(r);var i=G.a.set(t,"children[0]",a);i&&(c(a.children.filter((function(e){return e&&e.tagName&&e.tagName.includes("font")}))),n(Object($.a)({},i)))}}(e.attributes.name)},children:e.attributes.name})},a):null}))}),Object(m.jsx)(D.a,{span:24,style:{textAlign:"center"},children:Object(m.jsx)(ft.a,{visible:d,trigger:"click",placement:"bottom",content:Object(m.jsx)(qt,{addCustomFontClick:function(e,a){if(t){var r=G.a.cloneDeep(t.children[0]);if(r&&r.children){r.children.push({tagName:"mj-font",attributes:{name:e,href:a}});var i=G.a.set(t,"children[0]",r);i&&(c(r.children.filter((function(e){return e&&e.tagName&&e.tagName.includes("font")}))),n(Object($.a)({},i)))}}},popOverCallBacK:u}),children:Object(m.jsx)(j.a,{onClick:function(e){return u(!d)},children:"Add custom font"})})})]})})},Rt=f.a.div(we||(we=Object(p.a)(["\n  .ant-form-item {\n    margin-bottom: 8px;\n  }\n"]))),qt=function(e){var t=e.addCustomFontClick,n=e.popOverCallBacK,a=Object(r.useState)(""),i=Object(z.a)(a,2),o=i[0],c=i[1],s=Object(r.useState)(""),l=Object(z.a)(s,2),d=l[0],u=l[1];return Object(m.jsxs)(Rt,{children:[Object(m.jsx)(Lt.a,{children:Object(m.jsx)(q.a,{addonBefore:"name",value:o,onChange:function(e){return c(e.target.value)}})}),Object(m.jsx)(Lt.a,{children:Object(m.jsx)(q.a,{addonBefore:"url",value:d,onChange:function(e){return u(e.target.value)}})}),Object(m.jsxs)(Lt.a,{style:{textAlign:"center"},children:[Object(m.jsx)(j.a,{onClick:function(){n(!1),o&&d&&t(o,d)},children:"add"}),Object(m.jsx)(j.a,{style:{marginLeft:"6px"},onClick:function(){n(!1)},children:"cancel"})]})]})},Ht="children[1]",Ft=f.a.div(Ce||(Ce=Object(p.a)(["\n  padding: 16px 0px;\n  .title {\n    font-size: 14px;\n    font-weight: 600;\n  }\n  .props-container {\n    padding: 16px;\n  }\n"]))),Ut=function(){var e=Xe().mjmlJson,t=Object(r.useState)(-1),n=Object(z.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(-1),c=Object(z.a)(o,2),s=(c[0],c[1]);return Object(r.useEffect)((function(){if(e&&e.children&&e.children.length>0){var t=e.children[0];if(t&&t.tagName&&t.tagName.includes("head")&&t.children&&t.children.length>0)for(var n=t.children,a=0;a<n.length;a++){var r=n[a];r&&r.tagName&&r.tagName.includes("title")?i(a):r.tagName.includes("style")&&s(a)}}}),[]),Object(m.jsxs)(Ft,{onMouseDown:function(t){K.newAction(e)},onBlur:function(t){K.newAction(e)},children:[Object(m.jsx)(Wt,{title:"Body Properties"}),Object(m.jsxs)("div",{className:"props-container",children:[Object(m.jsx)(Mt,{activePath:Ht}),Object(m.jsx)(Nt,{activePath:Ht,label:"Body Background:"})]}),Object(m.jsx)(Wt,{title:"Head Properties"}),Object(m.jsx)("div",{className:"props-container",children:Object(m.jsx)(Pt,{itemIndex:a})}),Object(m.jsx)(Wt,{title:"Fonts"}),Object(m.jsx)("div",{className:"props-container",children:Object(m.jsx)(Bt,{})})]})},Wt=function(e){var t=e.title;return Object(m.jsx)(A.a,{justify:"center",children:Object(m.jsx)(D.a,{span:24,style:{textAlign:"center"},children:Object(m.jsx)("span",{className:"title",children:t})})})},Yt=function(e){var t=e.attribute,n=e.property,a=e.customPath,i=Object(r.useState)(!1),o=Object(z.a)(i,2),c=o[0],s=o[1],l=Ye().active,d=Object(r.useState)(""),u=Object(z.a)(d,2),b=u[0],p=u[1],j=Xe().mjmlJson;return Object(r.useEffect)((function(){if(j&&a&&a===Ht)return s(!0),void p(Ht);if(l){var e=de(l,l.classList);if(e){var r=se(j,e);if(a&&(r=[null,"."+a]),r){var i=r,o=Object(z.a)(i,2)[1];if(o.length>0&&p(o.slice(1)),t){var c=G.a.get(j,o.slice(1));if(c&&c.mutableProperties&&c.mutableProperties.includes(t))return void s(!0)}else if(n){var d=G.a.get(j,o.slice(1));if(d&&d[n])return void s(!0)}}}}s(!1),p("")}),[l]),[c,b,l]},Xt=function(e){var t=e.path,n=e.visible,a=e.attribute,r=Xe().mjmlJson;return{getValue:function(){var e="";if(t&&n){var i=G.a.get(r,t);i&&i.attributes&&(e=i.attributes[a])}return e}}},Vt="font-family",Gt=function(){var e=Yt({attribute:Vt}),t=Object(z.a)(e,2),n=t[0],a=t[1],i=Xt({path:a,visible:n,attribute:Vt}).getValue,o=Xe(),c=o.mjmlJson,s=o.setMjmlJson,l=Object(r.useState)(""),d=Object(z.a)(l,2),u=d[0],b=d[1],p=Object(r.useState)([]),j=Object(z.a)(p,2),f=j[0],h=j[1];return Object(r.useEffect)((function(){Kt(c,f,h,s)}),[]),Object(r.useEffect)((function(){Kt(c,f,h,s)}),[c]),Object(r.useEffect)((function(){if(n&&c){var e=i();if(e&&e.indexOf(",")){var t=e.split(",")[0];b(t)}}}),[c]),[f,u]},Kt=function(e,t,n,a){if(e){var r=e.children[0];if(r&&r.children){var i=r.children.filter((function(e){return e&&e.tagName&&e.tagName.includes("font")}));if(t&&i&&i.length!==t.length){var o=i.map((function(e){return e.attributes.name.trim()})).sort((function(e,t){return e>t?1:-1}));n(o=G.a.uniq(o));var c=e.children[0].children[2],s="Ubuntu,"+o.join(",");if(c&&c.tagName.includes("attributes")&&c.children&&c.children[0]&&c.children[0].tagName.includes("text")&&c.children[0].attributes["font-family"]!==s){c.children[0].attributes["font-family"]=s;var l=G.a.set(e,"children[0].children[2]",c);l&&a(Object($.a)({},l))}}}}},Qt="href",Zt=function(){var e=Yt({attribute:Qt}),t=Object(z.a)(e,2),n=t[0],a=t[1],i=Xe(),o=i.mjmlJson,c=i.setMjmlJson,s=Xt({path:a,visible:n,attribute:Qt}).getValue,l=Object(r.useState)(""),d=Object(z.a)(l,2),u=d[0],b=d[1];Object(r.useEffect)((function(){n&&b(s())}),[n,a]);var p=function(e){var t,n=G.a.get(o,a);n.attributes.href=e,t=G.a.set(o,a,n),c(Object($.a)({},t))};return n?Object(m.jsx)(Lt.a,{children:Object(m.jsx)(A.a,{children:Object(m.jsx)(D.a,{span:24,children:Object(m.jsx)(q.a,{addonBefore:Qt,onBlur:function(e){if(e&&e.target&&e.target.value){var t=$t(e.target.value);p(t),b(t)}},onChange:function(e){b(e.target.value),a&&n&&p(e.target.value)},value:u})})})}):null},$t=function(e){return!(e=e.trim())||e.includes("https://")||e.includes("http://")||(e="https://".concat(e)),e},en=function(){var e=window.getSelection();if(e){var t=Se;null===e||void 0===e||e.removeAllRanges(),null===e||void 0===e||e.addRange(Se),Se=t}},tn=function(){var e=Object(r.useRef)(null),t=tt(),n=t.x,a=t.y,i=nt().active,o=Ye().active,c=Xe(),s=c.mjmlJson,l=c.setMjmlJson,d=Gt(),u=Object(z.a)(d,1)[0];return Object(r.useEffect)((function(){if(e.current){var t=document.querySelectorAll("#customtoolbar .ant-select-selector");if(t)return t.forEach((function(e){F("attaching click event listener to container"),e.addEventListener("click",rn)})),function(){return t.forEach((function(e){F("removing click event listener to container"),e.removeEventListener("click",rn)}))}}}),[e]),Object(r.useEffect)((function(){if(i&&o){var e=de(o,o.classList);if(null===e||void 0===e?void 0:e.includes("mj-text")){var t=o.children[0].children[0],n=function(e){an(t,s,l)},a=function(){var e;Se=null===(e=window.getSelection())||void 0===e?void 0:e.getRangeAt(0)};return t.addEventListener("focusout",n,!0),t.addEventListener("keyup",a,!1),t.addEventListener("click",a,!1),t.classList.add("editor-active"),t.setAttribute("contentEditable","true"),t.setAttribute("spellcheck","false"),function(){F("custom editor: cleaning up dynamic attributes"),t.removeEventListener("focusout",n,!0),t.removeEventListener("keyup",a,!1),t.removeEventListener("click",a,!1)}}}}),[o,s]),Object(m.jsxs)("div",{style:{display:i?"block":"none",position:"fixed",top:"".concat(a,"px"),left:"".concat(n,"px"),padding:"4px 8px",border:"1px solid black",zIndex:999,backgroundColor:"#fff",transition:"all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)"},id:"customtoolbar",ref:e,onMouseDown:rn,children:[Object(m.jsx)(jt.a,{size:"small",dropdownStyle:{minWidth:"18px"},defaultValue:2,style:{fontSize:"12px"},onChange:function(e){yt(null,"size",e)},children:Array.from(Array(7).keys()).map((function(e){return Object(m.jsx)(jt.a.Option,{onMouseDown:rn,onFocus:rn,style:{fontSize:"12px"},value:e+1,children:Object(m.jsx)("span",{onMouseDown:rn,onFocus:rn,children:e+1})})}))}),Object(m.jsx)(jt.a,{size:"small",defaultValue:"Ubuntu",dropdownStyle:{minWidth:"140px"},style:{fontSize:"12px"},onChange:function(e){yt(null,"fontFamily",e)},onMouseDown:rn,children:u.map((function(e){return Object(m.jsx)(jt.a.Option,{onMouseDown:rn,onFocus:rn,style:{fontSize:"12px"},value:e,children:Object(m.jsx)("span",{onMouseDown:rn,onFocus:rn,children:e})})}))}),Object(m.jsx)(ft.a,{overlayClassName:"inline-editor-popover-color-picker",trigger:"click",placement:"bottom",content:Object(m.jsx)(wt,{handleChange:function(e){yt(null,"fontColor",e)},mouseDown:!1}),destroyTooltipOnHide:!0,children:Object(m.jsx)(j.a,{icon:Object(m.jsx)(ht.a,{}),style:{fontSize:"12px"},size:"small"})}),Object(m.jsx)(ft.a,{overlayClassName:"inline-editor-popover-color-picker",trigger:"click",placement:"bottom",content:Object(m.jsx)(wt,{handleChange:function(e){yt(null,"color",e)},mouseDown:!1}),destroyTooltipOnHide:!0,children:Object(m.jsx)(j.a,{icon:Object(m.jsx)(gt.a,{}),style:{fontSize:"12px"},size:"small"})}),Object(m.jsx)(j.a,{icon:Object(m.jsx)(mt.a,{}),onClick:function(e){return yt(e,"bold")},style:{fontSize:"12px"},size:"small"}),Object(m.jsx)(j.a,{icon:Object(m.jsx)(vt.a,{}),onClick:function(e){return yt(e,"italics")},style:{fontSize:"12px"},size:"small"}),Object(m.jsx)(j.a,{icon:Object(m.jsx)(xt.a,{}),onClick:function(e){return yt(e,"underline")},style:{fontSize:"12px"},size:"small"}),Object(m.jsx)(nn,{setLinkCallback:function(e){return yt(e,"link")}})]})},nn=function(e){e.setLinkCallback;var t=Object(r.useState)(!1),n=Object(z.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(""),c=Object(z.a)(o,2),s=c[0],l=c[1],d=Object(r.useRef)(null);return Object(m.jsx)(ft.a,{visible:a,content:Object(m.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[Object(m.jsx)(q.a,{className:"inline-editor-link",ref:d,value:s,onMouseDown:function(e){en()},onChange:function(e){l(e.target.value)},placeholder:"link"}),Object(m.jsx)(j.a,{type:"default",onMouseDown:rn,onClick:function(){i(!1),en(),document.execCommand("insertHTML",!1,'<a href="'+$t(s)+'" target="_blank">'+document.getSelection()+"</a>")},children:"create"})]}),trigger:"click",placement:"bottom",children:Object(m.jsx)(j.a,{style:{fontSize:"12px"},onClick:function(e){rn(e),i(!a),l("")},size:"small",icon:Object(m.jsx)(Ot.a,{})})})},an=function(e,t,n){F("custom Inline Editor: updating state callback");var a=le(e);if(a){var r=a;if(null===r||void 0===r?void 0:r.includes("mj-text")){var i=se(t,r);if(i){var o=Object(z.a)(i,2)[1],c=G.a.get(t,o.slice(1));if(c){var s=G.a.cloneDeep(c);F("inline editor: updating",e);var l=e.innerHTML;s.content=l;var d=G.a.set(t,o.slice(1),s);n(Object($.a)({},d))}}}}},rn=function(e){if(F("::reset",e.target),!(e.target&&"INPUT"===e.target.tagName&&e.target.className&&e.target.className.includes("inline-editor-link")))return F("::reset->reset behaviour",e.target),e.preventDefault(),e.stopPropagation(),!1;F("::reset, returning")},on=function(e){var t=e.className,n=e.idRef,a=e.active,i=Xe(),o=i.mjmlJson,c=i.setMjmlJson,s=Object(r.useState)(!0),l=Object(z.a)(s,2),d=l[0],u=l[1],b=Object(r.useState)(!0),p=Object(z.a)(b,2),f=p[0],h=p[1];Object(r.useEffect)((function(){if(n.current===a){var e=ue(t);if(e){var r=se(o,ue(t)),i=se(o,"identifier-mj-body");if(r&&i){var c=Object(z.a)(i,1)[0];Object(z.a)(r,1)[0];if(c&&c.children&&1===c.children.length)return u(!1),void h(!1);if(c&&c.children&&c.children.length>1)for(var s=c.children.length-1,l=0;l<c.children.length;l++){var d=c.children[l];if(d&&d.attributes&&d.attributes["css-class"]&&d.attributes["css-class"].includes(e)){if(l===s){h(!1),u(!0);break}if(0===l){u(!1),h(!0);break}}}}}}}),[o,n,a]);return Object(m.jsx)("div",{onMouseDown:rn,style:{display:a===n.current?"block":"none"},children:Object(m.jsxs)("div",{style:{zIndex:200,position:"absolute",left:-38,bottom:0,display:"flex",flexDirection:"column",rowGap:"4px"},children:[Object(m.jsx)(j.a,{type:"primary",disabled:!d,onClick:function(e){rn(e),pt(t,o,c)},icon:Object(m.jsx)(ut.a,{style:{fontSize:"20px"}})}),Object(m.jsx)(j.a,{type:"primary",disabled:!f,onClick:function(e){rn(e),function(e,t,n){pt(e,t,n,"down")}(t,o,c)},icon:Object(m.jsx)(bt.a,{style:{fontSize:"20px"}})})]})})},cn=Object(r.memo)((function(e){var t=e.uniqueKey,n=e.originalNode,a=Ye(),i=(a.setUIWrapperList,a.setActive),o=a.setActiveHover,c=a.active,s=a.activeHover,l=a.id,d=(a.setId,a.getId),u=(a.uiList,ce()),b=u.setDelActive,p=u.setDelX,j=u.setDelY,f=u.copy,h=u.drag.isColumn,g=Xe(),v=g.mjmlJson,x=g.setMjmlJson,O=tt(),y=O.setX,k=O.setY,w=nt().setActive,C=Object(r.useRef)(l),S=Object(r.useRef)(l),N=f.setCopyX,A=f.setCopyActive,D=f.setCopyY;Object(r.useEffect)((function(){d()}),[]),Object(r.useEffect)((function(){null===c&&(A(!1),b(!1),w(!1))}),[c]);var E=Object(r.useMemo)((function(){return C.current===s?function(e){e&&e.target&&"A"===e.target.tagName&&e.preventDefault(),i(C.current);var t=e.target.closest(".mjml-tag");if(t){var n=t.getBoundingClientRect(),a=de(t,t.classList);if(null===a||void 0===a?void 0:a.includes("body"))return b(!1),void A(!1);if(null===a||void 0===a?void 0:a.includes("text")){var r=n.left,o=n.top-38;w(!0),y(r),k(o)}else w(!1);b(!0),A(!0),function(e){var t=e.pos,n=e.delete,a=n.setDelX,r=n.setDelY,i=e.copy,o=i.setCopyX,c=i.setCopyY;if(t){a(t.right+4);var s=Object(V.floor)((t.bottom-t.top)/2)-32;r(t.top+s),o(t.right+4),c(t.top+s+32+4)}}({pos:n,delete:{setDelX:p,setDelY:j},copy:{setCopyX:N,setCopyY:D}})}}:null}),[C,s]),M=s===C.current&&!C.current.className.includes("section"),J=(Object(r.useMemo)((function(){return s===C.current?"pointer":"default"}),[s,C]),s===C.current?"2px dashed rgb(121, 202, 182)":"unset"),T=c===C.current?"2px solid rgb(121, 202, 182)":"unset";at(n,"body")&&W("empty body detected"),at(n,"section")&&W("empty section detected");var P=Object(r.useCallback)((function(e){return it(e,"mj-column")}),[]),_=dt(n.props.className),I=Object(r.createElement)("div",{style:{position:"absolute",right:-2,bottom:-24,zIndex:100,display:"social-element"!==_?"block":"none",minWidth:64,textAlign:"right"},draggable:!1},s===C.current||c===C.current?Object(r.createElement)("span",{style:{padding:"4px 6px",background:"#1890ff",color:"white",fontSize:"14px"}},dt(n.props.className)):null),L=null;return n&&n.props.className.includes("mj-section")&&(L=Object(m.jsx)(on,{className:n.props.className,idRef:C,active:c})),Object(r.createElement)(n.nodeName,Object($.a)(Object($.a)({},n.props),{},{onDragOver:G.a.debounce((function(e){if(!h){var t=e.nativeEvent.target,n=le(t);if(((null===n||void 0===n?void 0:n.includes("mj-column"))||(null===n||void 0===n?void 0:n.includes("mj-section")))&&(F("::indicator: trigger->column"),n.includes("mj-column"))){if(!0===function(e){var t=e.mjmlJson,n=e.setMjmlJson,a=e.nearestTag;if(a){var r=se(t,a);if(r){var i=ve(G.a.cloneDeep(t));F("::beforechange::",t,i);for(var o=Object(z.a)(r,2)[1],c=G.a.get(G.a.cloneDeep(i),o.slice(1)),s=[],l=0;c&&c.children&&l<c.children.length;l++){var d=c.children[l],u=d.attributes&&d.attributes["css-class"];u&&u.includes("placeitem-placeholder")||u&&u.includes("mj-placeholder")||s.push(d)}if(s.length>0)return!1;s.push(lt);var b=o.slice(1,o.lastIndexOf(".children"));if(c){c.children=s;for(var p=G.a.get(G.a.cloneDeep(i),b),j=[],f=0;p&&p.children&&f<p.children.length;f++){var h=p.children[f],g=h.attributes&&h.attributes["css-class"];ue(g)!==a?j.push(h):j.push(c)}p.children=j;var m=G.a.set(i,b,p);return G.a.isEqual(t,m)?F("::update:: -> but elements are the same, not triggering rerender"):(F("::update::",i,m),n(Object($.a)({},m))),!0}}}}({mjmlJson:v,nearestTag:n,setMjmlJson:x}))return void F("::indicator: trigger->column -> stopping further processing");F("::indicator: trigger->column -> no updates where done -> proceeding further processing")}var a=P(t);if(a){var r=a;a=Object(z.a)(r,1)[0]}F("::indicator: trigger->insideColumn"),st({mjmlJson:v,nearestTag:n,columnElement:a,currentTarget:t,setMjmlJson:x,event:e})}}),150),onMouseOver:function(e){e.stopPropagation(),s!==C.current&&o(C.current)},onDragStart:function(e){c&&i(null),e.dataTransfer.dropEffect="move";var t=le(e.target),n=se(v,t);if(n){var a=Object(z.a)(n,2)[1],r=G.a.get(v,a.slice(1));r={mode:"move",uniqueClassName:t,config:G.a.cloneDeep(r)};var o=e.target;e.dataTransfer.setDragImage(o,0,0),e.dataTransfer.setData("config",JSON.stringify(r))}else W("move items: drag unable to find the config to transfer ".concat(t))},draggable:M,ref:C,id:S.current,onClick:E,key:t,style:Object($.a)(Object($.a)({},n.props.style),{},{cursor:"pointer",outline:c===C.current?T:J,position:"relative"})}),n.children?[].concat(Object(ee.a)(n.children),[I,L]):null)})),sn={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",align:"align",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vertical-align":"vertial-align","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},ln=function(e){var t=e.nodeName,n=e.props,a=e.children,i=e.id;return Object(r.createElement)(t,Object($.a)(Object($.a)({},n),{},{key:i,style:Object($.a)(Object($.a)({},n.style),{},{outline:"2px dashed rgb(121,202,182)"})}),a)},dn=new DOMParser,un=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(void 0!==t){var a=t.nodeName.toLowerCase();if("script"===a||"style"===a||"meta"===a||"link"===a||"title"===a||"br"===a){if("meta"===a){var o=t;return i.a.createElement(a,{httpEquiv:o.httpEquiv,content:o.content,key:a+n++},null)}if("link"===a){var c=t,s=null;return c.type&&(s=c.type),i.a.createElement(a,{href:c.href,rel:c.rel,type:s,key:a+n++},null)}return"br"===a?i.a.createElement(a,{key:a+n++},null):i.a.createElement(a,{dangerouslySetInnerHTML:{__html:t.innerHTML,key:a+n++}})}for(var l={},d=0;t.attributes&&d<t.attributes.length;d++){var u=t.attributes[d],b=sn[u.name];if(void 0===b){b=pn(u.name);"htmlParser: ".concat(u.name," is not found in possible attributes,\n      using ").concat(b," instead.")}var p="style"===u.name?bn(u.value):u.value.trim();l[b]=p}l.key=n++;var j=[];if(t.className&&t.className.includes("mj-text")){var f={nodeName:a,props:Object($.a)({},l),children:[Object(r.createElement)("span",{dangerouslySetInnerHTML:{__html:t.innerHTML}})]};return Object(m.jsx)(cn,{uniqueKey:n++,originalNode:f})}for(var h=0;h<t.childNodes.length;h++){var g=t.childNodes[h];if("#text"!==g.nodeName)"#comment"!==g.nodeName&&"script"!==a&&"style"!==a&&j.push(e(g,n++));else if(g.textContent){var v=g.textContent.replaceAll("\n","").trim();v&&j.push(v)}}if(t.classList&&t.classList.contains("mjml-tag")){var x={nodeName:a,props:Object($.a)({},l),children:j};return Object(m.jsx)(cn,{uniqueKey:n++,originalNode:x})}return t.classList&&t.classList.contains("placeitem-placeholder")?Object(m.jsx)(ln,{id:n++,nodeName:a,props:Object($.a)({},l),children:j}):("#document"===a&&(a="div"),"a"===a&&(delete l.href,delete l.target),"img"===a?i.a.createElement(a,Object($.a)({key:n++},l),null):3===t.nodeType?i.a.createElement(a,Object($.a)(Object($.a)({},l),{},{key:n++}),t.textContent):i.a.createElement(a,l,j))}},bn=function(e){for(var t={},n=e.split(/;+(?![^(]*\))/g),a=0;a<n.length;a++)if(""!==n[a]){var r=n[a].split(":"),i=Object(Ze.a)(r),o=[i[0],i.slice(1).join(":")],c=o[0].trim();c=pn(c);var s=o[1].trim();t[c]=s}return t},pn=function(e){return e.replace(/([-_][a-z])/gi,(function(e){return e.toUpperCase().replace("-","").replace("_","")}))},jn=n(2079),fn=function(e){return e&&e.children&&(e.children=e.children.filter((function(e){return!(e&&e.attributes&&e.attributes["css-class"])||!e.attributes["css-class"].includes("mj-placeholder")}))),e},hn=function(e){var t,n=e.target,a=e.uniqueClassName,r=e.mjmlJson,i=e.setMjmlJson,o=e.setDelActive,c=e.setCopyActive,s=e.setActive,l=e.movement;if(n)t=le(n);else{if(!a)return void W("operation remove: either target/uniqueClassName must be provided \n      to perform this operation\n    ");t=a}if(!t)return null;var d=se(r,t);if(!d)return null;var u=Object(z.a)(d,2)[1].split("."),b=u.pop();u=u.join(".");var p=G.a.get(r,u.slice(1)),j=b.match(/\[(.*?)\]/);if(j){for(var f=parseInt(j[1]),h=[],g=0;p&&p.children&&g<p.children.length;g++)g!==f&&h.push(p.children[g]);if(u){var m=G.a.get(r,u.slice(1));m.tagName&&"mj-column"===m.tagName&&0===h.length&&(h=fe)}p.children=h}s(null);var v=G.a.set(r,u.slice(1),p);v?(o(!1),c(!1),i(Object($.a)({},v)),l||K.newAction(v)):W("operation remove: unable to delete the item")},gn=function(e){var t=e.mjmlJson,n=e.setActive,a=e.setMjmlJson,r=e.setCopyActive,i=e.setDelActive,o=e.target,c=e.uidGenerator,s=de(o,o.classList),l="",d=-1;if(s){var u=function(e,t,n){var a=-1,r=e.closest(".mjml-tag");for(r===e&&(r=e.parentElement);-1===a&&r;){var i=de(r,r.classList);if(i){var o=se(t,i);if(o){var c=o;if(o=Object(z.a)(c,1)[0],-1!==(a=pe(o.children,n)))break}}var s=r.closest(".mjml-tag");s&&s===r?r.parentElement&&(r=r.parentElement.closest(".mjml-tag")):r=s}return[a,r&&r.classList?de(r,r.classList):null]}(o,t,s);if(!u||"number"!==typeof u[0]||"string"!==typeof u[1])return void R.b.error("Unable to copy element");var b=Object(z.a)(u,2);d=b[0],l=b[1]}var p=se(t,s);if(p&&d>-1){var j=p;return p=Object(z.a)(j,1)[0],r(!1),i(!1),n(null),function(e){var t=e.droppedConfig,n=e.setMjmlJson,a=e.mjmlJson,r=e.uid,i=e.parentUniqueClassIdentifier,o=e.index,c=i;if(!c){var s=ve(a);return n(Object($.a)({},s)),null}var l=G.a.cloneDeep(t);l=be(l,r);var d=se(a,c);if(!d)return null;var u=Object(z.a)(d,2),b=u[0],p=u[1];if(W("operation add: item in Object:",b,"path to Object:",p),b=fn(b),o>-1)for(var j=0;b&&b.children&&j<b.children.length;j++)j===o&&b.children.splice(j,0,l);var f=G.a.set(a,p.slice(1),b);f=ve(f),K.newAction(f),n(Object($.a)({},f))}({droppedConfig:G.a.cloneDeep(p),setMjmlJson:a,mjmlJson:t,uid:c,index:d,parentUniqueClassIdentifier:l})}},mn=function e(t){if(3===t.nodeType)return t;for(var n=0;t.childNodes&&n<t.childNodes.length;n++){var a=e(t.childNodes[n]);if(a)return vn(a)}},vn=function e(t){if(!t)return null;if(3===t.nodeType)return e(t.parentNode);var n=t;return 1===n.nodeType?n.closest("div"):n},xn=n(298),On=n.n(xn),yn=Object(r.createContext)(null),kn=function(e){var t=Object(r.useState)(!1),n=Object(z.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(null),c=Object(z.a)(o,2),s=c[0],l=c[1],d=Object(r.useState)(0),u=Object(z.a)(d,2),b=u[0],p=u[1],j=Object(r.useState)(0),f=Object(z.a)(j,2),h=f[0],g=f[1];return Object(m.jsx)(yn.Provider,{value:{QuillActive:a,setQuillActive:i,quillEditor:s,setQuillEditor:l,quillX:b,quillY:h,setQuillX:p,setQuillY:g},children:e.children})},wn=function(){return Object(r.useContext)(yn)},Cn=n(209),Sn=n.n(Cn),Nn=n(208),An=n.n(Nn),Dn=function(){var e=ce(),t=(e.ref,e.isActive,e.x,e.y,e.delActive),n=e.delX,a=e.delY,i=e.setDelActive,o=e.copy,c=Xe(),s=c.mjmlJson,l=c.setMjmlJson,d=Ye(),u=d.active,b=d.setActive,p=wn(),j=p.QuillActive,f=(p.quillX,p.quillY,p.setQuillEditor),h=(p.setQuillActive,wn().quillEditor),g=o.copyActive,v=o.setCopyActive,x=o.copyX,O=o.copyY,y=re().getId;Object(r.useEffect)((function(){if(h){var e=de(u,u.classList);h.on("text-change",(function(){var t=h.container.firstChild.innerHTML;if(F(t),e){var n=se(s,e);if(n){var a=Object(z.a)(n,2)[1],r=G.a.get(s,a.slice(1));r.content=t;var i=G.a.set(s,a.slice(1),r);l(Object($.a)({},i))}}}))}return function(){return h&&h.off("text-change")}}),[h]),Object(r.useEffect)((function(){if(u&&j){var e=mn(u);if(h&&h.off("text-change"),e){for(;e.parentElement.classList.contains("ql-container")||e.hasAttribute("data-gramm");)e=e.parentElement;e.classList.contains("ql-container")&&(e.classList.remove("ql-container"),e.classList.remove("ql-snow"));var t=new On.a(e,{theme:"snow",modules:{toolbar:"#toolbarContainer"}});t.getModule("toolbar").container.childNodes.forEach((function(e){var t=e.cloneNode(!0);e.parentNode.replaceChild(t,e)}));var n=t.getModule("toolbar");n.container.childNodes.forEach((function(e){n.attach(e)}),n),f(t),t.editor.scroll.domNode.classList.remove("ql-editor"),t.container.children[1].remove(),t.container.children[1].remove(),t=void 0}}}),[u]);var k=Object(r.useMemo)((function(){return function(){u&&hn({target:u,mjmlJson:s,setMjmlJson:l,setDelActive:i,setActive:b,setCopyActive:v})}}),[u]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(En,{style:{zIndex:200,display:t?"block":"none",position:"fixed",left:"".concat(n,"px"),top:"".concat(a,"px")},deleteConfirm:k}),Object(m.jsx)(Mn,{onClick:function(){u&&gn({mjmlJson:s,setActive:b,setMjmlJson:l,setCopyActive:v,setDelActive:i,target:u,uidGenerator:y})},style:{zIndex:200,display:g?"block":"none",position:"fixed",left:"".concat(x,"px"),top:"".concat(O,"px")}})]})},En=function(e){var t=e.style,n=e.deleteConfirm;return Object(m.jsx)(jn.a,{placement:"right",title:"Are you sure ?",okText:"Delete",cancelText:"Cancel",onConfirm:n,children:Object(m.jsx)(j.a,{style:t,type:"primary",icon:Object(m.jsx)(An.a,{})})})},Mn=function(e){var t=e.style,n=e.onClick;return Object(m.jsx)(j.a,{style:t,onClick:n,type:"primary",icon:Object(m.jsx)(Sn.a,{})})},Jn=(n(521),n(522),n(2102)),Tn=n(2093),Pn=function(e){var t=e.undoCallback,n=e.redoCallback;return Object(m.jsxs)("div",{style:{position:"fixed",padding:"8px",display:"flex",flexDirection:"column",rowGap:"4px",zIndex:200},children:[Object(m.jsx)(zt.a,{mouseEnterDelay:.5,color:"cyan",title:"undo",placement:"right",children:Object(m.jsx)(j.a,{disabled:K.isUndoEmpty(),onClick:t,type:"default",size:"large",style:{background:"#fff"},icon:Object(m.jsx)(Jn.a,{})})}),Object(m.jsx)(zt.a,{mouseEnterDelay:.5,color:"cyan",title:"redo",placement:"right",children:Object(m.jsx)(j.a,{disabled:K.isRedoEmpty(),onClick:n,type:"default",style:{background:"#fff"},size:"large",icon:Object(m.jsx)(Tn.a,{})})})]})},zn=Object(f.a)("div")(Ne||(Ne=Object(p.a)(["\n  .editor-active {\n    :focus {\n      outline: none;\n    }\n  }\n"]))),_n=function(e){var t=Xe(),n=t.mjmlJson,a=t.setMjmlJson,i=re().getId,o=Ye(),c=o.setActive,s=o.active,l=ce(),d=l.setDelActive,u=l.copy,b=l.drag,p=b.setIsColumn,j=b.isColumn,f=u.setCopyActive;Object(r.useEffect)((function(){K.print()}),[n]);var h=Object(r.useCallback)((function(e){s&&c(null),e.preventDefault()}),[c,s]);return Object(m.jsxs)(J.a,{style:{height:"100%"},children:[Object(m.jsx)(Dn,{}),Object(m.jsx)(tn,{}),Object(m.jsx)(Pn,{undoCallback:function(){var e=K.undoAction(n);e&&(a(Object($.a)({},e)),c(null),d(!1),f(!1))},redoCallback:function(){var e=K.redoAction(n);e&&(c(null),a(Object($.a)({},e)),d(!1),f(!1))}}),Object(m.jsx)(zn,{className:"".concat(Qe.a.viewHolder," mjml-wrapper mjml-tag identifier-mj-body"),onDrop:function(e){e.preventDefault(),j&&p(!1);var t=JSON.parse(e.dataTransfer.getData("config"));t&&t.mode&&"move"===t.mode&&t.config&&(hn({uniqueClassName:t.uniqueClassName,mjmlJson:n,setMjmlJson:a,setActive:c,setDelActive:d,setCopyActive:f,movement:!0}),W("operation move: onDrop -> removed previous instance \n      of config :'".concat(t.uniqueClassName,"'")),t=t.config),function(e){var t=e.target,n=e.droppedConfig,a=e.setMjmlJson,r=e.mjmlJson,i=e.uid,o=le(t);if(!o){var c=ve(r);return a(Object($.a)({},c)),null}if("mj-section"!==n.tagName&&("identifier-mj-body"===o||"identifier-mj-section"===o)){var s=ve(r);return a(Object($.a)({},s)),R.b.error("Use a section to place the item"),null}if(n.tagName&&"mj-section"===n.tagName&&"identifier-mj-body"!==o){var l="Sections can not be nested! it will break mobile design";return R.b.info(l),void F("operation add: ".concat(l))}var d=G.a.cloneDeep(n);d=be(d,i);var u=se(G.a.cloneDeep(r),o);if(!u)return null;var b=Object(z.a)(u,2),p=b[0],j=b[1];W("operation add: item in Object:",p,"path to Object:",j),p=function(e,t){if("mj-body"!==e.tagName&&e.children&&e.children.length)for(var n=0;n<e.children.length;n++){var a=e.children[n],r=a.attributes["css-class"];r&&r.includes("placeitem-placeholder")?e.children[n]=t:e.children[n]=a}else e.children.push(t);return e}(p=fn(p),d),K.isUndoEmpty()&&K.newAction(ve(G.a.cloneDeep(r)));var f=G.a.set(r,j.slice(1),p);f=ve(f),K.newAction(f),a(Object($.a)({},f))}({target:e.nativeEvent.target,droppedConfig:t,mjmlJson:n,setMjmlJson:a,uid:i})},onDragOver:h,children:Object(m.jsx)(In,{mjml:n,isColumn:j})})]})},In=Object(r.memo)((function(e){var t=e.mjml;e.isColumn;return t&&function(e){if("string"!==typeof e)return U("htmlParser: html is not a string"),i.a.createElement("div",{},"errors: please check dev console");var t=dn.parseFromString(e,"text/html");return null===t?(U("htmlParser: doc is null, unable to process html"),i.a.createElement("p",{},"errors: please check dev console")):un(t,1)}(Ge()(t).html)})),Ln=n(212),Bn=n.n(Ln),Rn=n(210),qn=n.n(Rn),Hn=n(213),Fn=n.n(Hn),Un=n(211),Wn=n.n(Un),Yn=[{title:"Left",prop:"left",component:Object(m.jsx)(qn.a,{})},{title:"Justify",prop:"justify",component:Object(m.jsx)(Wn.a,{})},{title:"Center",prop:"center",component:Object(m.jsx)(Bn.a,{})},{title:"Right",prop:"right",component:Object(m.jsx)(Fn.a,{})}],Xn=function(){var e=Yt({attribute:"align"}),t=Object(z.a)(e,2),n=t[0],a=t[1],r=Xe(),i=r.mjmlJson,o=r.setMjmlJson,c=Ye().active;return n?Object(m.jsxs)(A.a,{children:[Object(m.jsx)(D.a,{flex:"3",children:Object(m.jsx)(B.a.Item,{label:"Align"})}),Object(m.jsx)(D.a,{flex:"2",children:Object(m.jsx)(A.a,{justify:"space-between",children:Yn.map((function(e,t){var r=e.prop,s=e.component,l=e.title;return Object(m.jsx)(D.a,{children:Object(m.jsx)(zt.a,{title:l,children:Object(m.jsx)(j.a,{onClick:function(){return function(e){if(c&&n&&a){var t=G.a.get(i,a);if(t&&t.attributes&&t.attributes){t.attributes.align=e;var r=G.a.set(i,a,t);o(Object($.a)({},r))}}}(r)},type:"ghost",icon:s})})},t)}))})})]}):null},Vn=function(e){var t=e.activePath,n=e.label,a=e.attribute_name||"border",i=Yt({attribute:a,customPath:t}),o=Object(z.a)(i,2),c=o[0],s=o[1],l=Xe(),d=l.mjmlJson,u=l.setMjmlJson,b=Xt({path:s,visible:c,attribute:a}).getValue,p=Object(r.useState)(""),j=Object(z.a)(p,2),f=j[0],h=j[1];Object(r.useEffect)((function(){c&&h(b())}),[c]);return c?Object(m.jsx)(B.a.Item,{label:n||"Border",children:Object(m.jsx)(q.a,{onChange:function(e){if(h(e.target.value),c&&s&&e.target.value){var t,n=G.a.get(d,s);n.attributes[a]=e.target.value,t=G.a.set(d,s,n),u(Object($.a)({},t))}},value:f,onKeyDown:Gn})}):null},Gn=function(e){1===e.currentTarget.value.length&&"Backspace"===e.key&&(e.currentTarget.value="")},Kn="border-radius",Qn=function(e){var t=e.activePath,n=Xe(),a=n.mjmlJson,r=n.setMjmlJson,i=Yt({attribute:Kn,customPath:t}),o=Object(z.a)(i,2),c=o[0],s=o[1],l=function(e){if(s){""===e&&(e="none");var t=G.a.get(a,s);t.attributes["border-radius"]=e;var n=G.a.set(a,s,t);r(Object($.a)({},n))}},d="";return c&&(d=G.a.get(a,s+"attributes.border-radius")),c?Object(m.jsx)(B.a.Item,{label:"Border Radius",children:Object(m.jsx)(q.a,{onChange:function(e){c&&e.target.value&&(""===e.target.value&&(e.target.value="none"),l(e.currentTarget.value))},value:d,onKeyDown:function(e){if(1===e.currentTarget.value.length&&"Backspace"===e.key&&(e.currentTarget.value=""),("ArrowUp"===e.key||"ArrowDown"===e.key)&&(e.preventDefault(),c)){var t=G.a.get(a,s+"attributes")["border-radius"],n=new RegExp(/^\d+/).exec(t),r=n?parseInt(n[0]):0;"ArrowUp"===e.key?t=t.replace(/^\d+/,r+1):"ArrowDown"===e.key&&r>0&&(t=t.replace(/^\d+/,r-1)),e.currentTarget.value=t,l(t)}}})}):null},Zn="container-background-color",$n=function(){var e=Xe(),t=e.mjmlJson,n=e.setMjmlJson,a=Object(r.useState)((function(){return!1})),i=Object(z.a)(a,2),o=i[0],c=i[1],s=Object(r.useState)((function(){return"#ccc"})),l=Object(z.a)(s,2),d=l[0],u=l[1],b=Ye().active,p=Yt({attribute:Zn}),j=Object(z.a)(p,2),f=j[0],h=j[1];Object(r.useEffect)((function(){if(b&&f)try{if(h){var e=G.a.get(t,h);e.mutableProperties.includes(Zn)&&u(e.attributes["container-background-color"])}}catch(n){W("got exception, hiding background mod",n)}}),[b]);return f?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(A.a,{children:[Object(m.jsx)(D.a,{flex:"auto",children:Object(m.jsx)(B.a.Item,{label:"Container Background"})}),Object(m.jsxs)(ta,{color:d,flex:"none",children:[Object(m.jsx)("div",{className:"swatch",onClick:function(){return c(!0)},children:Object(m.jsx)("div",{className:"color"})}),o?Object(m.jsxs)("div",{className:"popover",children:[Object(m.jsx)("div",{className:"cover",onClick:function(){return c(!1)}}),Object(m.jsx)(kt.a,{disableAlpha:!1,color:d,onChange:function(e){return function(e){var a="".concat(e.hex).concat(ea(e.rgb.a));if(u(a),h&&f){var r=G.a.get(t,h);r.attributes["container-background-color"]=a;var i=G.a.set(t,h,r);n(Object($.a)({},i))}}(e)}})]}):null]})]})}):null},ea=function(e){return 0===e?"00":Math.round(255*e).toString(16)},ta=Object(f.a)(D.a)(Ae||(Ae=Object(p.a)(["\n  .color {\n    width: 25px;\n    height: 25px;\n    border-radius: 2px;\n    background: ",";\n  }\n  .swatch {\n    padding: 5px;\n    background: #fff;\n    border-radius: 1px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .popover {\n    position: absolute;\n    z-index: 2;\n    top: -108px;\n    left: -200px;\n  }\n\n  .cover {\n    position: fixed;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n  }\n"])),(function(e){return e.color})),na="content",aa=function(){var e=Yt({property:na}),t=Object(z.a)(e,2),n=t[0],a=t[1],i=Xe(),o=i.mjmlJson,c=i.setMjmlJson,s=Object(r.useState)(""),l=Object(z.a)(s,2),d=l[0],u=l[1],b=Object(r.useState)(null),p=Object(z.a)(b,2),j=p[0],f=p[1],h=Object(r.useState)(!1),g=Object(z.a)(h,2),v=g[0],x=g[1];Ye().active;Object(r.useEffect)((function(){if(n&&a){var e=G.a.get(o,a);if(e){if(u(e.content?e.content:""),"mj-text"===e.tagName){if(e.attributes&&e.attributes["css-class"]&&e.attributes["css-class"].includes("html-block"))return f(!1),void x(!0);f(!0)}else f(!1);x(!1)}}}),[n,a]);var O=function(e){var t=e.currentTarget.value;if(u(t),a&&n){var r=G.a.get(o,a);if(r&&r.content!==t){r.content=t;var i=G.a.set(o,a,r);c(Object($.a)({},i))}}};return n?Object(m.jsx)(B.a.Item,{label:"Content",children:v?Object(m.jsx)(q.a.TextArea,{rows:28,onChange:O,value:d}):Object(m.jsx)(q.a.TextArea,{disabled:j||!1,readOnly:j||!1,rows:3,onChange:O,value:d})}):null},ra=function(e){var t=e.activePath,n=Xe(),a=n.mjmlJson,r=n.setMjmlJson,i=Yt({attribute:"border-top",customPath:t}),o=Object(z.a)(i,2),c=o[0],s=o[1],l=function(e,t){c&&s&&e.target.value&&(""===e.target.value&&(e.target.value=""),d(t,e.target.value))},d=function(e,t){if(s){""===t&&(t="none");var n=G.a.get(a,s);n.attributes["border-".concat(e)]=t;var i=G.a.set(a,s,n);r(Object($.a)({},i))}},u=function(e,t){if(1===e.currentTarget.value.length&&"Backspace"===e.key&&(e.currentTarget.value=""),("ArrowUp"===e.key||"ArrowDown"===e.key)&&(e.preventDefault(),c)){var n=G.a.get(a,s+"attributes")["border-"+t],r=new RegExp(/^\d+/).exec(n),i=r?parseInt(r[0]):0;"ArrowUp"===e.key?n=n.replace(/^\d+/,i+1):"ArrowDown"===e.key&&i>0&&(n=n.replace(/^\d+/,i-1)),e.currentTarget.value=n,d(t,e.currentTarget.value)}},b="",p="",j="",f="";return c&&(b=G.a.get(a,s+"attributes.border-left"),p=G.a.get(a,s+"attributes.border-right"),f=G.a.get(a,s+"attributes.border-top"),j=G.a.get(a,s+"attributes.border-bottom")),c?Object(m.jsxs)(B.a.Item,{label:"Border Directions",children:[Object(m.jsx)(q.a.Group,{style:{marginBottom:"6px"},children:Object(m.jsxs)(A.a,{children:[Object(m.jsx)(D.a,{span:11,offset:0,children:Object(m.jsx)(q.a,{addonBefore:"top",onKeyDown:function(e){return u(e,"top")},onChange:function(e){return l(e,"top")},value:f})}),Object(m.jsx)(D.a,{span:11,offset:2,children:Object(m.jsx)(q.a,{addonBefore:"right",onKeyDown:function(e){return u(e,"right")},onChange:function(e){return l(e,"right")},value:p})})]})}),Object(m.jsx)(q.a.Group,{children:Object(m.jsxs)(A.a,{children:[Object(m.jsx)(D.a,{span:11,offset:0,children:Object(m.jsx)(q.a,{addonBefore:"bottom",onKeyDown:function(e){return u(e,"bottom")},onChange:function(e){return l(e,"bottom")},value:j})}),Object(m.jsx)(D.a,{span:11,offset:2,children:Object(m.jsx)(q.a,{addonBefore:"left",onKeyDown:function(e){return u(e,"left")},onChange:function(e){return l(e,"left")},value:b})})]})})]}):null},ia="font-size",oa=function(){var e=Yt({attribute:ia}),t=Object(z.a)(e,2),n=t[0],a=t[1],r=Xe(),i=r.mjmlJson,o=r.setMjmlJson,c=Xt({path:a,visible:n,attribute:ia}).getValue;return n?Object(m.jsx)(B.a.Item,{label:"FontSize",children:Object(m.jsx)(q.a,{onChange:function(e){var t=e.currentTarget.value;if(a&&n){var r,c=G.a.get(i,a);c.attributes["font-size"]=t,r=G.a.set(i,a,c),o(Object($.a)({},r))}},value:c()})}):null},ca="src",sa=function(){var e=Yt({attribute:ca}),t=Object(z.a)(e,2),n=t[0],a=t[1],r=Xe(),i=r.mjmlJson,o=r.setMjmlJson,c=Xt({path:a,visible:n,attribute:ca}).getValue;return n?Object(m.jsx)(A.a,{children:Object(m.jsx)(D.a,{span:24,children:Object(m.jsx)(q.a,{addonBefore:"src",onChange:function(e){return function(e){var t=e.currentTarget.value;if(a&&n){var r,c=G.a.get(i,a);c.attributes.src=t,r=G.a.set(i,a,c),o(Object($.a)({},r))}}(e)},value:c()})})}):null},la="inner-padding",da=function(){var e=Yt({attribute:la}),t=Object(z.a)(e,2),n=t[0],a=t[1],i=Xe(),o=i.mjmlJson,c=i.setMjmlJson,s=Object(r.useState)(),l=Object(z.a)(s,2),d=l[0],u=l[1];Object(r.useEffect)((function(){if(n&&a){var e=G.a.get(o,a);e&&e.attributes&&e.attributes["inner-padding"]&&u(e.attributes["inner-padding"])}}),[n,a]),Object(r.useEffect)((function(){d&&function(e){var t=e.visible,n=e.path,a=e.mjmlJson,r=e.setMjmlJson,i=e.attribute,o=e.value;if(t&&n){var c=G.a.get(a,n,t);if(c&&c.attributes&&c.attributes[i]!==o){c.attributes[i]=o;var s=G.a.set(a,n,c);r(Object($.a)({},s))}}}({visible:n,path:a,mjmlJson:o,setMjmlJson:c,value:d,attribute:la})}),[d]);return n?Object(m.jsx)(B.a.Item,{label:"Inner Padding :",children:Object(m.jsx)(q.a,{onChange:function(e){var t=e.currentTarget.value;F("inner padding value",t),a&&n&&u(t)},type:"text",value:d})}):null},ua=function(e){var t=e.activePath,n=Yt({attribute:"padding",customPath:t}),a=Object(z.a)(n,3),i=a[0],o=a[1],c=a[2],s=Xe(),l=s.mjmlJson,d=s.setMjmlJson,u=function(e,t){""===e.currentTarget.value&&(e.currentTarget.value="0"),b(t,e.currentTarget.value)},b=Object(r.useMemo)((function(){return function(e,t){if(o&&i){var n={};if(e){var a=G.a.get(l,o);a.attributes["padding-".concat(e)]=t,n=G.a.set(l,o,a),d(Object($.a)({},n))}}}}),[i,o]),p=function(e){var t="";if(o&&i&&c){var n=G.a.get(l,o);if(!n)return;if(!(t=n.attributes?n.attributes["padding-".concat(e)]:null)&&(t=n.attributes.padding)){var a=t.split(" "),r=Object(z.a)(a,2),s=r[0],d=r[1];switch(e){case"top":case"bottom":return s;case"left":case"right":return d}}}return t};return i?Object(m.jsxs)(B.a.Item,{label:"Padding :",children:[Object(m.jsx)(q.a.Group,{style:{marginBottom:"6px"},children:Object(m.jsxs)(A.a,{children:[Object(m.jsx)(D.a,{span:11,offset:0,children:Object(m.jsx)(q.a,{addonBefore:"top",onChange:function(e){return u(e,"top")},value:p("top")})}),Object(m.jsx)(D.a,{span:11,offset:2,children:Object(m.jsx)(q.a,{addonBefore:"right",onChange:function(e){return u(e,"right")},value:p("right")})})]})}),Object(m.jsx)(q.a.Group,{children:Object(m.jsxs)(A.a,{children:[Object(m.jsx)(D.a,{span:11,offset:0,children:Object(m.jsx)(q.a,{addonBefore:"bottom",onChange:function(e){return u(e,"bottom")},value:p("bottom")})}),Object(m.jsx)(D.a,{span:11,offset:2,children:Object(m.jsx)(q.a,{addonBefore:"left",onChange:function(e){return u(e,"left")},value:p("left")})})]})})]}):null},ba=n(2081),pa=n(2090),ja={display:"flex",height:"16px",borderRadius:"0px"},fa="1px solid rgb(85, 85, 85)",ha=function(){var e=Ye().active,t=Xe(),n=t.mjmlJson,a=t.setMjmlJson,i=ce(),o=i.setDelActive,c=i.copy.setCopyActive,s=nt().setActive,l=re().getId,d=Object(r.useState)(!1),u=Object(z.a)(d,2),b=u[0],p=u[1],j=Object(r.useState)(),f=Object(z.a)(j,2),h=f[0],g=f[1];Object(r.useEffect)((function(){if(e){var t=ot(e);if(t){var n=Object(z.a)(t,2)[1];return p(!0),void g(n)}}p(!1)}),[e,b]);var v=function(e){if(b&&h){var t=se(n,h);if(t){var r=Object(z.a)(t,2),i=r[0],d=r[1];if(i&&d&&i.children&&e.length>0){for(var u=i.children.length,p=e.length,j=[],f=0;f<u&&f<p;f++){var g=G.a.cloneDeep(i.children[f]);g&&g.attributes&&(g.attributes.width=e[f],j.push(g))}for(var m=u;m<p;m++){var v=be(G.a.cloneDeep(he),l);v.attributes.width=e[m],j.push(v)}var x=Object($.a)(Object($.a)({},i),{},{children:j});F("column layout: ",x);var O=G.a.set(n,d.slice(1),x);O&&(K.newAction(O),o(!1),c(!1),s(!1),a(Object($.a)({},O)))}}}};return b?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(ma,{children:Object(m.jsx)("p",{children:"1 Columns"})}),Object(m.jsx)(ga,{click:function(){return v(["100%"])},one:100})]}),Object(m.jsxs)("div",{style:{marginTop:"16px"},children:[Object(m.jsx)(ma,{children:Object(m.jsx)("p",{children:"2 Columns"})}),Object(m.jsx)(ga,{click:function(){return v(["50%","50%"])},one:50,two:50}),Object(m.jsx)(ga,{click:function(){return v(["39%","59%"])},one:40,two:60}),Object(m.jsx)(ga,{click:function(){return v(["25%","75%"])},one:25,two:75}),Object(m.jsx)(ga,{click:function(){return v(["60%","40%"])},one:60,two:40}),Object(m.jsx)(ga,{click:function(){return v(["75%","25%"])},one:75,two:25})]}),Object(m.jsxs)("div",{style:{marginTop:"16px"},children:[Object(m.jsx)(ma,{children:Object(m.jsx)("p",{children:"3 Columns"})}),Object(m.jsx)(ga,{click:function(){return v(["33%","33%","33%"])},one:50,two:50,three:50}),Object(m.jsx)(ga,{click:function(){return v(["47.5%","5%","47.5%"])},one:47.5,two:5,three:47.5}),Object(m.jsx)(ga,{click:function(){return v(["25%","25%","50%"])},one:25,two:25,three:50}),Object(m.jsx)(ga,{click:function(){return v(["25%","50%","25%"])},one:25,two:50,three:25}),Object(m.jsx)(ga,{click:function(){return v(["50%","25%","25%"])},one:50,two:25,three:25})]}),Object(m.jsxs)("div",{style:{marginTop:"16px"},children:[Object(m.jsx)(ma,{children:Object(m.jsx)("p",{children:"4 Columns"})}),Object(m.jsx)(ga,{click:function(){return v(["25%","25%","25%","25%"])},one:50,two:50,three:50,four:50})]})]}):Object(m.jsx)("div",{style:{textAlign:"center"},children:"Select an item inside the body"})},ga=function(e){var t=e.click,n=e.one,a=e.two,r=e.three,i=e.four;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(A.a,{style:{marginBottom:"12px"}}),Object(m.jsx)(va,{onClick:t||void 0,children:Object(m.jsx)("div",{className:"wrapper",children:Object(m.jsxs)("div",{className:"border",children:[Object(m.jsx)("div",{style:Object($.a)(Object($.a)({},ja),{},{flexGrow:n,borderRight:a?fa:"unset"})}),a?Object(m.jsx)("div",{style:Object($.a)(Object($.a)({},ja),{},{flexGrow:a,borderRight:r?fa:"unset"})}):null,r?Object(m.jsx)("div",{style:Object($.a)(Object($.a)({},ja),{},{flexGrow:r,borderRight:i?fa:"unset"})}):null,i?Object(m.jsx)("div",{style:Object($.a)(Object($.a)({},ja),{},{flexGrow:a})}):null]})})})]})},ma=Object(f.a)(A.a)(De||(De=Object(p.a)(["\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n  p {\n    margin: 0px;\n    text-align: inherit;\n    color: rgb(85, 85, 85);\n    font-size: 14px;\n    font-weight: 600;\n  }\n"]))),va=Object(f.a)(A.a)(Ee||(Ee=Object(p.a)(["\n  background-color: rgb(252, 252, 252);\n  border: 1px solid rgb(229, 229, 229);\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: flex;\n  box-shadow: none;\n  cursor: grab;\n\n  &:hover {\n    background-color: rgb(255, 255, 255);\n    box-shadow: rgb(0 0 0 / 20%) 0px 1px 4px;\n    border-color: rgb(255, 255, 255);\n  }\n\n  .wrapper {\n    margin: 10px;\n    background-color: rgb(255, 255, 255);\n    position: relative;\n    width: 100%;\n    display: flex;\n    border-radius: 3px;\n    box-sizing: border-box;\n\n    .border {\n      border: 1px solid rgb(85, 85, 85);\n      border-radius: 3px;\n      display: flex;\n      -webkit-box-align: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n    }\n  }\n"]))),xa="font-family",Oa=jt.a.Option,ya=function(){var e=Yt({attribute:xa}),t=Object(z.a)(e,2),n=t[0],a=t[1],r=Xe(),i=r.mjmlJson,o=r.setMjmlJson,c=Xt({path:a,visible:n,attribute:xa}).getValue,s=Gt(),l=Object(z.a)(s,2),d=l[0],u=l[1],b="";return n&&a&&(b=c())&&b.indexOf(",")>-1&&(b=b.split(",")[0]),n?Object(m.jsx)(B.a.Item,{label:"Font Family",children:Object(m.jsx)(jt.a,{value:u,onChange:function(e){if(n&&a){var t=G.a.get(i,a);if(t){t.attributes["font-family"]=e;var r=G.a.set(i,a,t);r&&o(Object($.a)({},r))}}},children:d.map((function(e){return Object(m.jsx)(Oa,{value:e,children:e},e)}))})}):null},ka=n(177),wa="vertical-align",Ca=function(e){var t=e.activePath,n=Yt({attribute:wa,customPath:t}),a=Object(z.a)(n,2),r=a[0],i=a[1],o=Xe(),c=o.mjmlJson,s=o.setMjmlJson,l=Ye().active,d=function(e){if(l&&r&&i){var t=G.a.get(c,i);if(t&&t.attributes){t.attributes["vertical-align"]=e;var n=G.a.set(c,i,t);s(Object($.a)({},n))}}};return r?Object(m.jsxs)(A.a,{children:[Object(m.jsx)(D.a,{flex:"auto",children:Object(m.jsx)(B.a.Item,{label:"Vertical Align"})}),Object(m.jsx)(D.a,{children:Object(m.jsxs)(A.a,{justify:"space-between",gutter:[16,0],children:[Object(m.jsx)(zt.a,{title:"Top",children:Object(m.jsx)(j.a,{onClick:function(){return d("top")},type:"ghost",icon:Object(m.jsx)(ka.VerticalAlignTopOutlined,{})})}),Object(m.jsx)(D.a,{children:Object(m.jsx)(zt.a,{placement:"left",title:"Middle :Note: all columns in section must be set to middle, for this to work.",children:Object(m.jsx)(j.a,{onClick:function(){return d("middle")},type:"ghost",icon:Object(m.jsx)(ka.VerticalAlignMiddleOutlined,{})})})}),Object(m.jsx)(D.a,{children:Object(m.jsx)(zt.a,{title:"Bottom",children:Object(m.jsx)(j.a,{onClick:function(){return d("bottom")},type:"ghost",icon:Object(m.jsx)(ka.VerticalAlignBottomOutlined,{})})})})]})})]}):null},Sa="background-url",Na="background-size",Aa="background-repeat",Da=function(){var e=Object(r.useState)(""),t=Object(z.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(""),o=Object(z.a)(i,2),c=o[0],s=o[1],l=Object(r.useState)(""),d=Object(z.a)(l,2),u=d[0],b=d[1],p=Xe(),j=p.mjmlJson,f=p.setMjmlJson,h=Yt({attribute:Sa}),g=Object(z.a)(h,2),v=g[0],x=g[1],O=Yt({attribute:Na}),y=Object(z.a)(O,2),k=y[0],w=y[1],C=Yt({attribute:Aa}),S=Object(z.a)(C,2),N=S[0],E=S[1];if(Object(r.useEffect)((function(){if(j){if(v){var e=G.a.get(j,x);e&&a(e.attributes[Sa])}if(k){var t=G.a.get(j,w);t&&s(t.attributes[Na])}if(N){var n=G.a.get(j,E);n&&b(n.attributes[Aa])}}}),[v,k,N]),!1===v&&!1===k&&!1===N)return null;return Object(m.jsx)(B.a.Item,{label:"Background Image:",children:Object(m.jsx)(q.a.Group,{children:Object(m.jsxs)(A.a,{gutter:[0,4],children:[v?Object(m.jsx)(D.a,{span:24,children:Object(m.jsx)(q.a,{addonBefore:"url",onChange:function(e){if(a(e.target.value),v&&x&&e.target.value){var t=G.a.get(j,x);if(t&&t.attributes){t.attributes[Sa]=e.target.value;var n=G.a.set(j,x,t);f(Object($.a)({},n))}}},value:n})}):null,k?Object(m.jsx)(D.a,{span:24,children:Object(m.jsx)(q.a,{addonBefore:"size",onChange:function(e){if(s(e.target.value),k&&w&&e.target.value){var t=G.a.get(j,x);if(t&&t.attributes){t.attributes[Na]=e.target.value;var n=G.a.set(j,w,t);f(Object($.a)({},n))}}},value:c,placeholder:"px/percent/'cover'/'contain'"})}):null,N?Object(m.jsx)(D.a,{span:24,children:Object(m.jsx)(q.a,{addonBefore:"repeat",onChange:function(e){if(b(e.target.value),N&&E&&e.target.value){var t=G.a.get(j,x);if(t&&t.attributes){t.attributes[Aa]=e.target.value;var n=G.a.set(j,E,t);f(Object($.a)({},n))}}},value:u,placeholder:"repeat"})}):null]})})})},Ea=ba.a.TabPane,Ma=Object(f.a)(ba.a)(Me||(Me=Object(p.a)(["\n  .ant-tabs-tab {\n    padding-top: 0px;\n  }\n  .ant-tabs-content {\n    height: 100%;\n  }\n\n  .mods {\n    padding: 24px 16px;\n    padding-top: 4px;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .ant-row {\n    margin-bottom: 8px;\n  }\n"]))),Ja=function(){var e=Xe().mjmlJson,t=Ye().active,n=Object(r.useState)([]),a=Object(z.a)(n,2),i=a[0],o=a[1];return Object(r.useEffect)((function(){if(t){var n=ot(t);if(n){var a=Object(z.a)(n,2)[1],r=se(e,a);if(r){var c=Object(z.a)(r,2),s=c[0],l=c[1];if(l=l.slice(1),s&&s.children&&s.children.length>0){for(var d=[],u=0;u<s.children.length;u++)"mj-column"===s.children[u].tagName&&d.push("".concat(l,".children[").concat(u,"]"));return void(G.a.isEqual(i,d)||o(d))}}}}o([])}),[t]),t&&i.length>0?Object(m.jsx)(Ma,{centered:!0,tabBarGutter:2,defaultActiveKey:"0",style:{height:"100%"},destroyInactiveTabPane:!1,children:i&&i.map((function(t,n){return Object(m.jsx)(Ea,{tab:"column ".concat(n+1),children:Object(m.jsx)(J.a,{style:{height:"100%"},autoHide:!0,children:Object(m.jsxs)("div",{className:"mods",onMouseDown:function(t){K.newAction(e)},onBlur:function(t){K.newAction(e)},children:[Object(m.jsx)(Mt,{activePath:t}),Object(m.jsx)(Ca,{activePath:t}),Object(m.jsx)(ua,{activePath:t}),Object(m.jsx)(Nt,{activePath:t}),Object(m.jsx)(Nt,{label:"Inner Background:",overrideAttribute:"inner-background-color",activePath:t}),Object(m.jsx)(Qn,{activePath:t}),Object(m.jsx)(Vn,{activePath:t}),Object(m.jsx)(ra,{activePath:t})]})})},n)}))}):Object(m.jsx)("div",{style:{textAlign:"center",marginTop:"24px"},children:"Select an item inside the body"})},Ta="line-height",Pa=function(){var e=Yt({attribute:Ta}),t=Object(z.a)(e,2),n=t[0],a=t[1],i=Xe(),o=i.mjmlJson,c=i.setMjmlJson,s=Object(r.useState)("100%"),l=Object(z.a)(s,2),d=l[0],u=l[1],b=Xt({path:a,visible:n,attribute:Ta}).getValue;Object(r.useEffect)((function(){if(n&&a){var e=b();u(e)}}),[n,a]);return n?Object(m.jsx)(Lt.a,{children:Object(m.jsxs)(A.a,{children:[Object(m.jsx)(D.a,{flex:"auto",children:"Line Height:"}),Object(m.jsx)(D.a,{flex:"none",children:Object(m.jsx)(za,{onChange:function(e){u(e.target.value),n&&a&&e&&e.target&&("number"===typeof e.target.value&&e.target.value<0&&(e.target.value=0),Ia(e.target.value.toString(),a,o,c))},addonBefore:Object(m.jsx)("span",{onClick:function(){_a(n,d,o,a,u,c,"dec")},children:"-"}),addonAfter:Object(m.jsx)("span",{onClick:function(){_a(n,d,o,a,u,c,"inc")},children:"+"}),value:d,style:{width:"".concat(d?d.toString().length+12:12,"ch ")}})})]})}):null},za=Object(f.a)(q.a)(Je||(Je=Object(p.a)(["\n  .ant-input-group-addon {\n    cursor: pointer;\n    user-select: none;\n    padding:0px;\n    &:hover {\n      color: #40a9ff;\n    }\n    span{\n        padding 0 11px;\n    }\n  }\n"]))),_a=function(e,t,n,a,r,i,o){if(e&&t){var c,s=t,l=t;s.includes("%")?(c="inc"===o?10:-10,s=s.split("%")[0],s=parseInt(s)):(c="inc"===o?1:-1,s=parseInt(s));var d=s,u=Math.max(s+c,0),b=l.replace(d.toString(),u.toString());r(b),Ia(b.toString(),a,n,i)}},Ia=function(e,t,n,a){var r=G.a.get(n,t);if(r&&r.attributes){r.attributes["line-height"]=e;var i=G.a.set(n,t,r);i&&a(Object($.a)({},i))}},La=ba.a.TabPane,Ba=Object(f.a)(ba.a)(Te||(Te=Object(p.a)(["\n  .ant-tabs-content {\n    height: 100%;\n  }\n  .ant-tabs-tab {\n    padding: 8px 16px !important;\n  }\n  .ant-tabs-tabpane {\n    padding-right: 0px !important;\n  }\n"]))),Ra=function(){Xe().mjmlJson;var e=Ye().active,t=Object(r.useState)(!1),n=Object(z.a)(t,2),a=n[0],i=n[1];return Object(r.useEffect)((function(){e&&e.classList&&e.className.includes("mj-column")&&i(!0),a&&i(!1)}),[e]),Object(m.jsxs)(Ba,{tabPosition:"right",defaultActiveKey:"2",style:{height:"100%"},destroyInactiveTabPane:!0,title:"Attributes",size:"small",tabBarGutter:1,children:[Object(m.jsx)(La,{tab:Object(m.jsx)("span",{style:{fontSize:"12px"},children:"layout"}),children:Object(m.jsx)(M.Scrollbars,{style:{height:"100%"},autoHide:!0,children:Object(m.jsx)("div",{className:Qe.a.columns,children:Object(m.jsx)(ha,{})})})},"2"),Object(m.jsx)(La,{tab:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{style:{fontSize:"12px"},children:"layout"}),Object(m.jsx)("br",{}),Object(m.jsx)("span",{style:{fontSize:"12px"},children:"config"})]}),children:Object(m.jsx)(M.Scrollbars,{style:{height:"100%"},autoHide:!0,children:Object(m.jsx)(Ja,{})})},"3"),Object(m.jsx)(La,{tab:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{style:{fontSize:"12px"},children:"body"}),Object(m.jsx)("br",{}),Object(m.jsx)("span",{style:{fontSize:"12px"},children:"config"})]}),children:Object(m.jsx)(M.Scrollbars,{style:{height:"100%"},autoHide:!0,children:Object(m.jsx)(Ut,{})})},"4")]})},qa=function(){var e=Xe().mjmlJson,t=Ye(),n=t.active,a=(t.setActive,Object(r.useState)(!1)),i=Object(z.a)(a,2),o=i[0],c=i[1],s=Object(r.useState)(!1),l=Object(z.a)(s,2),d=l[0],u=l[1],b=Object(r.useState)(!1),p=Object(z.a)(b,2),j=p[0],f=p[1];return Object(r.useEffect)((function(){n&&!j&&f(!0),n&&(n.classList&&n.className.includes("mj-column")||n.classList&&n.className.includes("mj-body"))?c(!0):o&&c(!1)}),[n]),Object(r.useEffect)((function(){u(!(o||!n))}),[o,n]),j?Object(m.jsx)(pa.a,{destroyOnClose:!0,width:"100%",getContainer:!1,title:Object(m.jsx)("div",{style:{textAlign:"center"},children:Object(m.jsx)("span",{children:"Attributes"})}),style:{position:"absolute",height:"100%"},onClose:function(){u(!1)},visible:d,maskClosable:!1,mask:!1,bodyStyle:{padding:"8px 0px"},children:Object(m.jsx)(M.Scrollbars,{style:{height:"100%"},autoHide:!0,children:Object(m.jsxs)("div",{className:Qe.a.mods,onMouseDown:function(t){K.newAction(e)},onBlur:function(t){K.newAction(e)},children:[Object(m.jsx)(Mt,{}),Object(m.jsx)(Tt,{}),Object(m.jsx)(Xn,{}),Object(m.jsx)(Ca,{}),Object(m.jsx)(aa,{}),Object(m.jsx)(Pa,{}),Object(m.jsx)(oa,{}),Object(m.jsx)(ya,{}),Object(m.jsx)(ua,{}),Object(m.jsx)(da,{}),Object(m.jsx)($n,{}),Object(m.jsx)(Nt,{}),Object(m.jsx)(Da,{}),Object(m.jsx)(Vn,{}),Object(m.jsx)(Vn,{label:"Border Width",attribute_name:"border-width"}),Object(m.jsx)(Vn,{label:"Border Style",attribute_name:"border-style"}),Object(m.jsx)(Nt,{label:"Border Color",overrideAttribute:"border-color"}),Object(m.jsx)(ra,{}),Object(m.jsx)(Qn,{}),Object(m.jsx)(Zt,{}),Object(m.jsx)(sa,{})]})})}):null},Ha=n(2088),Fa=n(178),Ua=n.n(Fa),Wa=function(e){var t=e.background,n=e.label;return Object(m.jsxs)("div",{className:Ua.a.wrapper,children:[Object(m.jsx)("div",{className:"".concat(Ua.a.container," ").concat(Ua.a[t])}),Object(m.jsx)("span",{children:n})]})},Ya=["align","background-color","border","border-bottom","border-left","border-radius","border-right","border-top","color","container-background-color","css-class","font-family","font-size","font-style","font-weight","height","href","inner-padding","letter-spacing","line-height","padding","padding-bottom","padding-left","padding-right","padding-top","rel","target","text-align","text-decoration","text-transform","title","vertical-align","width"],Xa={align:"center","background-color":"#414141",border:"none","border-bottom":"","border-left":"","border-radius":"3px","border-right":"","border-top":"",color:"#ffffff","container-background-color":"","css-class":"","font-family":"Ubuntu, Helvetica, Arial, sans-serif","font-size":"13px","font-style":"","font-weight":"normal",height:"",href:"","inner-padding":"10px 25px","letter-spacing":"","line-height":"120%",padding:"10px 25px","padding-bottom":"","padding-left":"","padding-right":"","padding-top":"",rel:"",target:"_blank","text-align":"none","text-decoration":"none","text-transform":"none",title:"","vertical-align":"middle",width:""},Va={align:"center","background-color":"#414141",border:"none","border-radius":"3px",color:"#ffffff","font-family":"Ubuntu, Helvetica, Arial, sans-serif","font-size":"13px","font-weight":"normal","inner-padding":"10px 25px","line-height":"120%",padding:"10px 25px",target:"_blank","text-align":"none","text-decoration":"none","text-transform":"none","vertical-align":"middle"},Ga=function(){var e=Xe(),t=e.mjmlJson,n=e.setMjmlJson,a={tagName:"mj-button",attributes:Object($.a)(Object($.a)({},Va),{},{"css-class":"mjml-tag identifier-mj-button"}),children:[],content:"button",mutableProperties:Ya,mutalbePropertiesWithDefaultValues:Xa};return Object(m.jsx)("div",{onDragEnd:function(e){var a=ve(t);n(Object($.a)({},a))},onDragStart:function(e){je(e,a)},draggable:!0,children:Object(m.jsx)(Wa,{background:"button",label:"Button"})})},Ka=["color","font-family","font-size","font-style","font-weight","line-height","letter-spacing","height","text-decoration","text-transform","align","container-background-color","padding","padding-top","padding-bottom","padding-left","padding-right","css-class"],Qa={color:"#000000","font-family":"Ubuntu, Helvetica, Arial, sans-serif","font-size":"13px","font-style":"","font-weight":"","line-height":"1","letter-spacing":"none",height:"","text-decoration":"","text-transform":"",align:"left","container-background-color":"",padding:"10px 25px","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","css-class":""},Za={color:"#000000","font-size":"13px","line-height":"1","letter-spacing":"none",align:"center",padding:"10px 25px"},$a=function(){var e=Xe(),t=e.mjmlJson,n=e.setMjmlJson,a={tagName:"mj-text",attributes:Object($.a)(Object($.a)({},Za),{},{align:"left","padding-left":"0px","padding-right":"0px","css-class":"mjml-tag identifier-mj-text"}),content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque quis dolor auctor.",mutableProperties:Ka,mutalbePropertiesWithDefaultValues:Qa};return Object(m.jsx)("div",{onDragEnd:function(e){var a=ve(t);n(Object($.a)({},a))},onDragStart:function(e){je(e,a)},draggable:!0,children:Object(m.jsx)(Wa,{background:"text",label:"Text"})})},er=(n(2069),["align","alt","border","border-top","border-bottom","border-left","border-right","border-radius","container-background-color","css-class","fluid-on-mobile","height","href","name","padding","padding-bottom","padding-left","padding-right","padding-top","rel","sizes","src","srcset","target","title","usemap","width"]),tr={align:"center",alt:"",border:"none","border-top":"none","border-bottom":"none","border-left":"none","border-right":"none","border-radius":"","container-background-color":"","css-class":"","fluid-on-mobile":"",height:"auto",href:"",name:"",padding:"10px 25px","padding-bottom":"","padding-left":"","padding-right":"","padding-top":"",rel:"",sizes:"",src:"",srcset:"",target:"_blank",title:"",usemap:"",width:"100%"},nr={align:"center",border:"none","border-top":"none","border-bottom":"none","border-left":"none","border-right":"none",height:"auto",padding:"10px 25px",target:"_blank",width:"100%"},ar=function(){var e=Xe(),t=e.mjmlJson,n=e.setMjmlJson,a={tagName:"mj-image",attributes:Object($.a)(Object($.a)({},nr),{},{"css-class":"mjml-tag identifier-mj-image",width:"auto",padding:"0px 8px",src:"https://dev.bluepie.in/dnde.png"}),children:[],mutableProperties:er,mutalbePropertiesWithDefaultValues:tr};return Object(m.jsx)("div",{onDragEnd:function(e){var a=ve(t);n(Object($.a)({},a))},onDragStart:function(e){je(e,a)},draggable:!0,children:Object(m.jsx)(Wa,{background:"image",label:"Image"})})},rr=["container-background-color","css-class","height","padding","padding-bottom","padding-left","padding-right","padding-top"],ir={"container-background-color":"","css-class":"",height:"20px",padding:"none","padding-bottom":"","padding-left":"","padding-right":"","padding-top":""},or={height:"20px",padding:"none"},cr=function(){var e=Xe(),t=e.mjmlJson,n=e.setMjmlJson,a={tagName:"mj-spacer",attributes:Object($.a)(Object($.a)({},or),{},{"css-class":"mjml-tag identifier-mj-spacer"}),children:[],mutableProperties:rr,mutalbePropertiesWithDefaultValues:ir};return Object(m.jsx)("div",{onDragEnd:function(e){var a=ve(t);n(Object($.a)({},a))},onDragStart:function(e){je(e,a)},draggable:!0,children:Object(m.jsx)(Wa,{background:"spacer",label:"Spacer"})})},sr=function(){var e=Xe(),t=e.mjmlJson,n=e.setMjmlJson,a={tagName:"mj-text",attributes:{"css-class":"mjml-tag identifier-mj-html html-block",padding:"0px"},mutableProperties:["font-family"],content:'\n    <table border="1" style="width:100%; border-collapse:collapse">\n    <tr style="font-weight:bold">\n      <td>S. No</td> \n      <td>Items</td>\n      <td>Quantity</td>\n      <td align="center">Price</td>\n    </tr>\n    <tr>\n      <td>1</td>\n      <td>egg</td>\n      <td>24</td>\n      <td align="center">$10.00</td>\n    </tr>\n    <tr>\n      <td>2</td>\n      <td>milk</td>\n      <td>5</td>\n      <td align="center">$8</td>\n    </tr>\n    <tr>\n      <td>3</td>\n      <td>curd</td>\n      <td>8</td>\n      <td align="center">$8</td>\n    </tr>\n    </table>\n    '};return Object(m.jsx)("div",{onDragEnd:function(e){var a=ve(t);n(Object($.a)({},a))},onDragStart:function(e){je(e,a)},draggable:!0,children:Object(m.jsx)(Wa,{background:"html",label:" Html"})})},lr=["border-color","border-style","border-width","container-background-color","css-class","padding","padding-bottom","padding-left","padding-right","padding-top","width","align"],dr={"border-color":"#000000","border-style":"solid","border-width":"4px","container-background-color":"","css-class":"",padding:"10px 25px","padding-bottom":"","padding-left":"","padding-right":"","padding-top":"",width:"100%",align:"center"},ur={"border-color":"#000000","border-style":"solid","border-width":"4px",padding:"10px 25px",width:"100%",align:"center"},br=function(){var e=Xe(),t=e.mjmlJson,n=e.setMjmlJson,a={tagName:"mj-divider",attributes:Object($.a)(Object($.a)({},ur),{},{padding:"0px","css-class":"mjml-tag identifier-mj-divider"}),children:[],mutableProperties:lr,mutalbePropertiesWithDefaultValues:dr};return Object(m.jsx)("div",{onDragEnd:function(e){var a=ve(t);n(Object($.a)({},a))},onDragStart:function(e){je(e,a)},draggable:!0,children:Object(m.jsx)(Wa,{background:"divider",label:"Divider"})})},pr=["align","border-radius","color","css-class","container-background-color","font-family","font-size","font-style","font-weight","icon-height","icon-size","inner-padding","line-height","mode","padding","padding-bottom","padding-left","padding-right","padding-top","icon-padding","text-padding","text-decoration"],jr={tagName:"mj-social-element",attributes:{"css-class":"mjml-tag identifier-mj-social-element"},mutableProperties:["align","alt","background-color","border-radius","color","css-class","font-family","font-size","font-style","font-weight","href","icon-height","icon-size","line-height","name","padding","padding-bottom","padding-left","padding-right","padding-top","icon-padding","text-padding","sizes","src","srcset","rel","target","title","text-decoration","vertical-align"]},fr=function(){var e={tagName:"mj-social",attributes:{"css-class":"mjml-tag identifier-mj-social"},children:[Object($.a)(Object($.a)({},jr),{},{attributes:Object($.a)(Object($.a)({},jr.attributes),{},{name:"facebook-noshare",href:"https://github.com/aghontpi",src:"https://dev.bluepie.in/assets/facebook.png"})}),Object($.a)(Object($.a)({},jr),{},{attributes:Object($.a)(Object($.a)({},jr.attributes),{},{name:"twitter-noshare",href:"https://twitter.com/aghontpi",src:"https://dev.bluepie.in/assets/twitter.png"})}),Object($.a)(Object($.a)({},jr),{},{attributes:Object($.a)(Object($.a)({},jr.attributes),{},{name:"youtube-noshare",href:"https://github.com/aghontpi",src:"https://dev.bluepie.in/assets/youtube.png"})}),Object($.a)(Object($.a)({},jr),{},{attributes:Object($.a)(Object($.a)({},jr.attributes),{},{name:"github",href:"https://github.com/aghontpi",src:"https://dev.bluepie.in/assets/github.png"})})],mutableProperties:pr};return Object(m.jsx)("div",{onDragStart:function(t){je(t,e)},draggable:!0,children:Object(m.jsx)(Wa,{background:"social",label:"Social"})})},hr=function(){var e=Object($.a)(Object($.a)({},ge),{},{children:[he]}),t=ce().drag.setIsColumn;return Object(m.jsx)("div",{onDragStart:function(n){t(!0),je(n,e)},draggable:!0,children:Object(m.jsx)(Wa,{background:"section",label:"Section"})})},gr=(Ha.a.Panel,function(){return Object(m.jsx)(J.a,{style:{height:"100%"},autoHide:!0,children:Object(m.jsxs)("div",{className:Qe.a.components,children:[Object(m.jsx)(hr,{}),Object(m.jsx)(Ga,{}),Object(m.jsx)($a,{}),Object(m.jsx)(ar,{}),Object(m.jsx)(cr,{}),Object(m.jsx)(br,{}),Object(m.jsx)(sr,{}),Object(m.jsx)(fr,{})]})})}),mr=n(2089),vr=(n(2070),Object(f.a)(I.a).attrs({title:"Preview"})(Pe||(Pe=Object(p.a)(["\n  .ant-modal {\n    max-width: unset !important;\n    margin: unset !important;\n  }\n  .ant-modal-centered::before {\n    content: unset !important;\n  }\n  .ant-modal-content {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n  .ant-modal-body {\n    margin: 0px auto;\n  }\n"])))),xr=f.a.div(ze||(ze=Object(p.a)(["\n  position: absolute;\n  bottom: 24px;\n  left: 24px;\n"]))),Or=function(e){var t=e.visible,n=e.visibleChange,a=e.inframeContent,i=Object(r.useState)("desktop"),o=Object(z.a)(i,2),c=o[0],s=o[1];return Object(m.jsxs)(vr,{visible:t,onCancel:function(){return n(!1)},onOk:function(){return n(!1)},width:"unset",style:{top:"0px",maxWidth:"unset",paddingBottom:"0px",height:"100%"},bodyStyle:{height:"100%"},maskStyle:{height:"100%"},destroyOnClose:!0,footer:null,children:[Object(m.jsx)(xr,{children:Object(m.jsx)(yr,{onChange:function(e){e.target.value&&s(e.target.value)},value:c})}),a?Object(m.jsx)("iframe",{title:"Preview",style:{margin:"0px auto"},width:"desktop"===c?"800px":"323px",height:"100%",srcDoc:a}):null]})},yr=function(e){var t=e.onChange,n=e.value;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(mr.a.Group,{onChange:t,value:n,options:[{label:"desktop",value:"desktop"},{label:"mobile",value:"mobile"}],buttonStyle:"solid",optionType:"button"})})},kr=(n(299),Object(r.forwardRef)((function(e,t){var n=Xe().mjmlJson,a=Object(r.useState)(!1),i=Object(z.a)(a,2),o=i[0],c=i[1];Object(r.useImperativeHandle)(t,(function(){return{getHtml:s,getJson:l}})),Object(r.useEffect)((function(){K.reset()}),[]);var s=function(){var e="";return n&&(e=Ge()(n).html),e},l=function(){var e={};if(n){var t=JSON.stringify(xe(G.a.cloneDeep(n)));t&&(e=t)}return e};return Object(m.jsxs)("div",{className:Qe.a.editor,children:[Object(m.jsx)("div",{className:Qe.a.bank,children:Object(m.jsx)(gr,{})}),Object(m.jsxs)("div",{className:Qe.a.view,children:[Object(m.jsx)(Or,{visible:o,visibleChange:function(e){return c(e)},inframeContent:o?Ge()(n).html:""}),Object(m.jsx)(j.a,{style:{position:"absolute",top:"8px",right:"16px",zIndex:300},onClick:function(){return c(!0)},children:"Preview"},"3"),Object(m.jsx)(_n,{})]}),Object(m.jsxs)("div",{className:Qe.a.attributes,style:{position:"relative"},children:[Object(m.jsx)(qa,{}),Object(m.jsx)(Ra,{})]})]})}))),wr=Object(r.forwardRef)((function(e,t){return Object(m.jsx)(We,{children:Object(m.jsx)(et,{children:Object(m.jsx)(kn,{children:Object(m.jsx)(oe,{children:Object(m.jsx)(ae,{children:Object(m.jsx)(Fe,{children:Object(m.jsx)(kr,{ref:t})})})})})})})})),Cr=_.a.Content,Sr=(I.a.confirm,function(){var e=Object(r.useRef)(null);return Object(m.jsx)("div",{style:{flex:"1",display:"flex",width:"100%",height:"100%"},children:Object(m.jsxs)(A.a,{style:{height:"100%",width:"100%"},justify:"center",children:[Object(m.jsx)(b.a,{when:K.undo.length>1||K.redo.length>1,message:function(){return"Are you sure you want to leave, your changes will be lost"}}),Object(m.jsx)(D.a,{lg:24,xl:0,children:Object(m.jsx)("div",{style:{textAlign:"center",padding:"40px",paddingTop:"10%"},children:Object(m.jsxs)("h3",{children:["Sorry, You need a device with a larger screen to perform editing, atleast '",">","=1200px'"]})})}),Object(m.jsx)(D.a,{xs:0,xl:24,children:Object(m.jsxs)(_.a,{style:{height:"100%"},children:[Object(m.jsx)(L.a,{ghost:!1,onBack:function(){return window.history.back()},title:"dnde",subTitle:"",style:{borderBottom:"1px solid #e8e8e8"},extra:[Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ar,{editorRef:e},"4"),Object(m.jsx)(j.a,{onClick:function(t){if(e.current){var n=e.current.html;navigator.clipboard.writeText(n),F("html",n),H("Copied to clipboard & logged in devtools "),t.preventDefault()}},children:"Copy as html"},"2"),Object(m.jsx)(j.a,{onClick:function(t){if(e.current){t.preventDefault();var n=e.current.getJson();F("json",n),navigator.clipboard.writeText(n),H("Copied to Clipboard & logged in devtools ")}},children:"Copy as json"},"1")]})]}),Object(m.jsxs)(Cr,{children:[Object(m.jsx)(wr,{ref:e}),Object(m.jsx)(j.a,{onClick:function(t){return function(){if(e.current){var t=e.current.getHtml();console.log("html",t)}}()},style:{position:"absolute",bottom:"16px",right:"16px"},children:"gethtml"})]})]})})]})})}),Nr="sendMailid",Ar=function(e){var t=e.editorRef,n=B.a.useForm(),a=Object(z.a)(n,1)[0],i=Object(r.useState)(!1),o=Object(z.a)(i,2),c=o[0],s=o[1],u=N(),b=Object(z.a)(u,2),p=b[0];b[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j.a,{type:"primary",onClick:function(){return s(!c)},children:"Send Test Mail"},"2"),Object(m.jsx)(Dr,{closable:!1,title:null,visible:c,onOk:function(){a.validateFields().then(function(){var e=Object(d.a)(l.a.mark((function e(n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.current){e.next=15;break}if(!((a=t.current.getHtml())&&a.trim().length>0)){e.next=11;break}return R.b.loading({content:"mail is being sent",key:Nr,duration:0}),s(!1),e.next=7,p({to:n.email,html:t.current.getHtml()}).unwrap().catch((function(e){R.b.error({content:"unable to contact server",key:Nr,duration:0})}));case 7:(r=e.sent)&&(r.success?R.b.success({content:r.success,key:Nr,duration:4}):r.error&&R.b.error({content:r.error,key:Nr,duration:2})),e.next=12;break;case 11:R.b.error("design can not be converted into html");case 12:s(!1),e.next=16;break;case 15:s(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},onCancel:function(){s(!1)},okText:"sendMail",cancelText:"cancel",children:Object(m.jsx)(B.a,{layout:"vertical",form:a,children:Object(m.jsx)(B.a.Item,{label:"Email",validateTrigger:"onchange",name:"email",rules:[{required:!0},{type:"email"}],children:Object(m.jsx)(q.a,{})})})})]})},Dr=Object(f.a)(I.a)(_e||(_e=Object(p.a)(["\n  .ant-modal-footer {\n    border-top: unset;\n  }\n\n  .ant-form-item {\n    margin-bottom: 0px;\n  }\n\n  .ant-modal-footer {\n    padding-top: 0px;\n  }\n"]))),Er=function(){return Object(m.jsxs)(b.e,{children:[Object(m.jsx)(b.c,{exact:!0,path:["","/list"],component:P}),Object(m.jsx)(b.c,{path:"/template/:templateId",component:Sr}),Object(m.jsx)(b.c,{path:"*",children:Object(m.jsx)(b.b,{to:"/"})})]})},Mr=(n(2071),n(2072),n(2073),n(131)),Jr=n(19),Tr=Object(Jr.d)({name:"templates",initialState:{templates:[{id:24234234,preview:"https://picsum.photos/320/550"},{id:4535345,preview:"https://picsum.photos/320/400"},{id:976824,preview:"https://picsum.photos/320/600"}]},reducers:{}}).reducer,Pr=n(55),zr=Object(Jr.a)({reducer:(Ie={},Object(Mr.a)(Ie,w.reducerPath,w.reducer),Object(Mr.a)(Ie,"templateList",Tr),Ie),middleware:function(e){return e().concat(w.middleware)}}),_r=function(e){var t=e.children;return Object(m.jsx)(Pr.a,{store:zr,children:t})};var Ir=function(){return Object(m.jsx)(_r,{children:Object(m.jsx)(u.a,{getUserConfirmation:function(){var e=Object(d.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){I.a.confirm({title:t,onOk:function(){return e(!0)},onCancel:function(){return e(!1)}})}));case 2:a=e.sent,n(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:Object(m.jsx)("div",{className:"my-app",children:Object(m.jsx)(Er,{})})})})},Lr=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,2103)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))};c.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(Ir,{})}),document.getElementById("root")),Lr()},311:function(e,t,n){},317:function(e,t,n){},521:function(e,t,n){},522:function(e,t,n){},65:function(e,t,n){e.exports={layout:"Editor_layout__2Y-AK",editor:"Editor_editor__qGS4j",bank:"Editor_bank__3JqEw",attributes:"Editor_attributes__32n0a",components:"Editor_components__38eSg",mods:"Editor_mods__3ZWIb",columns:"Editor_columns__1Yrk0",iconsContainer:"Editor_iconsContainer__KxyJq",view:"Editor_view__eaZst",viewHolder:"Editor_viewHolder__3pzWy",title:"Editor_title__24LyS"}}},[[2074,1,2]]]);
//# sourceMappingURL=main.e6862bbf.chunk.js.map