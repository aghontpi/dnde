(this.webpackJsonpdnde=this.webpackJsonpdnde||[]).push([[0],{183:function(e,t,n){e.exports={wrapper:"UiWrapper_wrapper__23xNH",container:"UiWrapper_container__2hsjd",button:"UiWrapper_button__25Pv1",text:"UiWrapper_text__3oy98",image:"UiWrapper_image__3F-94",html:"UiWrapper_html__12ygP",spacer:"UiWrapper_spacer__1yYqc",divider:"UiWrapper_divider__B19qo",social:"UiWrapper_social__3MvUF",section:"UiWrapper_section__2ovUo"}},2098:function(e,t,n){},2150:function(e,t,n){e.exports={"ant-modal":"Preview_ant-modal__3_7T8","andt-modal-centered":"Preview_andt-modal-centered__3GZwp"}},2153:function(e,t,n){},2154:function(e,t,n){"use strict";n.r(t);var a,r,i,o=n(0),c=n.n(o),s=n(42),l=n.n(s),d=(n(341),n(58)),u=n.n(d),b=n(85),p=n(225),j=n(36),f=n(37),h=n(56),g=n(38),m=n(335),v=n.p+"static/media/new_template.3bcc1262.svg",x=n(5),O=g.a.div(a||(a=Object(f.a)(["\n  flex: 1 1 0%;\n  border: 0.4px solid rgb(225, 230, 242);\n  filter: drop-shadow(rgba(0, 0, 0, 0.08) 4px 4px 4px);\n  max-height: 500px;\n  min-height: 150px;\n  height: min-content;\n  max-width: 280px;\n  overflow: hidden;\n  border-radius: 4px;\n  margin-bottom: 25px;\n  transition: all 0.2s ease 0s;\n  position: relative;\n  text-align: center;\n  margin: 0 auto;\n\n  .hoverItem {\n    display: none;\n    position: absolute;\n    inset: 0px;\n    background: rgba(255, 255, 255, 0.9);\n    padding: 20px;\n    flex-direction: column;\n    .content {\n      display: flex;\n      flex: 1;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n    }\n  }\n\n  .hoverItem.alwaysActive {\n    display: flex;\n    background: unset;\n  }\n\n  &:hover {\n    box-shadow: rgb(0 0 0 / 15%) 0px 5px 20px;\n    .hoverItem {\n      display: flex;\n    }\n  }\n\n  img,\n  .newTemplate {\n    max-width: 280px;\n  }\n  .newTemplate {\n    max-height: 500px;\n    min-height: 250px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-bottom: 60px;\n  }\n\n  .btn-choose {\n    padding: 8px 16px;\n    text-transform: capitalize;\n  }\n"]))),y=function(){var e=Object(j.h)(),t=Object(j.j)().path;return Object(x.jsxs)(O,{children:[Object(x.jsx)("div",{className:"newTemplate",children:Object(x.jsx)(m.a,{style:{fontSize:"40px"}})}),Object(x.jsx)("div",{className:"hoverItem alwaysActive",children:Object(x.jsx)("div",{className:"content",children:Object(x.jsx)(h.a,{onClick:function(){e.push("".concat(t,"/template/new"))},size:"large",type:"primary",className:"btn-choose",children:"New Template"})})}),Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:v,alt:"img new template"})})]})},k=function(e){var t=e.image,n=e.id,a=e.skeleton,r=Object(j.h)(),i=Object(j.j)().path;return Object(x.jsxs)(O,{children:[a?Object(x.jsx)("div",{style:{height:"350px",minWidth:"280px",maxWidth:"280px",padding:"24px 24px"},children:a}):Object(x.jsx)("img",{height:"350px",src:t,alt:"preview"}),Object(x.jsx)("div",{className:"hoverItem",children:Object(x.jsx)("div",{className:"content",children:Object(x.jsx)(h.a,{onClick:function(){r.push("".concat(i,"/template/").concat(n))},size:"large",type:"primary",className:"btn-choose",children:"choose"})})})]})},w=(n(347),n(317)),C=n(57),S=Object(w.a)({baseQuery:Object(C.d)({baseUrl:"https://us-central1-dnde-f4e90.cloudfunctions.net/api"}),endpoints:function(e){return{getTemplates:e.query({query:function(){return"templates/"}}),getTemplate:e.query({query:function(e){var t=e.id;return"templates/".concat(t)}})}}}),N=S.useGetTemplatesQuery,A=S.useLazyGetTemplateQuery,D=n(2157),E=n(2158),J=n(2166),P=n(65),z=n.n(P),M=n(2174),T=function(){var e=N(),t=e.data,n=e.isLoading,a=(e.isError,e.isSuccess);return Object(x.jsx)(z.a,{autoHide:!0,style:{height:"100%"},children:Object(x.jsxs)("div",{className:"template",children:[Object(x.jsxs)(D.a,{align:"middle",justify:"center",className:"header",children:[Object(x.jsx)(E.a,{span:24,children:Object(x.jsx)(D.a,{align:"middle",justify:"center",children:Object(x.jsx)(E.a,{children:Object(x.jsx)("span",{className:"title",children:"Dnde"})})})}),Object(x.jsx)(E.a,{span:24,children:Object(x.jsx)(D.a,{align:"middle",justify:"center",children:Object(x.jsx)(E.a,{style:{textAlign:"center"},children:Object(x.jsxs)("span",{className:"subtitle",children:["Drag and Drop Editor tailored for ",Object(x.jsx)("b",{children:"Mails"})]})})})}),Object(x.jsx)(E.a,{style:{paddingTop:"24px"},span:24,children:Object(x.jsx)(D.a,{align:"middle",justify:"center",children:Object(x.jsxs)(E.a,{className:"info",md:24,lg:10,style:{textAlign:"center"},children:[Object(x.jsx)("span",{children:"All features are optimised for mails, work flexibly through import/export, with responsive design for all devices."}),Object(x.jsx)("br",{}),Object(x.jsx)("a",{target:"_blank",href:"https://github.com/aghontpi/dnde",children:Object(x.jsxs)("span",{children:["Check it on Github ",Object(x.jsx)(M.a,{style:{position:"relative",top:"4px",fontSize:"32px"}})]})})]})})})]}),Object(x.jsxs)(D.a,{className:"choose-template",align:"middle",gutter:[0,8],justify:"center",children:[Object(x.jsx)(E.a,{span:16,children:Object(x.jsx)("span",{className:"title",children:"Choose a template and get started."})}),Object(x.jsx)(E.a,{span:16,children:Object(x.jsx)("span",{className:"subtitle",children:"All templates are redesigned in dnde, using original mail as reference."})})]}),Object(x.jsxs)(D.a,{justify:"center",className:"template-list",gutter:[0,40],children:[Object(x.jsx)(E.a,{lg:6,children:Object(x.jsx)(y,{})}),n&&[1,2].map((function(e,t){return Object(x.jsx)(E.a,{xs:24,md:12,lg:6,style:{textAlign:"center"},children:Object(x.jsx)(k,{id:"8x93dummy",skeleton:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(J.a,{active:!0}),Object(x.jsx)(J.a,{active:!0})]})},t)})})),a&&t?t.response.map((function(e,t){return Object(x.jsx)(E.a,{lg:6,children:Object(x.jsx)(k,{id:e.docRef,image:e.preview},t)})})):null]})]})})},_=n(9),I=n(12),L=n(10),B=n.n(L),R=n(122),q=n(333),U=n(2167),H={mutableAttributes:{},id:"",type:""},F=Object(o.createContext)(H),W=function(e){var t=Object(o.useRef)(1);return Object(x.jsx)(F.Provider,{value:{genId:function(){if(t.current&&"number"===typeof t.current)return++t.current}},children:e.children})},Y=function(){var e=Object(o.useContext)(F).genId;return{getId:function(){return e()}}},X=Object(o.createContext)(null),V=function(e){var t=Object(o.useRef)(null),n=Object(o.useRef)(null),a=Object(o.useState)(!1),r=Object(_.a)(a,2),i=r[0],c=r[1],s=Object(o.useState)(0),l=Object(_.a)(s,2),d=l[0],u=l[1],b=Object(o.useState)(0),p=Object(_.a)(b,2),j=p[0],f=p[1],h=Object(o.useState)(!1),g=Object(_.a)(h,2),m=g[0],v=g[1],O=Object(o.useState)(0),y=Object(_.a)(O,2),k=y[0],w=y[1],C=Object(o.useState)(0),S=Object(_.a)(C,2),N=S[0],A=S[1],D=Object(o.useState)(!1),E=Object(_.a)(D,2),J=E[0],P=E[1],z=Object(o.useState)(0),M=Object(_.a)(z,2),T=M[0],I=M[1],L=Object(o.useState)(0),B=Object(_.a)(L,2),R=B[0],q=B[1],U=Object(o.useState)(!1),H=Object(_.a)(U,2),F=H[0],W=H[1];return Object(x.jsx)(X.Provider,{value:{ref:t,isActive:i,setActive:c,x:d,y:j,setX:u,setY:f,delX:k,delY:N,setDelX:w,setDelY:A,drag:{isColumn:F,setIsColumn:W},copy:{copyActive:J,setCopyActive:P,copyX:T,setCopyX:I,copyY:R,setCopyY:q},delActive:m,setDelActive:v,ckeditorInstance:n},children:e.children})},G=function(){return Object(o.useContext)(X)},K=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(void 0===t)return null;var r=t;if(r.attributes&&r.attributes["css-class"]){var i=r.attributes["css-class"];if(i.includes(n))return[r,a]}if(r.children)for(var o=0;o<r.children.length;o++){var c=r.children[o],s=e(c,n,a+".children[".concat(o,"]"));if(s)return s}return null},Q=function(){var e;(e=console).log.apply(e,arguments)},Z=function(){var e;(e=console).error.apply(e,arguments)},$=function(){var e;(e=console).info.apply(e,arguments)},ee=function(e){var t=e.closest(".mjml-tag"),n=null;return t?((n=te(t,t.classList))||$("unable to find identifier"),n):($("unable to find closest"),n)},te=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"identifier-mj",a=null,r=0;t&&r<t.length;r++){var i=t[r];if(i.includes(n)){a=i;break}}return a},ne=function(e){return te(null,e.split(" "))},ae=function e(t,n){if(t){for(var a=0;t.children&&a<t.children.length;a++)t.children[a]=e(t.children[a],n);var r=t.attributes;if(r){var i=r["css-class"];i=function(e,t){var n="";if("string"!==typeof e)return Q("classNames should be string while generating uniqueIdentifier, but found ".concat(typeof e," instead")),null;for(var a=e.split(" "),r=0;r<a.length;r++){var i=a[r];if(i.includes("identifier-mj")){var o=(i=i.trim()).match(/-(\d+)/),c=i;i=o?i.replace(o[0],"-".concat(t)):" ".concat(i,"-").concat(t),Q("generating-tag: ".concat(c," -> ").concat(i," "))}n+=" ".concat(i)}return n}(i,n()),r["css-class"]=i}return t.attributes=r,t}},re=function(e,t){for(var n=0;t&&e&&e.length>0&&n<e.length;n++){var a=e[n];if(a&&a.attributes&&a.attributes["css-class"].includes(t))return n}return-1},ie=function(e,t){if(e&&e.dataTransfer){e.dataTransfer.effectAllowed="move";var n=e.target;e.dataTransfer.setDragImage(n,-5,-5),e.dataTransfer.setData("config",JSON.stringify(t))}},oe=[{tagName:"mj-image",attributes:{src:"https://dev.bluepie.in/assets/87583817874843.svg","css-class":"mj-placeholder",width:"120px"}},{tagName:"mj-text",attributes:{"padding-top":"0px","font-size":"16px",align:"center","css-class":"mj-placeholder"},content:"drag and drop a content block here!"}],ce={tagName:"mj-column",attributes:{"css-class":"mjml-tag identifier-mj-column",padding:"0px 0px"},children:[].concat(oe),mutableProperties:["background-color","inner-background-color","border","border-bottom","border-left","border-right","border-top","border-radius","inner-border","inner-border-bottom","inner-border-left","inner-border-right","inner-border-top","inner-border-radius","width","vertical-align","padding","padding-top","padding-bottom","padding-left","padding-right","css-class"]},se={tagName:"mj-section",attributes:Object(I.a)(Object(I.a)({},{align:"center","background-color":"#414141",border:"none","border-radius":"3px",color:"#ffffff","font-family":"Ubuntu, Helvetica, Arial, sans-serif","font-size":"13px","font-weight":"normal","inner-padding":"10px 25px","line-height":"120%",padding:"10px 25px",target:"_blank","text-align":"none","text-decoration":"none","text-transform":"none","vertical-align":"middle"}),{},{"css-class":"mjml-tag identifier-mj-section","border-radius":"0px","background-color":"#fff","text-align":"center"}),children:[],cannot_have:["mj-section","mj-column"],mutableProperties:["background-color","background-position","background-position-x","background-position-y","background-repeat","background-size","background-url","border","border-bottom","border-left","border-radius","border-right","border-top","css-class","direction","full-width","padding","padding-bottom","padding-left","padding-right","padding-top","text-align"]},le=(Object(g.a)(D.a)(r||(r=Object(f.a)(["\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n  p {\n    text-align: inherit;\n    color: rgb(85, 85, 85);\n    font-size: 14px;\n    font-weight: 600;\n  }\n"]))),Object(g.a)(D.a)(i||(i=Object(f.a)(["\n  background-color: rgb(252, 252, 252);\n  border: 1px solid rgb(229, 229, 229);\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: flex;\n  box-shadow: none;\n  cursor: grab;\n\n  &:hover {\n    background-color: rgb(255, 255, 255);\n    box-shadow: rgb(0 0 0 / 20%) 0px 1px 4px;\n    border-color: rgb(255, 255, 255);\n  }\n\n  .wrapper {\n    margin: 10px;\n    background-color: rgb(255, 255, 255);\n    position: relative;\n    width: 100%;\n    display: flex;\n    border-radius: 3px;\n    box-sizing: border-box;\n\n    .border {\n      border: 1px solid rgb(85, 85, 85);\n      border-radius: 3px;\n      display: flex;\n      -webkit-box-align: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n    }\n  }\n"]))),{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,a,r,i,o,c,s="",l=0;for(e=le._utf8_encode(e);l<e.length;)r=(t=e.charCodeAt(l++))>>2,i=(3&t)<<4|(n=e.charCodeAt(l++))>>4,o=(15&n)<<2|(a=e.charCodeAt(l++))>>6,c=63&a,isNaN(n)?o=c=64:isNaN(a)&&(c=64),s=s+this._keyStr.charAt(r)+this._keyStr.charAt(i)+this._keyStr.charAt(o)+this._keyStr.charAt(c);return s},decode:function(e){var t,n,a,r,i,o,c="",s=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");s<e.length;)t=this._keyStr.indexOf(e.charAt(s++))<<2|(r=this._keyStr.indexOf(e.charAt(s++)))>>4,n=(15&r)<<4|(i=this._keyStr.indexOf(e.charAt(s++)))>>2,a=(3&i)<<6|(o=this._keyStr.indexOf(e.charAt(s++))),c+=String.fromCharCode(t),64!=i&&(c+=String.fromCharCode(n)),64!=o&&(c+=String.fromCharCode(a));return c=le._utf8_decode(c)},_utf8_encode:function(e){var t="";e=e.replace(/\r\n/g,"\n");for(var n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t},_utf8_decode:function(e){var t,n,a,r="",i=0;for(t=n=0;i<e.length;)(t=e.charCodeAt(i))<128?(r+=String.fromCharCode(t),i++):t>191&&t<224?(n=e.charCodeAt(i+1),r+=String.fromCharCode((31&t)<<6|63&n),i+=2):(n=e.charCodeAt(i+1),a=e.charCodeAt(i+2),r+=String.fromCharCode((15&t)<<12|(63&n)<<6|63&a),i+=3);return r}}),de=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t)return null;if(t.attributes&&t.attributes["css-class"]){var a=t.attributes["css-class"];if(a.includes("placeitem-placeholder"))return null}for(var r=n&&t.attributes&&t.attributes["css-class"]&&t.attributes["css-class"].includes(n),i=[],o=0;t.children&&o<t.children.length;o++){var c=t.children[o],s=r?c:e(c,n);s&&i.push(s)}return t&&"mj-column"===t.tagName&&0===i.length&&i.push.apply(i,Object(R.a)(oe)),i.length&&(t.children=i),t},ue=function e(t){if(t){if(t.attributes&&t.attributes["css-class"]){var n=t.attributes["css-class"];n=n.split(" ");for(var a=[],r=0;r<n.length;r++){var i=n[r];i.includes("identifier-mj")||i.includes("mj-placeholder")||i.includes("placeitem-placeholder")||a.push(i)}a.length&&(n=a.join(" "))}t.content&&(t.content=le.encode(t.content));for(var o=[],c=0;t.children&&c<t.children.length;c++){var s=t.children[c],l=e(s);l&&o.push(l)}return o.length&&(t.children=o),t}};function be(e){if(e){e.content&&(e.content=le.decode(e.content));for(var t=[],n=0;e.children&&n<e.children.length;n++){var a=be(e.children[n]);a&&t.push(a)}return t.length&&(e.children=t),e}}var pe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=ae(e,t);n||(a=be(a));var r=[];if(a&&a.tagName&&"mjml"===a.tagName&&a.children&&a.children.length>1){for(var i=a.children[0].children,o=0;i&&o<i.length;o++){var c=i[o];c&&(c.tagName.includes("title")||c.tagName.includes("style"))&&r.push(c)}for(var s=B.a.cloneDeep(ze),l=0;s&&l<s.length;l++){var d=s[l];d&&(d.tagName.includes("title")||d.tagName.includes("style"))||r.push(d)}a.children[0].children=r}return Q("::import -> processedJson",a),a},je=n(318),fe=n(319),he=new(function(){function e(){Object(je.a)(this,e),this.undo=void 0,this.redo=void 0,this.undo=[],this.redo=[]}return Object(fe.a)(e,[{key:"newAction",value:function(e){this.undo.length>0&&B.a.isEqual(e,this.peekUndo())?Q("undoredo: prev action and new action are same, not performing action"):(this.undo.push(this.copy(e)),this.redo=[],this.storeToLocalStorage())}},{key:"undoAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.undo.length<1)return!1;var t=this.copy(this.undo.pop());return this.redo.push(t),e&&B.a.isEqual(t,e)?(Q("undoredo: undo action but view and current are same, proceeding one more step"),this.undoAction(e)):t}},{key:"redoAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.redo.length<1)return!1;var t=this.copy(this.redo.pop());return this.undo.push(t),e&&B.a.isEqual(t,e)?(Q("undoredo: redo action but view and current are same, proceeding one more step"),this.redoAction(e)):t}},{key:"peekUndo",value:function(){var e=!1;return this.undo.length>0&&(e=this.copy(this.undo[this.undo.length-1])),e}},{key:"peekRedo",value:function(){var e=!1;return this.redo.length>0&&(e=this.redo[this.redo.length-1]),e}},{key:"isUndoEmpty",value:function(){return 0===this.undo.length}},{key:"isRedoEmpty",value:function(){return 0===this.redo.length}},{key:"reset",value:function(){this.undo=[],this.redo=[]}},{key:"print",value:function(){Q("undoredo: ",this.undo,this.redo)}},{key:"storeToLocalStorage",value:function(){try{localStorage.setItem("actions",JSON.stringify(this.undo[this.undo.length-1]))}catch(e){Q("undoredo: error storing to local storage"),Q("undoredo: it is possible this occured due to storage limit in localStorage,truncating undo")}}},{key:"copy",value:function(e){return B.a.cloneDeep(e)}}]),e}());window.UNDOREO=he;n(140);var ge,me,ve,xe,Oe,ye,ke,we,Ce,Se,Ne,Ae,De,Ee,Je,Pe=Object(o.createContext)(null),ze=[{tagName:"mj-title",content:"dnde-editor"},{tagName:"mj-style",content:"a{text-decoration:none!important} .htmlblock {}"},{tagName:"mj-attributes",children:[{tagName:"mj-text",attributes:{"font-family":"Ubuntu"}}]}].concat(Object(R.a)([{name:"Roboto",value:"https://fonts.googleapis.com/css2?family=Roboto&display=swap"},{name:"Festive",value:"https://fonts.googleapis.com/css2?family=Festive&display=swap"},{name:"Noto Sans Mono",value:"https://fonts.googleapis.com/css2?family=Noto+Sans+Mono&display=swap"},{name:"Open Sans",value:"https://fonts.googleapis.com/css2?family=Open+Sans&display=swap"},{name:"Andada Pro",value:"https://fonts.googleapis.com/css2?family=Andada+Pro&display=swap"},{name:"Lato",value:"https://fonts.googleapis.com/css2?family=Lato&display=swap"},{name:"Scheherazade New",value:"https://fonts.googleapis.com/css2?family=Scheherazade+New&display=swap"},{name:"Montserrat",value:"https://fonts.googleapis.com/css2?family=Montserrat&display=swap"},{name:"Roboto Condensed",value:"https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap"},{name:"Source Sans Pro",value:"https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap"},{name:"Poppins",value:"https://fonts.googleapis.com/css2?family=Poppins&display=swap"},{name:"Oswald",value:"https://fonts.googleapis.com/css2?family=Oswald&display=swap"},{name:"Noto sans",value:"https://fonts.googleapis.com/css2?family=Noto+sans&display=swap"},{name:"Georama",value:"https://fonts.googleapis.com/css2?family=Georama&display=swap"},{name:"Roboto Mono",value:"https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap"},{name:"Raleway",value:"https://fonts.googleapis.com/css2?family=Raleway&display=swap"},{name:"Nunito",value:"https://fonts.googleapis.com/css2?family=Nunito&display=swap"},{name:"Roboto Slab",value:"https://fonts.googleapis.com/css2?family=Roboto+Slab&display=swap"},{name:"PT Sans",value:"https://fonts.googleapis.com/css2?family=PT+Sans&display=swap"},{name:"Merriweather",value:"https://fonts.googleapis.com/css2?family=Merriweather&display=swap"},{name:"Playfair Display",value:"https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap"},{name:"Lora",value:"https://fonts.googleapis.com/css2?family=Lora&display=swap"},{name:"Rubix",value:"https://fonts.googleapis.com/css2?family=Rubix&display=swap"},{name:"IM Fell English SC",value:"https://fonts.googleapis.com/css2?family=IM+Fell+English+SC&display=swap"},{name:"Open Sans Condensed",value:"https://fonts.googleapis.com/css2?family=Open+Sans+Condensed&display=swap"},{name:"Inter",value:"https://fonts.googleapis.com/css2?family=Inter&display=swap"},{name:"Nunito Sans",value:"https://fonts.googleapis.com/css2?family=Nunito+Sans&display=swap"},{name:"Work Sans",value:"https://fonts.googleapis.com/css2?family=Work+Sans&display=swap"},{name:"Quicksand",value:"https://fonts.googleapis.com/css2?family=Quicksand&display=swap"},{name:"Fira Sans",value:"https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap"},{name:"Ubuntu",value:"https://fonts.googleapis.com/css2?family=Ubuntu&display=swap"}].map((function(e){return{tagName:"mj-font",attributes:{name:e.name,href:e.value}}})))),Me={tagName:"mjml",children:[{tagName:"mj-head",attributes:{},children:ze},{tagName:"mj-body",attributes:{"css-class":"mjml-tag identifier-mj-body","background-color":"grey",width:"600px"},children:[],mutableProperties:["width","background-color"]}],attributes:{}},Te="loading",_e=function(e){var t=Object(j.i)().templateId,n=Y().getId,a=Object(o.useState)(null),r=Object(_.a)(a,2),i=r[0],c=r[1],s=A(),l=Object(_.a)(s,2),d=l[0],p=l[1],f=p.data,h=p.isError,g=p.isLoading,m=p.isSuccess;Object(o.useEffect)((function(){function e(){return(e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!1,e.next=5;break;case 4:t=e.sent;case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){e||("new"===t||"undefined"===typeof t?(he.newAction(B.a.cloneDeep(Me)),c(B.a.cloneDeep(Me))):t&&(q.b.loading({content:"Fetching Template...",key:Te,duration:0}),d({id:t})))}))}),[]),Object(o.useEffect)((function(){if(m&&f)try{var e=pe(JSON.parse(f.response.data),n);c(e),he.newAction(B.a.cloneDeep(e))}catch(t){q.b.error("Unable to load template",3)}else m&&!f&&q.b.error("Template is empty",2);m&&q.b.destroy(Te),h&&q.b.info("Network error, template not fetched.",2)}),[h,g,m,f]);var v=Object(o.useState)({}),O=Object(_.a)(v,2),y=O[0],k=O[1];return Object(x.jsx)(Pe.Provider,{value:{mjmlJson:i,setMjmlJson:c,attributes:y,setAttributes:k},children:e.children})},Ie=Object(o.createContext)(null),Le=Object(o.memo)((function(e){var t=Object(o.useState)([]),n=Object(_.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)(),c=Object(_.a)(i,2),s=c[0],l=c[1],d=Object(o.useState)(),u=Object(_.a)(d,2),b=u[0],p=u[1],j=Object(o.useRef)(1),f=Object(o.useState)(1),h=Object(_.a)(f,2),g=h[0],m=h[1];return Object(x.jsxs)(Ie.Provider,{value:{uiList:a,setUIWrapperList:r,activeHover:s,setActiveHover:l,active:b,setActive:p,id:g,setId:m,getId:function(){m(g+1),Q("getId",g)}},children:[Object(x.jsx)("div",{children:Object(x.jsxs)(x.Fragment,{children:[Q("uiContextRerendering",j.current++)," "]})}),e.children]})})),Be=function(){return Object(o.useContext)(Ie)},Re=function(){return Object(o.useContext)(Pe)},qe=n(108),Ue=n.n(qe),He=n(66),Fe=n.n(He),We=n(321),Ye=Object(o.createContext)({position:{x:0,y:0,setX:function(){},setY:function(){}},status:{active:!1,setActive:function(){}}}),Xe=function(e){var t=Object(o.useState)(0),n=Object(_.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)(0),c=Object(_.a)(i,2),s=c[0],l=c[1],d=Object(o.useState)(!1),u=Object(_.a)(d,2),b=u[0],p=u[1];return Object(x.jsx)(Ye.Provider,{value:{position:{x:a,y:s,setX:r,setY:l},status:{active:b,setActive:p}},children:e.children})},Ve=function(){return Object(o.useContext)(Ye).position},Ge=function(){return Object(o.useContext)(Ye).status},Ke=function(e,t){return Qe(e,t)&&e.children&&e.children<1},Qe=function(e,t){if(!t)return!1;if("body"===t)t="identifier-mj-body";else if("section"===t)t="identifier-mj-section";else{if("column"!==t)return!1;t="identifier-mj-column"}return e.props&&e.props.className&&"string"===typeof e.props.className&&e.props.className.includes(t)},Ze=function e(t,n){if(!t)return null;var a=t.closest(".mjml-tag");if(a&&a.classList){var r=te(a,a.classList);if(r&&r.includes(n))return[a,r];a=a.parentElement}return e(a,n)},$e=function(e){return Ze(e,"mj-section")},et=function(e,t){var n=t.getBoundingClientRect(),a=e.clientX,r=e.clientY,i=n&&a&&r&&!0;return(a<n.left||a>n.right)&&(i=!1),(r<n.top||r>n.bottom)&&(i=!1),i},tt=function(e){var t=e.mjmlJson,n=e.setMjmlJson,a=e.columnElement,r=e.event,i=e.currentTarget,o=e.nearestTag;if(a&&o){var c=i.closest(".".concat(o));if(c&&a&&et(r,a)){var s=function(e,t){var n=t.getBoundingClientRect(),a=e.clientY;if(et(e,t)){var r=Object(L.floor)((n.bottom-n.top)/2)+n.top;if(a<r)return"top";if(a>r)return"bottom"}return!1}(r,c);if(s){var l=K(B.a.cloneDeep(t),o);if(l){for(var d=Object(_.a)(l,2)[1],u=d.slice(1,d.lastIndexOf(".children")),b=B.a.get(B.a.cloneDeep(t),u),p=[],j=0;b&&b.children&&j<b.children.length;j++){var f=b.children[j];Q(f);var h=f.attributes&&f.attributes["css-class"];h&&h.includes("placeitem-placeholder")||(h&&h.includes(o)?"top"===s?p.push(nt,f):"bottom"===s&&p.push(f,nt):p.push(f))}if(b&&p.length>0){b.children=p;var g=B.a.set(B.a.cloneDeep(t),u,b),m=te(a,a.classList,"identifier-mj-column");if(m){var v=de(g,m);B.a.isEqual(t,v)?Q("::update:: -> but elements are the same, not triggering rerender"):(Q("::update::",t,v),n(Object(I.a)({},v)))}else B.a.isEqual(t,g)?Q("::update:: -> but elements are the same, not triggering rerender"):(Q("::update::",t,g),n(Object(I.a)({},g)))}}}}}},nt={tagName:"mj-text",attributes:{align:"center","css-class":"placeitem-placeholder"},content:'<div style="padding:24px">  </div>'},at=function(e){var t="content",n=e.match(/identifier-mj-(.*)/);return n&&((t=n[1]).includes("social-element")&&(t=t.replace("social-element","icon")),t.includes("-")&&(t=t.split("-")[0])),t},rt=n(2172),it=n(2181),ot=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"up",r=ne(e);if(r){var i=K(t,r),o=K(t,"identifier-mj-body");if(i&&o){for(var c=Object(_.a)(o,2),s=c[0],l=c[1],d=Object(_.a)(i,1),u=d[0],b=[],p=-1,j=0;s.children.length>1&&j<s.children.length;j++){var f=s.children[j];if(f&&f.attributes&&f.attributes["css-class"].includes(r)){p=j;break}}if(-1!==p)for(var h=0;s.children.length>1&&h<s.children.length;h++){var g=s.children[h];if(g&&"up"===a){if(h===p-1){b.push(u),b.push(g),h+=1;continue}b.push(g)}if(g&&"down"===a){if(h===p){var m=s.children[h+1];b.push(m),b.push(u),h+=1;continue}b.push(g)}}if(b.length>1){var v=B.a.cloneDeep(s);v.children=B.a.cloneDeep(b);var x=B.a.set(t,l.slice(1),v);he.newAction(x),n(Object(I.a)({},x))}}}},ct=n(2165),st=n(326),lt=n(2164),dt=n(2175),ut=n(2176),bt=n(2177),pt=n(2178),jt=n(2179),ft=n(2180),ht=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";switch(e&&(e.preventDefault(),e.stopPropagation()),Q("editor action:",t,n),t){case"bold":document.execCommand("bold");break;case"underline":document.execCommand("underline");break;case"italics":document.execCommand("italic");break;case"size":document.execCommand("fontSize",!1,n);break;case"color":document.execCommand("backColor",!1,n);break;case"fontColor":document.execCommand("foreColor",!1,n);break;case"fontFamily":document.execCommand("fontName",!1,n);break;default:$("unhandled action ".concat(t))}return!1},gt=n(120),mt=function(e){var t=e.handleChange,n=e.mouseDown,a=Object(o.useState)((function(){return"#ccc"})),r=Object(_.a)(a,2),i=r[0],c=r[1];return Object(x.jsx)(xt,{onMouseDown:function(e){n||(e.preventDefault(),e.stopPropagation())},color:i,children:Object(x.jsx)("div",{className:"popover",children:Object(x.jsx)(gt.a,{disableAlpha:!1,color:i,onChange:function(e){return function(e){var n="".concat(e.hex).concat(vt(e.rgb.a));c(n),t("rgba(".concat(e.rgb.r,",").concat(e.rgb.g,",").concat(e.rgb.b,",").concat(e.rgb.a,")"))}(e)}})})})},vt=function(e){return 0===e?"00":Math.round(255*e).toString(16)},xt=g.a.div(ge||(ge=Object(f.a)(["\n  display: inline-block;\n  .ant-popover-inner-content {\n    padding: 0;\n  }\n"]))),Ot=n(2163),yt=function(e){var t=e.activePath,n=e.label,a=e.overrideAttribute||"background-color",r=Re(),i=r.mjmlJson,c=r.setMjmlJson,s=Object(o.useState)((function(){return!1})),l=Object(_.a)(s,2),d=l[0],u=l[1],b=Object(o.useState)((function(){return"#ccc"})),p=Object(_.a)(b,2),j=p[0],f=p[1],h=qt({attribute:a,customPath:t}),g=Object(_.a)(h,2),m=g[0],v=g[1];Object(o.useEffect)((function(){if(m&&v){var e=B.a.get(i,v);e&&e.attributes&&e.attributes[a]&&f(e.attributes[a])}Q("background reloading,",v,m)}),[v,m]);return m?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(D.a,{children:[Object(x.jsx)(E.a,{flex:"auto",children:Object(x.jsx)(Ot.a.Item,{label:n||"Background"})}),Object(x.jsxs)(wt,{color:j,flex:"none",children:[Object(x.jsx)("div",{className:"swatch",onClick:function(){return u(!0)},children:Object(x.jsx)("div",{className:"color"})}),d?Object(x.jsxs)("div",{className:"popover",children:[Object(x.jsx)("div",{className:"cover",onClick:function(){return u(!1)}}),Object(x.jsx)(gt.a,{disableAlpha:!1,color:j,onChange:function(e){return function(e){var t="".concat(e.hex).concat(kt(e.rgb.a));if(f(t),v&&m){var n=B.a.get(i,v);n.attributes[a]=t;var r=B.a.set(i,v,n);c(Object(I.a)({},r))}}(e)}})]}):null]})]})}):null},kt=function(e){return 0===e?"00":Math.round(255*e).toString(16)},wt=Object(g.a)(E.a)(me||(me=Object(f.a)(["\n  .color {\n    width: 25px;\n    height: 25px;\n    border-radius: 2px;\n    background: ",";\n  }\n  .swatch {\n    padding: 5px;\n    background: #fff;\n    border-radius: 1px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .popover {\n    position: absolute;\n    z-index: 2;\n    top: -108px;\n    left: -200px;\n  }\n\n  .cover {\n    position: fixed;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n  }\n"])),(function(e){return e.color})),Ct="width",St=function(e){var t=e.activePath,n=qt({attribute:Ct,customPath:t}),a=Object(_.a)(n,2),r=a[0],i=a[1],c=Re(),s=c.mjmlJson,l=c.setMjmlJson,d=Object(o.useState)(""),u=Object(_.a)(d,2),b=u[0],p=u[1],j=Ut({path:i,visible:r,attribute:Ct}).getValue;Object(o.useEffect)((function(){r&&p(j())}),[r]);return r?Object(x.jsx)(Ot.a.Item,{label:"Width",children:Object(x.jsx)(lt.a,{onChange:function(e){if(p(e.target.value),""!==e.target.value&&"%"!==e.target.value||(e.target.value="0"),r&&i&&e.target.value){var t,n=B.a.get(s,i);n.attributes.width=e.target.value,t=B.a.set(s,i,n),l(Object(I.a)({},t))}},value:b,onKeyDown:function(e){1===e.currentTarget.value.length&&"Backspace"===e.key&&(e.currentTarget.value="")}})}):null},Nt="height",At=function(){var e=qt({attribute:Nt}),t=Object(_.a)(e,2),n=t[0],a=t[1],r=Re(),i=r.mjmlJson,c=r.setMjmlJson,s=Ut({path:a,visible:n,attribute:Nt}).getValue,l=Object(o.useState)(""),d=Object(_.a)(l,2),u=d[0],b=d[1];Object(o.useEffect)((function(){n&&b(s())}),[n]);return n?Object(x.jsx)(Ot.a.Item,{label:"Height",children:Object(x.jsx)(lt.a,{onChange:function(e){if(b(e.target.value),""!==e.target.value&&"%"!==e.target.value||(e.target.value=""),n&&a&&e.target.value){var t,r=B.a.get(i,a);r.attributes.height=e.target.value,t=B.a.set(i,a,r),c(Object(I.a)({},t))}},value:u,onKeyDown:function(e){1===e.currentTarget.value.length&&"Backspace"===e.key&&(e.currentTarget.value="")}})}):null},Dt=function(e){var t=e.itemIndex,n=Object(o.useState)(),a=Object(_.a)(n,2),r=a[0],i=a[1],c=Re(),s=c.mjmlJson,l=c.setMjmlJson;Object(o.useEffect)((function(){if(-1!==t){var e=s.children[0].children[t];e&&e.content&&i(e.content)}}),[t]);return Object(x.jsx)(Ot.a.Item,{children:Object(x.jsx)(D.a,{children:Object(x.jsx)(E.a,{span:24,children:Object(x.jsx)(lt.a,{addonBefore:"title",value:r,onBlur:function(e){if(e&&-1!==t){var n=B.a.cloneDeep(s.children[0].children[t]);if(n){n.content=e.target.value;var a=B.a.set(s,"children[0].children[".concat(t,"]"),n);l(Object(I.a)({},a))}}},onChange:function(e){-1!==t&&i(e.target.value)}})})})})},Et=n(97),Jt=n(2171),Pt=n(88),zt=n.n(Pt),Mt=function(){var e=Re(),t=e.mjmlJson,n=e.setMjmlJson,a=Object(o.useState)([]),r=Object(_.a)(a,2),i=r[0],c=r[1],s=Object(o.useState)(!1),l=Object(_.a)(s,2),d=l[0],u=l[1];Object(o.useEffect)((function(){if(t){var e=t.children[0];if(e&&e.children){var n=e.children.filter((function(e){return e&&e.tagName&&e.tagName.includes("font")}));n.length>0&&n.lenght!==i.length&&c(n)}}}),[]),Object(o.useEffect)((function(){if(t){var e=t.children[0];if(e&&e.children){var n=e.children.filter((function(e){return e&&e.tagName&&e.tagName.includes("font")}));n.length>0&&n.lenght!==i.length&&c(n)}}}),[t]);return Object(x.jsx)(zt.a,{children:Object(x.jsxs)(D.a,{children:[Object(x.jsx)(E.a,{span:24,style:{justifyContent:"center",paddingBottom:"24px",display:"flex",rowGap:"6px",flexWrap:"wrap"},children:i&&i.length>0&&i.map((function(e,a){return e.attributes&&e.attributes.href&&e.attributes.name?Object(x.jsx)(Et.a,{title:e.attributes.href,children:Object(x.jsx)(Jt.a,{closable:!0,onClose:function(){return function(e){var a=B.a.cloneDeep(t.children[0]);if(a&&a.children){var r=a.children.filter((function(t){return!(t&&t.tagName&&t.tagName.includes("font"))||t.attributes.name!==e}));a.children=r,c(r);var i=B.a.set(t,"children[0]",a);i&&(c(a.children.filter((function(e){return e&&e.tagName&&e.tagName.includes("font")}))),n(Object(I.a)({},i)))}}(e.attributes.name)},children:e.attributes.name})},a):null}))}),Object(x.jsx)(E.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)(st.a,{visible:d,trigger:"click",placement:"bottom",content:Object(x.jsx)(_t,{addCustomFontClick:function(e,a){if(t){var r=B.a.cloneDeep(t.children[0]);if(r&&r.children){r.children.push({tagName:"mj-font",attributes:{name:e,href:a}});var i=B.a.set(t,"children[0]",r);i&&(c(r.children.filter((function(e){return e&&e.tagName&&e.tagName.includes("font")}))),n(Object(I.a)({},i)))}}},popOverCallBacK:u}),children:Object(x.jsx)(h.a,{onClick:function(e){return u(!d)},children:"Add custom font"})})})]})})},Tt=g.a.div(ve||(ve=Object(f.a)(["\n  .ant-form-item {\n    margin-bottom: 8px;\n  }\n"]))),_t=function(e){var t=e.addCustomFontClick,n=e.popOverCallBacK,a=Object(o.useState)(""),r=Object(_.a)(a,2),i=r[0],c=r[1],s=Object(o.useState)(""),l=Object(_.a)(s,2),d=l[0],u=l[1];return Object(x.jsxs)(Tt,{children:[Object(x.jsx)(zt.a,{children:Object(x.jsx)(lt.a,{addonBefore:"name",value:i,onChange:function(e){return c(e.target.value)}})}),Object(x.jsx)(zt.a,{children:Object(x.jsx)(lt.a,{addonBefore:"url",value:d,onChange:function(e){return u(e.target.value)}})}),Object(x.jsxs)(zt.a,{style:{textAlign:"center"},children:[Object(x.jsx)(h.a,{onClick:function(){n(!1),i&&d&&t(i,d)},children:"add"}),Object(x.jsx)(h.a,{style:{marginLeft:"6px"},onClick:function(){n(!1)},children:"cancel"})]})]})},It="children[1]",Lt=g.a.div(xe||(xe=Object(f.a)(["\n  padding: 16px 0px;\n  .title {\n    font-size: 14px;\n    font-weight: 600;\n  }\n  .props-container {\n    padding: 16px;\n  }\n"]))),Bt=function(){var e=Re().mjmlJson,t=Object(o.useState)(-1),n=Object(_.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)(-1),c=Object(_.a)(i,2),s=(c[0],c[1]);return Object(o.useEffect)((function(){if(e&&e.children&&e.children.length>0){var t=e.children[0];if(t&&t.tagName&&t.tagName.includes("head")&&t.children&&t.children.length>0)for(var n=t.children,a=0;a<n.length;a++){var i=n[a];i&&i.tagName&&i.tagName.includes("title")?r(a):i.tagName.includes("style")&&s(a)}}}),[]),Object(x.jsxs)(Lt,{onMouseDown:function(t){he.newAction(e)},onBlur:function(t){he.newAction(e)},children:[Object(x.jsx)(Rt,{title:"Body Properties"}),Object(x.jsxs)("div",{className:"props-container",children:[Object(x.jsx)(St,{activePath:It}),Object(x.jsx)(yt,{activePath:It,label:"Body Background:"})]}),Object(x.jsx)(Rt,{title:"Head Properties"}),Object(x.jsx)("div",{className:"props-container",children:Object(x.jsx)(Dt,{itemIndex:a})}),Object(x.jsx)(Rt,{title:"Fonts"}),Object(x.jsx)("div",{className:"props-container",children:Object(x.jsx)(Mt,{})})]})},Rt=function(e){var t=e.title;return Object(x.jsx)(D.a,{justify:"center",children:Object(x.jsx)(E.a,{span:24,style:{textAlign:"center"},children:Object(x.jsx)("span",{className:"title",children:t})})})},qt=function(e){var t=e.attribute,n=e.property,a=e.customPath,r=Object(o.useState)(!1),i=Object(_.a)(r,2),c=i[0],s=i[1],l=Be().active,d=Object(o.useState)(""),u=Object(_.a)(d,2),b=u[0],p=u[1],j=Re().mjmlJson;return Object(o.useEffect)((function(){if(j&&a&&a===It)return s(!0),void p(It);if(l){var e=te(l,l.classList);if(e){var r=K(j,e);if(a&&(r=[null,"."+a]),r){var i=r,o=Object(_.a)(i,2)[1];if(o.length>0&&p(o.slice(1)),t){var c=B.a.get(j,o.slice(1));if(c&&c.mutableProperties&&c.mutableProperties.includes(t))return void s(!0)}else if(n){var d=B.a.get(j,o.slice(1));if(d&&d[n])return void s(!0)}}}}s(!1),p("")}),[l]),[c,b,l]},Ut=function(e){var t=e.path,n=e.visible,a=e.attribute,r=Re().mjmlJson;return{getValue:function(){var e="";if(t&&n){var i=B.a.get(r,t);i&&i.attributes&&(e=i.attributes[a])}return e}}},Ht="font-family",Ft=function(){var e=qt({attribute:Ht}),t=Object(_.a)(e,2),n=t[0],a=t[1],r=Ut({path:a,visible:n,attribute:Ht}).getValue,i=Re(),c=i.mjmlJson,s=i.setMjmlJson,l=Object(o.useState)(""),d=Object(_.a)(l,2),u=d[0],b=d[1],p=Object(o.useState)([]),j=Object(_.a)(p,2),f=j[0],h=j[1];return Object(o.useEffect)((function(){Wt(c,f,h,s)}),[]),Object(o.useEffect)((function(){Wt(c,f,h,s)}),[c]),Object(o.useEffect)((function(){if(n&&c){var e=r();if(e&&e.indexOf(",")){var t=e.split(",")[0];b(t)}}}),[c]),[f,u]},Wt=function(e,t,n,a){if(e){var r=e.children[0];if(r&&r.children){var i=r.children.filter((function(e){return e&&e.tagName&&e.tagName.includes("font")}));if(t&&i&&i.length!==t.length){var o=i.map((function(e){return e.attributes.name.trim()})).sort((function(e,t){return e>t?1:-1}));n(o=B.a.uniq(o));var c=e.children[0].children[2],s="Ubuntu,"+o.join(",");if(c&&c.tagName.includes("attributes")&&c.children&&c.children[0]&&c.children[0].tagName.includes("text")&&c.children[0].attributes["font-family"]!==s){c.children[0].attributes["font-family"]=s;var l=B.a.set(e,"children[0].children[2]",c);l&&a(Object(I.a)({},l))}}}}},Yt="href",Xt=function(){var e=qt({attribute:Yt}),t=Object(_.a)(e,2),n=t[0],a=t[1],r=Re(),i=r.mjmlJson,c=r.setMjmlJson,s=Ut({path:a,visible:n,attribute:Yt}).getValue,l=Object(o.useState)(""),d=Object(_.a)(l,2),u=d[0],b=d[1];Object(o.useEffect)((function(){n&&b(s())}),[n,a]);var p=function(e){var t,n=B.a.get(i,a);n.attributes.href=e,t=B.a.set(i,a,n),c(Object(I.a)({},t))};return n?Object(x.jsx)(zt.a,{children:Object(x.jsx)(D.a,{children:Object(x.jsx)(E.a,{span:24,children:Object(x.jsx)(lt.a,{addonBefore:Yt,onBlur:function(e){if(e&&e.target&&e.target.value){var t=Vt(e.target.value);p(t),b(t)}},onChange:function(e){b(e.target.value),a&&n&&p(e.target.value)},value:u})})})}):null},Vt=function(e){return!(e=e.trim())||e.includes("https://")||e.includes("http://")||(e="https://".concat(e)),e},Gt=function(){var e=window.getSelection();if(e){var t=Oe;null===e||void 0===e||e.removeAllRanges(),null===e||void 0===e||e.addRange(Oe),Oe=t}},Kt=function(){var e=Object(o.useRef)(null),t=Ve(),n=t.x,a=t.y,r=Ge().active,i=Be().active,c=Re(),s=c.mjmlJson,l=c.setMjmlJson,d=Ft(),u=Object(_.a)(d,1)[0];return Object(o.useEffect)((function(){if(e.current){var t=document.querySelectorAll("#customtoolbar .ant-select-selector");if(t)return t.forEach((function(e){Q("attaching click event listener to container"),e.addEventListener("click",$t)})),function(){return t.forEach((function(e){Q("removing click event listener to container"),e.removeEventListener("click",$t)}))}}}),[e]),Object(o.useEffect)((function(){if(r&&i){var e=te(i,i.classList);if(null===e||void 0===e?void 0:e.includes("mj-text")){var t=i.children[0].children[0],n=function(e){Zt(t,s,l)},a=function(){var e;Oe=null===(e=window.getSelection())||void 0===e?void 0:e.getRangeAt(0)};return t.addEventListener("focusout",n,!0),t.addEventListener("keyup",a,!1),t.addEventListener("click",a,!1),t.classList.add("editor-active"),t.setAttribute("contentEditable","true"),t.setAttribute("spellcheck","false"),function(){Q("custom editor: cleaning up dynamic attributes"),t.removeEventListener("focusout",n,!0),t.removeEventListener("keyup",a,!1),t.removeEventListener("click",a,!1)}}}}),[i,s]),Object(x.jsxs)("div",{style:{display:r?"block":"none",position:"fixed",top:"".concat(a,"px"),left:"".concat(n,"px"),padding:"4px 8px",border:"1px solid black",zIndex:999,backgroundColor:"#fff",transition:"all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)"},id:"customtoolbar",ref:e,onMouseDown:$t,children:[Object(x.jsx)(ct.a,{size:"small",dropdownStyle:{minWidth:"18px"},defaultValue:2,style:{fontSize:"12px"},onChange:function(e){ht(null,"size",e)},children:Array.from(Array(7).keys()).map((function(e){return Object(x.jsx)(ct.a.Option,{onMouseDown:$t,onFocus:$t,style:{fontSize:"12px"},value:e+1,children:Object(x.jsx)("span",{onMouseDown:$t,onFocus:$t,children:e+1})})}))}),Object(x.jsx)(ct.a,{size:"small",defaultValue:"Ubuntu",dropdownStyle:{minWidth:"140px"},style:{fontSize:"12px"},onChange:function(e){ht(null,"fontFamily",e)},onMouseDown:$t,children:u.map((function(e){return Object(x.jsx)(ct.a.Option,{onMouseDown:$t,onFocus:$t,style:{fontSize:"12px"},value:e,children:Object(x.jsx)("span",{onMouseDown:$t,onFocus:$t,children:e})})}))}),Object(x.jsx)(st.a,{overlayClassName:"inline-editor-popover-color-picker",trigger:"click",placement:"bottom",content:Object(x.jsx)(mt,{handleChange:function(e){ht(null,"fontColor",e)},mouseDown:!1}),destroyTooltipOnHide:!0,children:Object(x.jsx)(h.a,{icon:Object(x.jsx)(dt.a,{}),style:{fontSize:"12px"},size:"small"})}),Object(x.jsx)(st.a,{overlayClassName:"inline-editor-popover-color-picker",trigger:"click",placement:"bottom",content:Object(x.jsx)(mt,{handleChange:function(e){ht(null,"color",e)},mouseDown:!1}),destroyTooltipOnHide:!0,children:Object(x.jsx)(h.a,{icon:Object(x.jsx)(ut.a,{}),style:{fontSize:"12px"},size:"small"})}),Object(x.jsx)(h.a,{icon:Object(x.jsx)(bt.a,{}),onClick:function(e){return ht(e,"bold")},style:{fontSize:"12px"},size:"small"}),Object(x.jsx)(h.a,{icon:Object(x.jsx)(pt.a,{}),onClick:function(e){return ht(e,"italics")},style:{fontSize:"12px"},size:"small"}),Object(x.jsx)(h.a,{icon:Object(x.jsx)(jt.a,{}),onClick:function(e){return ht(e,"underline")},style:{fontSize:"12px"},size:"small"}),Object(x.jsx)(Qt,{setLinkCallback:function(e){return ht(e,"link")}})]})},Qt=function(e){e.setLinkCallback;var t=Object(o.useState)(!1),n=Object(_.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)(""),c=Object(_.a)(i,2),s=c[0],l=c[1],d=Object(o.useRef)(null);return Object(x.jsx)(st.a,{visible:a,content:Object(x.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[Object(x.jsx)(lt.a,{className:"inline-editor-link",ref:d,value:s,onMouseDown:function(e){Gt()},onChange:function(e){l(e.target.value)},placeholder:"link"}),Object(x.jsx)(h.a,{type:"default",onMouseDown:$t,onClick:function(){r(!1),Gt(),document.execCommand("insertHTML",!1,'<a href="'+Vt(s)+'" target="_blank">'+document.getSelection()+"</a>")},children:"create"})]}),trigger:"click",placement:"bottom",children:Object(x.jsx)(h.a,{style:{fontSize:"12px"},onClick:function(e){$t(e),r(!a),l("")},size:"small",icon:Object(x.jsx)(ft.a,{})})})},Zt=function(e,t,n){Q("custom Inline Editor: updating state callback");var a=ee(e);if(a){var r=a;if(null===r||void 0===r?void 0:r.includes("mj-text")){var i=K(t,r);if(i){var o=Object(_.a)(i,2)[1],c=B.a.get(t,o.slice(1));if(c){var s=B.a.cloneDeep(c);Q("inline editor: updating",e);var l=e.innerHTML;s.content=l;var d=B.a.set(t,o.slice(1),s);n(Object(I.a)({},d))}}}}},$t=function(e){if(Q("::reset",e.target),!(e.target&&"INPUT"===e.target.tagName&&e.target.className&&e.target.className.includes("inline-editor-link")))return Q("::reset->reset behaviour",e.target),e.preventDefault(),e.stopPropagation(),!1;Q("::reset, returning")},en=function(e){var t=e.className,n=e.idRef,a=e.active,r=Re(),i=r.mjmlJson,c=r.setMjmlJson,s=Object(o.useState)(!0),l=Object(_.a)(s,2),d=l[0],u=l[1],b=Object(o.useState)(!0),p=Object(_.a)(b,2),j=p[0],f=p[1];Object(o.useEffect)((function(){if(n.current===a){var e=ne(t);if(e){var r=K(i,ne(t)),o=K(i,"identifier-mj-body");if(r&&o){var c=Object(_.a)(o,1)[0];Object(_.a)(r,1)[0];if(c&&c.children&&1===c.children.length)return u(!1),void f(!1);if(c&&c.children&&c.children.length>1)for(var s=c.children.length-1,l=0;l<c.children.length;l++){var d=c.children[l];if(d&&d.attributes&&d.attributes["css-class"]&&d.attributes["css-class"].includes(e)){if(l===s){f(!1),u(!0);break}if(0===l){u(!1),f(!0);break}}}}}}}),[i,n,a]);return Object(x.jsx)("div",{onMouseDown:$t,style:{display:a===n.current?"block":"none"},children:Object(x.jsxs)("div",{style:{zIndex:200,position:"absolute",left:-38,bottom:0,display:"flex",flexDirection:"column",rowGap:"4px"},children:[Object(x.jsx)(h.a,{type:"primary",disabled:!d,onClick:function(e){$t(e),ot(t,i,c)},icon:Object(x.jsx)(rt.a,{style:{fontSize:"20px"}})}),Object(x.jsx)(h.a,{type:"primary",disabled:!j,onClick:function(e){$t(e),function(e,t,n){ot(e,t,n,"down")}(t,i,c)},icon:Object(x.jsx)(it.a,{style:{fontSize:"20px"}})})]})})},tn=Object(o.memo)((function(e){var t=e.uniqueKey,n=e.originalNode,a=Be(),r=(a.setUIWrapperList,a.setActive),i=a.setActiveHover,c=a.active,s=a.activeHover,l=a.id,d=(a.setId,a.getId),u=(a.uiList,G()),b=u.setDelActive,p=u.setDelX,j=u.setDelY,f=u.copy,h=u.drag.isColumn,g=Re(),m=g.mjmlJson,v=g.setMjmlJson,O=Ve(),y=O.setX,k=O.setY,w=Ge().setActive,C=Object(o.useRef)(l),S=Object(o.useRef)(l),N=f.setCopyX,A=f.setCopyActive,D=f.setCopyY;Object(o.useEffect)((function(){d()}),[]),Object(o.useEffect)((function(){null===c&&(A(!1),b(!1),w(!1))}),[c]);var E=Object(o.useMemo)((function(){return C.current===s?function(e){e&&e.target&&"A"===e.target.tagName&&e.preventDefault(),r(C.current);var t=e.target.closest(".mjml-tag");if(t){var n=t.getBoundingClientRect(),a=te(t,t.classList);if(null===a||void 0===a?void 0:a.includes("body"))return b(!1),void A(!1);if(null===a||void 0===a?void 0:a.includes("text")){var i=n.left,o=n.top-38;w(!0),y(i),k(o)}else w(!1);b(!0),A(!0),function(e){var t=e.pos,n=e.delete,a=n.setDelX,r=n.setDelY,i=e.copy,o=i.setCopyX,c=i.setCopyY;if(t){a(t.right+4);var s=Object(L.floor)((t.bottom-t.top)/2)-32;r(t.top+s),o(t.right+4),c(t.top+s+32+4)}}({pos:n,delete:{setDelX:p,setDelY:j},copy:{setCopyX:N,setCopyY:D}})}}:null}),[C,s]),J=s===C.current&&!C.current.className.includes("section"),P=(Object(o.useMemo)((function(){return s===C.current?"pointer":"default"}),[s,C]),s===C.current?"2px dashed rgb(121, 202, 182)":"unset"),z=c===C.current?"2px solid rgb(121, 202, 182)":"unset";Ke(n,"body")&&$("empty body detected"),Ke(n,"section")&&$("empty section detected");var M=Object(o.useCallback)((function(e){return Ze(e,"mj-column")}),[]),T=at(n.props.className),q=Object(o.createElement)("div",{style:{position:"absolute",right:-2,bottom:-24,zIndex:100,display:"social-element"!==T?"block":"none",minWidth:64,textAlign:"right"},draggable:!1},s===C.current||c===C.current?Object(o.createElement)("span",{style:{padding:"4px 6px",background:"#1890ff",color:"white",fontSize:"14px"}},at(n.props.className)):null),U=null;return n&&n.props.className.includes("mj-section")&&(U=Object(x.jsx)(en,{className:n.props.className,idRef:C,active:c})),Object(o.createElement)(n.nodeName,Object(I.a)(Object(I.a)({},n.props),{},{onDragOver:B.a.debounce((function(e){if(!h){var t=e.nativeEvent.target,n=ee(t);if(((null===n||void 0===n?void 0:n.includes("mj-column"))||(null===n||void 0===n?void 0:n.includes("mj-section")))&&(Q("::indicator: trigger->column"),n.includes("mj-column"))){if(!0===function(e){var t=e.mjmlJson,n=e.setMjmlJson,a=e.nearestTag;if(a){var r=K(t,a);if(r){var i=de(B.a.cloneDeep(t));Q("::beforechange::",t,i);for(var o=Object(_.a)(r,2)[1],c=B.a.get(B.a.cloneDeep(i),o.slice(1)),s=[],l=0;c&&c.children&&l<c.children.length;l++){var d=c.children[l],u=d.attributes&&d.attributes["css-class"];u&&u.includes("placeitem-placeholder")||u&&u.includes("mj-placeholder")||s.push(d)}if(s.length>0)return!1;s.push(nt);var b=o.slice(1,o.lastIndexOf(".children"));if(c){c.children=s;for(var p=B.a.get(B.a.cloneDeep(i),b),j=[],f=0;p&&p.children&&f<p.children.length;f++){var h=p.children[f],g=h.attributes&&h.attributes["css-class"];ne(g)!==a?j.push(h):j.push(c)}p.children=j;var m=B.a.set(i,b,p);return B.a.isEqual(t,m)?Q("::update:: -> but elements are the same, not triggering rerender"):(Q("::update::",i,m),n(Object(I.a)({},m))),!0}}}}({mjmlJson:m,nearestTag:n,setMjmlJson:v}))return void Q("::indicator: trigger->column -> stopping further processing");Q("::indicator: trigger->column -> no updates where done -> proceeding further processing")}var a=M(t);if(a){var r=a;a=Object(_.a)(r,1)[0]}Q("::indicator: trigger->insideColumn"),tt({mjmlJson:m,nearestTag:n,columnElement:a,currentTarget:t,setMjmlJson:v,event:e})}}),150),onMouseOver:function(e){e.stopPropagation(),s!==C.current&&i(C.current)},onDragStart:function(e){c&&r(null),e.dataTransfer.dropEffect="move";var t=ee(e.target),n=K(m,t);if(n){var a=Object(_.a)(n,2)[1],i=B.a.get(m,a.slice(1));i={mode:"move",uniqueClassName:t,config:B.a.cloneDeep(i)};var o=e.target;e.dataTransfer.setDragImage(o,0,0),e.dataTransfer.setData("config",JSON.stringify(i))}else $("move items: drag unable to find the config to transfer ".concat(t))},draggable:J,ref:C,id:S.current,onClick:E,key:t,style:Object(I.a)(Object(I.a)({},n.props.style),{},{cursor:"pointer",outline:c===C.current?z:P,position:"relative"})}),n.children?[].concat(Object(R.a)(n.children),[q,U]):null)})),nn={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",align:"align",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vertical-align":"vertial-align","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},an=function(e){var t=e.nodeName,n=e.props,a=e.children,r=e.id;return Object(o.createElement)(t,Object(I.a)(Object(I.a)({},n),{},{key:r,style:Object(I.a)(Object(I.a)({},n.style),{},{outline:"2px dashed rgb(121,202,182)"})}),a)},rn=new DOMParser,on=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(void 0!==t){var a=t.nodeName.toLowerCase();if("script"===a||"style"===a||"meta"===a||"link"===a||"title"===a||"br"===a){if("meta"===a){var r=t;return c.a.createElement(a,{httpEquiv:r.httpEquiv,content:r.content,key:a+n++},null)}if("link"===a){var i=t,s=null;return i.type&&(s=i.type),c.a.createElement(a,{href:i.href,rel:i.rel,type:s,key:a+n++},null)}return"br"===a?c.a.createElement(a,{key:a+n++},null):c.a.createElement(a,{dangerouslySetInnerHTML:{__html:t.innerHTML,key:a+n++}})}for(var l={},d=0;t.attributes&&d<t.attributes.length;d++){var u=t.attributes[d],b=nn[u.name];if(void 0===b){b=sn(u.name);"htmlParser: ".concat(u.name," is not found in possible attributes,\n      using ").concat(b," instead.")}var p="style"===u.name?cn(u.value):u.value.trim();l[b]=p}l.key=n++;var j=[];if(t.className&&t.className.includes("mj-text")){var f={nodeName:a,props:Object(I.a)({},l),children:[Object(o.createElement)("span",{dangerouslySetInnerHTML:{__html:t.innerHTML}})]};return Object(x.jsx)(tn,{uniqueKey:n++,originalNode:f})}for(var h=0;h<t.childNodes.length;h++){var g=t.childNodes[h];if("#text"!==g.nodeName)"#comment"!==g.nodeName&&"script"!==a&&"style"!==a&&j.push(e(g,n++));else if(g.textContent){var m=g.textContent.replaceAll("\n","").trim();m&&j.push(m)}}if(t.classList&&t.classList.contains("mjml-tag")){var v={nodeName:a,props:Object(I.a)({},l),children:j};return Object(x.jsx)(tn,{uniqueKey:n++,originalNode:v})}return t.classList&&t.classList.contains("placeitem-placeholder")?Object(x.jsx)(an,{id:n++,nodeName:a,props:Object(I.a)({},l),children:j}):("#document"===a&&(a="div"),"a"===a&&(delete l.href,delete l.target),"img"===a?c.a.createElement(a,Object(I.a)({key:n++},l),null):3===t.nodeType?c.a.createElement(a,Object(I.a)(Object(I.a)({},l),{},{key:n++}),t.textContent):c.a.createElement(a,l,j))}},cn=function(e){for(var t={},n=e.split(/;+(?![^(]*\))/g),a=0;a<n.length;a++)if(""!==n[a]){var r=n[a].split(":"),i=Object(We.a)(r),o=[i[0],i.slice(1).join(":")],c=o[0].trim();c=sn(c);var s=o[1].trim();t[c]=s}return t},sn=function(e){return e.replace(/([-_][a-z])/gi,(function(e){return e.toUpperCase().replace("-","").replace("_","")}))},ln=n(2159),dn=function(e){return e&&e.children&&(e.children=e.children.filter((function(e){return!(e&&e.attributes&&e.attributes["css-class"])||!e.attributes["css-class"].includes("mj-placeholder")}))),e},un=function(e){var t,n=e.target,a=e.uniqueClassName,r=e.mjmlJson,i=e.setMjmlJson,o=e.setDelActive,c=e.setCopyActive,s=e.setActive,l=e.movement;if(n)t=ee(n);else{if(!a)return void $("operation remove: either target/uniqueClassName must be provided \n      to perform this operation\n    ");t=a}if(!t)return null;var d=K(r,t);if(!d)return null;var u=Object(_.a)(d,2)[1].split("."),b=u.pop();u=u.join(".");var p=B.a.get(r,u.slice(1)),j=b.match(/\[(.*?)\]/);if(j){for(var f=parseInt(j[1]),h=[],g=0;p&&p.children&&g<p.children.length;g++)g!==f&&h.push(p.children[g]);if(u){var m=B.a.get(r,u.slice(1));m.tagName&&"mj-column"===m.tagName&&0===h.length&&(h=oe)}p.children=h}s(null);var v=B.a.set(r,u.slice(1),p);v?(o(!1),c(!1),i(Object(I.a)({},v)),l||he.newAction(v)):$("operation remove: unable to delete the item")},bn=function(e){var t=e.mjmlJson,n=e.setActive,a=e.setMjmlJson,r=e.setCopyActive,i=e.setDelActive,o=e.target,c=e.uidGenerator,s=te(o,o.classList),l="",d=-1;if(s){var u=function(e,t,n){var a=-1,r=e.closest(".mjml-tag");for(r===e&&(r=e.parentElement);-1===a&&r;){var i=te(r,r.classList);if(i){var o=K(t,i);if(o){var c=o;if(o=Object(_.a)(c,1)[0],-1!==(a=re(o.children,n)))break}}var s=r.closest(".mjml-tag");s&&s===r?r.parentElement&&(r=r.parentElement.closest(".mjml-tag")):r=s}return[a,r&&r.classList?te(r,r.classList):null]}(o,t,s);if(!u||"number"!==typeof u[0]||"string"!==typeof u[1])return void q.b.error("Unable to copy element");var b=Object(_.a)(u,2);d=b[0],l=b[1]}var p=K(t,s);if(p&&d>-1){var j=p;return p=Object(_.a)(j,1)[0],r(!1),i(!1),n(null),function(e){var t=e.droppedConfig,n=e.setMjmlJson,a=e.mjmlJson,r=e.uid,i=e.parentUniqueClassIdentifier,o=e.index,c=i;if(!c){var s=de(a);return n(Object(I.a)({},s)),null}var l=B.a.cloneDeep(t);l=ae(l,r);var d=K(a,c);if(!d)return null;var u=Object(_.a)(d,2),b=u[0],p=u[1];if($("operation add: item in Object:",b,"path to Object:",p),b=dn(b),o>-1)for(var j=0;b&&b.children&&j<b.children.length;j++)j===o&&b.children.splice(j,0,l);var f=B.a.set(a,p.slice(1),b);f=de(f),he.newAction(f),n(Object(I.a)({},f))}({droppedConfig:B.a.cloneDeep(p),setMjmlJson:a,mjmlJson:t,uid:c,index:d,parentUniqueClassIdentifier:l})}},pn=function e(t){if(3===t.nodeType)return t;for(var n=0;t.childNodes&&n<t.childNodes.length;n++){var a=e(t.childNodes[n]);if(a)return jn(a)}},jn=function e(t){if(!t)return null;if(3===t.nodeType)return e(t.parentNode);var n=t;return 1===n.nodeType?n.closest("div"):n},fn=n(328),hn=n.n(fn),gn=Object(o.createContext)(null),mn=function(e){var t=Object(o.useState)(!1),n=Object(_.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)(null),c=Object(_.a)(i,2),s=c[0],l=c[1],d=Object(o.useState)(0),u=Object(_.a)(d,2),b=u[0],p=u[1],j=Object(o.useState)(0),f=Object(_.a)(j,2),h=f[0],g=f[1];return Object(x.jsx)(gn.Provider,{value:{QuillActive:a,setQuillActive:r,quillEditor:s,setQuillEditor:l,quillX:b,quillY:h,setQuillX:p,setQuillY:g},children:e.children})},vn=function(){return Object(o.useContext)(gn)},xn=n(220),On=n.n(xn),yn=n(219),kn=n.n(yn),wn=function(){var e=G(),t=(e.ref,e.isActive,e.x,e.y,e.delActive),n=e.delX,a=e.delY,r=e.setDelActive,i=e.copy,c=Re(),s=c.mjmlJson,l=c.setMjmlJson,d=Be(),u=d.active,b=d.setActive,p=vn(),j=p.QuillActive,f=(p.quillX,p.quillY,p.setQuillEditor),h=(p.setQuillActive,vn().quillEditor),g=i.copyActive,m=i.setCopyActive,v=i.copyX,O=i.copyY,y=Y().getId;Object(o.useEffect)((function(){if(h){var e=te(u,u.classList);h.on("text-change",(function(){var t=h.container.firstChild.innerHTML;if(Q(t),e){var n=K(s,e);if(n){var a=Object(_.a)(n,2)[1],r=B.a.get(s,a.slice(1));r.content=t;var i=B.a.set(s,a.slice(1),r);l(Object(I.a)({},i))}}}))}return function(){return h&&h.off("text-change")}}),[h]),Object(o.useEffect)((function(){if(u&&j){var e=pn(u);if(h&&h.off("text-change"),e){for(;e.parentElement.classList.contains("ql-container")||e.hasAttribute("data-gramm");)e=e.parentElement;e.classList.contains("ql-container")&&(e.classList.remove("ql-container"),e.classList.remove("ql-snow"));var t=new hn.a(e,{theme:"snow",modules:{toolbar:"#toolbarContainer"}});t.getModule("toolbar").container.childNodes.forEach((function(e){var t=e.cloneNode(!0);e.parentNode.replaceChild(t,e)}));var n=t.getModule("toolbar");n.container.childNodes.forEach((function(e){n.attach(e)}),n),f(t),t.editor.scroll.domNode.classList.remove("ql-editor"),t.container.children[1].remove(),t.container.children[1].remove(),t=void 0}}}),[u]);var k=Object(o.useMemo)((function(){return function(){u&&un({target:u,mjmlJson:s,setMjmlJson:l,setDelActive:r,setActive:b,setCopyActive:m})}}),[u]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Cn,{style:{zIndex:200,display:t?"block":"none",position:"fixed",left:"".concat(n,"px"),top:"".concat(a,"px")},deleteConfirm:k}),Object(x.jsx)(Sn,{onClick:function(){u&&bn({mjmlJson:s,setActive:b,setMjmlJson:l,setCopyActive:m,setDelActive:r,target:u,uidGenerator:y})},style:{zIndex:200,display:g?"block":"none",position:"fixed",left:"".concat(v,"px"),top:"".concat(O,"px")}})]})},Cn=function(e){var t=e.style,n=e.deleteConfirm;return Object(x.jsx)(ln.a,{placement:"right",title:"Are you sure ?",okText:"Delete",cancelText:"Cancel",onConfirm:n,children:Object(x.jsx)(h.a,{style:t,type:"primary",icon:Object(x.jsx)(kn.a,{})})})},Sn=function(e){var t=e.style,n=e.onClick;return Object(x.jsx)(h.a,{style:t,onClick:n,type:"primary",icon:Object(x.jsx)(On.a,{})})},Nn=(n(550),n(551),n(2182)),An=n(2173),Dn=function(e){var t=e.undoCallback,n=e.redoCallback;return Object(x.jsxs)("div",{style:{position:"fixed",padding:"8px",display:"flex",flexDirection:"column",rowGap:"4px",zIndex:200},children:[Object(x.jsx)(Et.a,{mouseEnterDelay:.5,color:"cyan",title:"undo",placement:"right",children:Object(x.jsx)(h.a,{disabled:he.isUndoEmpty(),onClick:t,type:"default",size:"large",style:{background:"#fff"},icon:Object(x.jsx)(Nn.a,{})})}),Object(x.jsx)(Et.a,{mouseEnterDelay:.5,color:"cyan",title:"redo",placement:"right",children:Object(x.jsx)(h.a,{disabled:he.isRedoEmpty(),onClick:n,type:"default",style:{background:"#fff"},size:"large",icon:Object(x.jsx)(An.a,{})})})]})},En=Object(g.a)("div")(ye||(ye=Object(f.a)(["\n  .editor-active {\n    :focus {\n      outline: none;\n    }\n  }\n"]))),Jn=function(e){var t=Re(),n=t.mjmlJson,a=t.setMjmlJson,r=Y().getId,i=Be(),c=i.setActive,s=i.active,l=G(),d=l.setDelActive,u=l.copy,b=l.drag,p=b.setIsColumn,j=b.isColumn,f=u.setCopyActive;Object(o.useEffect)((function(){he.print()}),[n]);var h=Object(o.useCallback)((function(e){s&&c(null),e.preventDefault()}),[c,s]);return Object(x.jsxs)(z.a,{style:{height:"100%"},children:[Object(x.jsx)(wn,{}),Object(x.jsx)(Kt,{}),Object(x.jsx)(Dn,{undoCallback:function(){var e=he.undoAction(n);e&&(a(Object(I.a)({},e)),c(null),d(!1),f(!1))},redoCallback:function(){var e=he.redoAction(n);e&&(c(null),a(Object(I.a)({},e)),d(!1),f(!1))}}),Object(x.jsx)(En,{className:"".concat(Fe.a.viewHolder," mjml-wrapper mjml-tag identifier-mj-body"),onDrop:function(e){e.preventDefault(),j&&p(!1);var t=JSON.parse(e.dataTransfer.getData("config"));t&&t.mode&&"move"===t.mode&&t.config&&(un({uniqueClassName:t.uniqueClassName,mjmlJson:n,setMjmlJson:a,setActive:c,setDelActive:d,setCopyActive:f,movement:!0}),$("operation move: onDrop -> removed previous instance \n      of config :'".concat(t.uniqueClassName,"'")),t=t.config),function(e){var t=e.target,n=e.droppedConfig,a=e.setMjmlJson,r=e.mjmlJson,i=e.uid,o=ee(t);if(!o){var c=de(r);return a(Object(I.a)({},c)),null}if("mj-section"!==n.tagName&&("identifier-mj-body"===o||"identifier-mj-section"===o)){var s=de(r);return a(Object(I.a)({},s)),q.b.error("Use a section to place the item"),null}if(n.tagName&&"mj-section"===n.tagName&&"identifier-mj-body"!==o){var l="Sections can not be nested! it will break mobile design";return q.b.info(l),void Q("operation add: ".concat(l))}var d=B.a.cloneDeep(n);d=ae(d,i);var u=K(B.a.cloneDeep(r),o);if(!u)return null;var b=Object(_.a)(u,2),p=b[0],j=b[1];$("operation add: item in Object:",p,"path to Object:",j),p=function(e,t){if("mj-body"!==e.tagName&&e.children&&e.children.length)for(var n=0;n<e.children.length;n++){var a=e.children[n],r=a.attributes["css-class"];r&&r.includes("placeitem-placeholder")?e.children[n]=t:e.children[n]=a}else e.children.push(t);return e}(p=dn(p),d),he.isUndoEmpty()&&he.newAction(de(B.a.cloneDeep(r)));var f=B.a.set(r,j.slice(1),p);f=de(f),he.newAction(f),a(Object(I.a)({},f))}({target:e.nativeEvent.target,droppedConfig:t,mjmlJson:n,setMjmlJson:a,uid:r})},onDragOver:h,children:Object(x.jsx)(Pn,{mjml:n,isColumn:j})})]})},Pn=Object(o.memo)((function(e){var t=e.mjml;e.isColumn;return t&&function(e){if("string"!==typeof e)return Z("htmlParser: html is not a string"),c.a.createElement("div",{},"errors: please check dev console");var t=rn.parseFromString(e,"text/html");return null===t?(Z("htmlParser: doc is null, unable to process html"),c.a.createElement("p",{},"errors: please check dev console")):on(t,1)}(Ue()(t).html)})),zn=n(223),Mn=n.n(zn),Tn=n(221),_n=n.n(Tn),In=n(224),Ln=n.n(In),Bn=n(222),Rn=n.n(Bn),qn=[{title:"Left",prop:"left",component:Object(x.jsx)(_n.a,{})},{title:"Justify",prop:"justify",component:Object(x.jsx)(Rn.a,{})},{title:"Center",prop:"center",component:Object(x.jsx)(Mn.a,{})},{title:"Right",prop:"right",component:Object(x.jsx)(Ln.a,{})}],Un=function(){var e=qt({attribute:"align"}),t=Object(_.a)(e,2),n=t[0],a=t[1],r=Re(),i=r.mjmlJson,o=r.setMjmlJson,c=Be().active;return n?Object(x.jsxs)(D.a,{children:[Object(x.jsx)(E.a,{flex:"3",children:Object(x.jsx)(Ot.a.Item,{label:"Align"})}),Object(x.jsx)(E.a,{flex:"2",children:Object(x.jsx)(D.a,{justify:"space-between",children:qn.map((function(e,t){var r=e.prop,s=e.component,l=e.title;return Object(x.jsx)(E.a,{children:Object(x.jsx)(Et.a,{title:l,children:Object(x.jsx)(h.a,{onClick:function(){return function(e){if(c&&n&&a){var t=B.a.get(i,a);if(t&&t.attributes&&t.attributes){t.attributes.align=e;var r=B.a.set(i,a,t);o(Object(I.a)({},r))}}}(r)},type:"ghost",icon:s})})},t)}))})})]}):null},Hn=function(e){var t=e.activePath,n=e.label,a=e.attribute_name||"border",r=qt({attribute:a,customPath:t}),i=Object(_.a)(r,2),c=i[0],s=i[1],l=Re(),d=l.mjmlJson,u=l.setMjmlJson,b=Ut({path:s,visible:c,attribute:a}).getValue,p=Object(o.useState)(""),j=Object(_.a)(p,2),f=j[0],h=j[1];Object(o.useEffect)((function(){c&&h(b())}),[c]);return c?Object(x.jsx)(Ot.a.Item,{label:n||"Border",children:Object(x.jsx)(lt.a,{onChange:function(e){if(h(e.target.value),c&&s&&e.target.value){var t,n=B.a.get(d,s);n.attributes[a]=e.target.value,t=B.a.set(d,s,n),u(Object(I.a)({},t))}},value:f,onKeyDown:Fn})}):null},Fn=function(e){1===e.currentTarget.value.length&&"Backspace"===e.key&&(e.currentTarget.value="")},Wn="border-radius",Yn=function(e){var t=e.activePath,n=Re(),a=n.mjmlJson,r=n.setMjmlJson,i=qt({attribute:Wn,customPath:t}),o=Object(_.a)(i,2),c=o[0],s=o[1],l=function(e){if(s){""===e&&(e="none");var t=B.a.get(a,s);t.attributes["border-radius"]=e;var n=B.a.set(a,s,t);r(Object(I.a)({},n))}},d="";return c&&(d=B.a.get(a,s+"attributes.border-radius")),c?Object(x.jsx)(Ot.a.Item,{label:"Border Radius",children:Object(x.jsx)(lt.a,{onChange:function(e){c&&e.target.value&&(""===e.target.value&&(e.target.value="none"),l(e.currentTarget.value))},value:d,onKeyDown:function(e){if(1===e.currentTarget.value.length&&"Backspace"===e.key&&(e.currentTarget.value=""),("ArrowUp"===e.key||"ArrowDown"===e.key)&&(e.preventDefault(),c)){var t=B.a.get(a,s+"attributes")["border-radius"],n=new RegExp(/^\d+/).exec(t),r=n?parseInt(n[0]):0;"ArrowUp"===e.key?t=t.replace(/^\d+/,r+1):"ArrowDown"===e.key&&r>0&&(t=t.replace(/^\d+/,r-1)),e.currentTarget.value=t,l(t)}}})}):null},Xn="container-background-color",Vn=function(){var e=Re(),t=e.mjmlJson,n=e.setMjmlJson,a=Object(o.useState)((function(){return!1})),r=Object(_.a)(a,2),i=r[0],c=r[1],s=Object(o.useState)((function(){return"#ccc"})),l=Object(_.a)(s,2),d=l[0],u=l[1],b=Be().active,p=qt({attribute:Xn}),j=Object(_.a)(p,2),f=j[0],h=j[1];Object(o.useEffect)((function(){if(b&&f)try{if(h){var e=B.a.get(t,h);e.mutableProperties.includes(Xn)&&u(e.attributes["container-background-color"])}}catch(n){$("got exception, hiding background mod",n)}}),[b]);return f?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(D.a,{children:[Object(x.jsx)(E.a,{flex:"auto",children:Object(x.jsx)(Ot.a.Item,{label:"Container Background"})}),Object(x.jsxs)(Kn,{color:d,flex:"none",children:[Object(x.jsx)("div",{className:"swatch",onClick:function(){return c(!0)},children:Object(x.jsx)("div",{className:"color"})}),i?Object(x.jsxs)("div",{className:"popover",children:[Object(x.jsx)("div",{className:"cover",onClick:function(){return c(!1)}}),Object(x.jsx)(gt.a,{disableAlpha:!1,color:d,onChange:function(e){return function(e){var a="".concat(e.hex).concat(Gn(e.rgb.a));if(u(a),h&&f){var r=B.a.get(t,h);r.attributes["container-background-color"]=a;var i=B.a.set(t,h,r);n(Object(I.a)({},i))}}(e)}})]}):null]})]})}):null},Gn=function(e){return 0===e?"00":Math.round(255*e).toString(16)},Kn=Object(g.a)(E.a)(ke||(ke=Object(f.a)(["\n  .color {\n    width: 25px;\n    height: 25px;\n    border-radius: 2px;\n    background: ",";\n  }\n  .swatch {\n    padding: 5px;\n    background: #fff;\n    border-radius: 1px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .popover {\n    position: absolute;\n    z-index: 2;\n    top: -108px;\n    left: -200px;\n  }\n\n  .cover {\n    position: fixed;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n  }\n"])),(function(e){return e.color})),Qn="content",Zn=function(){var e=qt({property:Qn}),t=Object(_.a)(e,2),n=t[0],a=t[1],r=Re(),i=r.mjmlJson,c=r.setMjmlJson,s=Object(o.useState)(""),l=Object(_.a)(s,2),d=l[0],u=l[1],b=Object(o.useState)(null),p=Object(_.a)(b,2),j=p[0],f=p[1],h=Object(o.useState)(!1),g=Object(_.a)(h,2),m=g[0],v=g[1];Be().active;Object(o.useEffect)((function(){if(n&&a){var e=B.a.get(i,a);if(e){if(u(e.content?e.content:""),"mj-text"===e.tagName){if(e.attributes&&e.attributes["css-class"]&&e.attributes["css-class"].includes("html-block"))return f(!1),void v(!0);f(!0)}else f(!1);v(!1)}}}),[n,a]);var O=function(e){var t=e.currentTarget.value;if(u(t),a&&n){var r=B.a.get(i,a);if(r&&r.content!==t){r.content=t;var o=B.a.set(i,a,r);c(Object(I.a)({},o))}}};return n?Object(x.jsx)(Ot.a.Item,{label:"Content",children:m?Object(x.jsx)(lt.a.TextArea,{rows:28,onChange:O,value:d}):Object(x.jsx)(lt.a.TextArea,{disabled:j||!1,readOnly:j||!1,rows:3,onChange:O,value:d})}):null},$n=function(e){var t=e.activePath,n=Re(),a=n.mjmlJson,r=n.setMjmlJson,i=qt({attribute:"border-top",customPath:t}),o=Object(_.a)(i,2),c=o[0],s=o[1],l=function(e,t){c&&s&&e.target.value&&(""===e.target.value&&(e.target.value=""),d(t,e.target.value))},d=function(e,t){if(s){""===t&&(t="none");var n=B.a.get(a,s);n.attributes["border-".concat(e)]=t;var i=B.a.set(a,s,n);r(Object(I.a)({},i))}},u=function(e,t){if(1===e.currentTarget.value.length&&"Backspace"===e.key&&(e.currentTarget.value=""),("ArrowUp"===e.key||"ArrowDown"===e.key)&&(e.preventDefault(),c)){var n=B.a.get(a,s+"attributes")["border-"+t],r=new RegExp(/^\d+/).exec(n),i=r?parseInt(r[0]):0;"ArrowUp"===e.key?n=n.replace(/^\d+/,i+1):"ArrowDown"===e.key&&i>0&&(n=n.replace(/^\d+/,i-1)),e.currentTarget.value=n,d(t,e.currentTarget.value)}},b="",p="",j="",f="";return c&&(b=B.a.get(a,s+"attributes.border-left"),p=B.a.get(a,s+"attributes.border-right"),f=B.a.get(a,s+"attributes.border-top"),j=B.a.get(a,s+"attributes.border-bottom")),c?Object(x.jsxs)(Ot.a.Item,{label:"Border Directions",children:[Object(x.jsx)(lt.a.Group,{style:{marginBottom:"6px"},children:Object(x.jsxs)(D.a,{children:[Object(x.jsx)(E.a,{span:11,offset:0,children:Object(x.jsx)(lt.a,{addonBefore:"top",onKeyDown:function(e){return u(e,"top")},onChange:function(e){return l(e,"top")},value:f})}),Object(x.jsx)(E.a,{span:11,offset:2,children:Object(x.jsx)(lt.a,{addonBefore:"right",onKeyDown:function(e){return u(e,"right")},onChange:function(e){return l(e,"right")},value:p})})]})}),Object(x.jsx)(lt.a.Group,{children:Object(x.jsxs)(D.a,{children:[Object(x.jsx)(E.a,{span:11,offset:0,children:Object(x.jsx)(lt.a,{addonBefore:"bottom",onKeyDown:function(e){return u(e,"bottom")},onChange:function(e){return l(e,"bottom")},value:j})}),Object(x.jsx)(E.a,{span:11,offset:2,children:Object(x.jsx)(lt.a,{addonBefore:"left",onKeyDown:function(e){return u(e,"left")},onChange:function(e){return l(e,"left")},value:b})})]})})]}):null},ea="font-size",ta=function(){var e=qt({attribute:ea}),t=Object(_.a)(e,2),n=t[0],a=t[1],r=Re(),i=r.mjmlJson,o=r.setMjmlJson,c=Ut({path:a,visible:n,attribute:ea}).getValue;return n?Object(x.jsx)(Ot.a.Item,{label:"FontSize",children:Object(x.jsx)(lt.a,{onChange:function(e){var t=e.currentTarget.value;if(a&&n){var r,c=B.a.get(i,a);c.attributes["font-size"]=t,r=B.a.set(i,a,c),o(Object(I.a)({},r))}},value:c()})}):null},na="src",aa=function(){var e=qt({attribute:na}),t=Object(_.a)(e,2),n=t[0],a=t[1],r=Re(),i=r.mjmlJson,o=r.setMjmlJson,c=Ut({path:a,visible:n,attribute:na}).getValue;return n?Object(x.jsx)(D.a,{children:Object(x.jsx)(E.a,{span:24,children:Object(x.jsx)(lt.a,{addonBefore:"src",onChange:function(e){return function(e){var t=e.currentTarget.value;if(a&&n){var r,c=B.a.get(i,a);c.attributes.src=t,r=B.a.set(i,a,c),o(Object(I.a)({},r))}}(e)},value:c()})})}):null},ra="inner-padding",ia=function(){var e=qt({attribute:ra}),t=Object(_.a)(e,2),n=t[0],a=t[1],r=Re(),i=r.mjmlJson,c=r.setMjmlJson,s=Object(o.useState)(),l=Object(_.a)(s,2),d=l[0],u=l[1];Object(o.useEffect)((function(){if(n&&a){var e=B.a.get(i,a);e&&e.attributes&&e.attributes["inner-padding"]&&u(e.attributes["inner-padding"])}}),[n,a]),Object(o.useEffect)((function(){d&&function(e){var t=e.visible,n=e.path,a=e.mjmlJson,r=e.setMjmlJson,i=e.attribute,o=e.value;if(t&&n){var c=B.a.get(a,n,t);if(c&&c.attributes&&c.attributes[i]!==o){c.attributes[i]=o;var s=B.a.set(a,n,c);r(Object(I.a)({},s))}}}({visible:n,path:a,mjmlJson:i,setMjmlJson:c,value:d,attribute:ra})}),[d]);return n?Object(x.jsx)(Ot.a.Item,{label:"Inner Padding :",children:Object(x.jsx)(lt.a,{onChange:function(e){var t=e.currentTarget.value;Q("inner padding value",t),a&&n&&u(t)},type:"text",value:d})}):null},oa=function(e){var t=e.activePath,n=qt({attribute:"padding",customPath:t}),a=Object(_.a)(n,3),r=a[0],i=a[1],c=a[2],s=Re(),l=s.mjmlJson,d=s.setMjmlJson,u=function(e,t){""===e.currentTarget.value&&(e.currentTarget.value="0"),b(t,e.currentTarget.value)},b=Object(o.useMemo)((function(){return function(e,t){if(i&&r){var n={};if(e){var a=B.a.get(l,i);a.attributes["padding-".concat(e)]=t,n=B.a.set(l,i,a),d(Object(I.a)({},n))}}}}),[r,i]),p=function(e){var t="";if(i&&r&&c){var n=B.a.get(l,i);if(!n)return;if(!(t=n.attributes?n.attributes["padding-".concat(e)]:null)&&(t=n.attributes.padding)){var a=t.split(" "),o=Object(_.a)(a,2),s=o[0],d=o[1];switch(e){case"top":case"bottom":return s;case"left":case"right":return d}}}return t};return r?Object(x.jsxs)(Ot.a.Item,{label:"Padding :",children:[Object(x.jsx)(lt.a.Group,{style:{marginBottom:"6px"},children:Object(x.jsxs)(D.a,{children:[Object(x.jsx)(E.a,{span:11,offset:0,children:Object(x.jsx)(lt.a,{addonBefore:"top",onChange:function(e){return u(e,"top")},value:p("top")})}),Object(x.jsx)(E.a,{span:11,offset:2,children:Object(x.jsx)(lt.a,{addonBefore:"right",onChange:function(e){return u(e,"right")},value:p("right")})})]})}),Object(x.jsx)(lt.a.Group,{children:Object(x.jsxs)(D.a,{children:[Object(x.jsx)(E.a,{span:11,offset:0,children:Object(x.jsx)(lt.a,{addonBefore:"bottom",onChange:function(e){return u(e,"bottom")},value:p("bottom")})}),Object(x.jsx)(E.a,{span:11,offset:2,children:Object(x.jsx)(lt.a,{addonBefore:"left",onChange:function(e){return u(e,"left")},value:p("left")})})]})})]}):null},ca=n(2161),sa=n(2170),la={display:"flex",height:"16px",borderRadius:"0px"},da="1px solid rgb(85, 85, 85)",ua=function(){var e=Be().active,t=Re(),n=t.mjmlJson,a=t.setMjmlJson,r=G(),i=r.setDelActive,c=r.copy.setCopyActive,s=Ge().setActive,l=Y().getId,d=Object(o.useState)(!1),u=Object(_.a)(d,2),b=u[0],p=u[1],j=Object(o.useState)(),f=Object(_.a)(j,2),h=f[0],g=f[1];Object(o.useEffect)((function(){if(e){var t=$e(e);if(t){var n=Object(_.a)(t,2)[1];return p(!0),void g(n)}}p(!1)}),[e,b]);var m=function(e){if(b&&h){var t=K(n,h);if(t){var r=Object(_.a)(t,2),o=r[0],d=r[1];if(o&&d&&o.children&&e.length>0){for(var u=o.children.length,p=e.length,j=[],f=0;f<u&&f<p;f++){var g=B.a.cloneDeep(o.children[f]);g&&g.attributes&&(g.attributes.width=e[f],j.push(g))}for(var m=u;m<p;m++){var v=ae(B.a.cloneDeep(ce),l);v.attributes.width=e[m],j.push(v)}var x=Object(I.a)(Object(I.a)({},o),{},{children:j});Q("column layout: ",x);var O=B.a.set(n,d.slice(1),x);O&&(he.newAction(O),i(!1),c(!1),s(!1),a(Object(I.a)({},O)))}}}};return b?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{children:[Object(x.jsx)(pa,{children:Object(x.jsx)("p",{children:"1 Columns"})}),Object(x.jsx)(ba,{click:function(){return m(["100%"])},one:100})]}),Object(x.jsxs)("div",{style:{marginTop:"16px"},children:[Object(x.jsx)(pa,{children:Object(x.jsx)("p",{children:"2 Columns"})}),Object(x.jsx)(ba,{click:function(){return m(["50%","50%"])},one:50,two:50}),Object(x.jsx)(ba,{click:function(){return m(["39%","59%"])},one:40,two:60}),Object(x.jsx)(ba,{click:function(){return m(["25%","75%"])},one:25,two:75}),Object(x.jsx)(ba,{click:function(){return m(["60%","40%"])},one:60,two:40}),Object(x.jsx)(ba,{click:function(){return m(["75%","25%"])},one:75,two:25})]}),Object(x.jsxs)("div",{style:{marginTop:"16px"},children:[Object(x.jsx)(pa,{children:Object(x.jsx)("p",{children:"3 Columns"})}),Object(x.jsx)(ba,{click:function(){return m(["33%","33%","33%"])},one:50,two:50,three:50}),Object(x.jsx)(ba,{click:function(){return m(["47.5%","5%","47.5%"])},one:47.5,two:5,three:47.5}),Object(x.jsx)(ba,{click:function(){return m(["25%","25%","50%"])},one:25,two:25,three:50}),Object(x.jsx)(ba,{click:function(){return m(["25%","50%","25%"])},one:25,two:50,three:25}),Object(x.jsx)(ba,{click:function(){return m(["50%","25%","25%"])},one:50,two:25,three:25})]}),Object(x.jsxs)("div",{style:{marginTop:"16px"},children:[Object(x.jsx)(pa,{children:Object(x.jsx)("p",{children:"4 Columns"})}),Object(x.jsx)(ba,{click:function(){return m(["25%","25%","25%","25%"])},one:50,two:50,three:50,four:50})]})]}):Object(x.jsx)("div",{style:{textAlign:"center"},children:"Select an item inside the body"})},ba=function(e){var t=e.click,n=e.one,a=e.two,r=e.three,i=e.four;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(D.a,{style:{marginBottom:"12px"}}),Object(x.jsx)(ja,{onClick:t||void 0,children:Object(x.jsx)("div",{className:"wrapper",children:Object(x.jsxs)("div",{className:"border",children:[Object(x.jsx)("div",{style:Object(I.a)(Object(I.a)({},la),{},{flexGrow:n,borderRight:a?da:"unset"})}),a?Object(x.jsx)("div",{style:Object(I.a)(Object(I.a)({},la),{},{flexGrow:a,borderRight:r?da:"unset"})}):null,r?Object(x.jsx)("div",{style:Object(I.a)(Object(I.a)({},la),{},{flexGrow:r,borderRight:i?da:"unset"})}):null,i?Object(x.jsx)("div",{style:Object(I.a)(Object(I.a)({},la),{},{flexGrow:a})}):null]})})})]})},pa=Object(g.a)(D.a)(we||(we=Object(f.a)(["\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n  p {\n    margin: 0px;\n    text-align: inherit;\n    color: rgb(85, 85, 85);\n    font-size: 14px;\n    font-weight: 600;\n  }\n"]))),ja=Object(g.a)(D.a)(Ce||(Ce=Object(f.a)(["\n  background-color: rgb(252, 252, 252);\n  border: 1px solid rgb(229, 229, 229);\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: flex;\n  box-shadow: none;\n  cursor: grab;\n\n  &:hover {\n    background-color: rgb(255, 255, 255);\n    box-shadow: rgb(0 0 0 / 20%) 0px 1px 4px;\n    border-color: rgb(255, 255, 255);\n  }\n\n  .wrapper {\n    margin: 10px;\n    background-color: rgb(255, 255, 255);\n    position: relative;\n    width: 100%;\n    display: flex;\n    border-radius: 3px;\n    box-sizing: border-box;\n\n    .border {\n      border: 1px solid rgb(85, 85, 85);\n      border-radius: 3px;\n      display: flex;\n      -webkit-box-align: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n    }\n  }\n"]))),fa="font-family",ha=ct.a.Option,ga=function(){var e=qt({attribute:fa}),t=Object(_.a)(e,2),n=t[0],a=t[1],r=Re(),i=r.mjmlJson,o=r.setMjmlJson,c=Ut({path:a,visible:n,attribute:fa}).getValue,s=Ft(),l=Object(_.a)(s,2),d=l[0],u=l[1],b="";return n&&a&&(b=c())&&b.indexOf(",")>-1&&(b=b.split(",")[0]),n?Object(x.jsx)(Ot.a.Item,{label:"Font Family",children:Object(x.jsx)(ct.a,{value:u,onChange:function(e){if(n&&a){var t=B.a.get(i,a);if(t){t.attributes["font-family"]=e;var r=B.a.set(i,a,t);r&&o(Object(I.a)({},r))}}},children:d.map((function(e){return Object(x.jsx)(ha,{value:e,children:e},e)}))})}):null},ma=n(182),va="vertical-align",xa=function(e){var t=e.activePath,n=qt({attribute:va,customPath:t}),a=Object(_.a)(n,2),r=a[0],i=a[1],o=Re(),c=o.mjmlJson,s=o.setMjmlJson,l=Be().active,d=function(e){if(l&&r&&i){var t=B.a.get(c,i);if(t&&t.attributes){t.attributes["vertical-align"]=e;var n=B.a.set(c,i,t);s(Object(I.a)({},n))}}};return r?Object(x.jsxs)(D.a,{children:[Object(x.jsx)(E.a,{flex:"auto",children:Object(x.jsx)(Ot.a.Item,{label:"Vertical Align"})}),Object(x.jsx)(E.a,{children:Object(x.jsxs)(D.a,{justify:"space-between",gutter:[16,0],children:[Object(x.jsx)(Et.a,{title:"Top",children:Object(x.jsx)(h.a,{onClick:function(){return d("top")},type:"ghost",icon:Object(x.jsx)(ma.VerticalAlignTopOutlined,{})})}),Object(x.jsx)(E.a,{children:Object(x.jsx)(Et.a,{placement:"left",title:"Middle :Note: all columns in section must be set to middle, for this to work.",children:Object(x.jsx)(h.a,{onClick:function(){return d("middle")},type:"ghost",icon:Object(x.jsx)(ma.VerticalAlignMiddleOutlined,{})})})}),Object(x.jsx)(E.a,{children:Object(x.jsx)(Et.a,{title:"Bottom",children:Object(x.jsx)(h.a,{onClick:function(){return d("bottom")},type:"ghost",icon:Object(x.jsx)(ma.VerticalAlignBottomOutlined,{})})})})]})})]}):null},Oa="background-url",ya="background-size",ka="background-repeat",wa=function(){var e=Object(o.useState)(""),t=Object(_.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(""),i=Object(_.a)(r,2),c=i[0],s=i[1],l=Object(o.useState)(""),d=Object(_.a)(l,2),u=d[0],b=d[1],p=Re(),j=p.mjmlJson,f=p.setMjmlJson,h=qt({attribute:Oa}),g=Object(_.a)(h,2),m=g[0],v=g[1],O=qt({attribute:ya}),y=Object(_.a)(O,2),k=y[0],w=y[1],C=qt({attribute:ka}),S=Object(_.a)(C,2),N=S[0],A=S[1];if(Object(o.useEffect)((function(){if(j){if(m){var e=B.a.get(j,v);e&&a(e.attributes[Oa])}if(k){var t=B.a.get(j,w);t&&s(t.attributes[ya])}if(N){var n=B.a.get(j,A);n&&b(n.attributes[ka])}}}),[m,k,N]),!1===m&&!1===k&&!1===N)return null;return Object(x.jsx)(Ot.a.Item,{label:"Background Image:",children:Object(x.jsx)(lt.a.Group,{children:Object(x.jsxs)(D.a,{gutter:[0,4],children:[m?Object(x.jsx)(E.a,{span:24,children:Object(x.jsx)(lt.a,{addonBefore:"url",onChange:function(e){if(a(e.target.value),m&&v&&e.target.value){var t=B.a.get(j,v);if(t&&t.attributes){t.attributes[Oa]=e.target.value;var n=B.a.set(j,v,t);f(Object(I.a)({},n))}}},value:n})}):null,k?Object(x.jsx)(E.a,{span:24,children:Object(x.jsx)(lt.a,{addonBefore:"size",onChange:function(e){if(s(e.target.value),k&&w&&e.target.value){var t=B.a.get(j,v);if(t&&t.attributes){t.attributes[ya]=e.target.value;var n=B.a.set(j,w,t);f(Object(I.a)({},n))}}},value:c,placeholder:"px/percent/'cover'/'contain'"})}):null,N?Object(x.jsx)(E.a,{span:24,children:Object(x.jsx)(lt.a,{addonBefore:"repeat",onChange:function(e){if(b(e.target.value),N&&A&&e.target.value){var t=B.a.get(j,v);if(t&&t.attributes){t.attributes[ka]=e.target.value;var n=B.a.set(j,A,t);f(Object(I.a)({},n))}}},value:u,placeholder:"repeat"})}):null]})})})},Ca=ca.a.TabPane,Sa=Object(g.a)(ca.a)(Se||(Se=Object(f.a)(["\n  .ant-tabs-tab {\n    padding-top: 0px;\n  }\n  .ant-tabs-content {\n    height: 100%;\n  }\n\n  .mods {\n    padding: 24px 16px;\n    padding-top: 4px;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .ant-row {\n    margin-bottom: 8px;\n  }\n"]))),Na=function(){var e=Re().mjmlJson,t=Be().active,n=Object(o.useState)([]),a=Object(_.a)(n,2),r=a[0],i=a[1];return Object(o.useEffect)((function(){if(t){var n=$e(t);if(n){var a=Object(_.a)(n,2)[1],o=K(e,a);if(o){var c=Object(_.a)(o,2),s=c[0],l=c[1];if(l=l.slice(1),s&&s.children&&s.children.length>0){for(var d=[],u=0;u<s.children.length;u++)"mj-column"===s.children[u].tagName&&d.push("".concat(l,".children[").concat(u,"]"));return void(B.a.isEqual(r,d)||i(d))}}}}i([])}),[t]),t&&r.length>0?Object(x.jsx)(Sa,{centered:!0,tabBarGutter:2,defaultActiveKey:"0",style:{height:"100%"},destroyInactiveTabPane:!1,children:r&&r.map((function(t,n){return Object(x.jsx)(Ca,{tab:"column ".concat(n+1),children:Object(x.jsx)(z.a,{style:{height:"100%"},autoHide:!0,children:Object(x.jsxs)("div",{className:"mods",onMouseDown:function(t){he.newAction(e)},onBlur:function(t){he.newAction(e)},children:[Object(x.jsx)(St,{activePath:t}),Object(x.jsx)(xa,{activePath:t}),Object(x.jsx)(oa,{activePath:t}),Object(x.jsx)(yt,{activePath:t}),Object(x.jsx)(yt,{label:"Inner Background:",overrideAttribute:"inner-background-color",activePath:t}),Object(x.jsx)(Yn,{activePath:t}),Object(x.jsx)(Hn,{activePath:t}),Object(x.jsx)($n,{activePath:t})]})})},n)}))}):Object(x.jsx)("div",{style:{textAlign:"center",marginTop:"24px"},children:"Select an item inside the body"})},Aa="line-height",Da=function(){var e=qt({attribute:Aa}),t=Object(_.a)(e,2),n=t[0],a=t[1],r=Re(),i=r.mjmlJson,c=r.setMjmlJson,s=Object(o.useState)("100%"),l=Object(_.a)(s,2),d=l[0],u=l[1],b=Ut({path:a,visible:n,attribute:Aa}).getValue;Object(o.useEffect)((function(){if(n&&a){var e=b();u(e)}}),[n,a]);return n?Object(x.jsx)(zt.a,{children:Object(x.jsxs)(D.a,{children:[Object(x.jsx)(E.a,{flex:"auto",children:"Line Height:"}),Object(x.jsx)(E.a,{flex:"none",children:Object(x.jsx)(Ea,{onChange:function(e){u(e.target.value),n&&a&&e&&e.target&&("number"===typeof e.target.value&&e.target.value<0&&(e.target.value=0),Pa(e.target.value.toString(),a,i,c))},addonBefore:Object(x.jsx)("span",{onClick:function(){Ja(n,d,i,a,u,c,"dec")},children:"-"}),addonAfter:Object(x.jsx)("span",{onClick:function(){Ja(n,d,i,a,u,c,"inc")},children:"+"}),value:d,style:{width:"".concat(d?d.toString().length+12:12,"ch ")}})})]})}):null},Ea=Object(g.a)(lt.a)(Ne||(Ne=Object(f.a)(["\n  .ant-input-group-addon {\n    cursor: pointer;\n    user-select: none;\n    padding:0px;\n    &:hover {\n      color: #40a9ff;\n    }\n    span{\n        padding 0 11px;\n    }\n  }\n"]))),Ja=function(e,t,n,a,r,i,o){if(e&&t){var c,s=t,l=t;s.includes("%")?(c="inc"===o?10:-10,s=s.split("%")[0],s=parseInt(s)):(c="inc"===o?1:-1,s=parseInt(s));var d=s,u=Math.max(s+c,0),b=l.replace(d.toString(),u.toString());r(b),Pa(b.toString(),a,n,i)}},Pa=function(e,t,n,a){var r=B.a.get(n,t);if(r&&r.attributes){r.attributes["line-height"]=e;var i=B.a.set(n,t,r);i&&a(Object(I.a)({},i))}},za=ca.a.TabPane,Ma=Object(g.a)(ca.a)(Ae||(Ae=Object(f.a)(["\n  .ant-tabs-content {\n    height: 100%;\n  }\n  .ant-tabs-tab {\n    padding: 8px 16px !important;\n  }\n  .ant-tabs-tabpane {\n    padding-right: 0px !important;\n  }\n"]))),Ta=function(){Re().mjmlJson;var e=Be().active,t=Object(o.useState)(!1),n=Object(_.a)(t,2),a=n[0],r=n[1];return Object(o.useEffect)((function(){e&&e.classList&&e.className.includes("mj-column")&&r(!0),a&&r(!1)}),[e]),Object(x.jsxs)(Ma,{tabPosition:"right",defaultActiveKey:"2",style:{height:"100%"},destroyInactiveTabPane:!0,title:"Attributes",size:"small",tabBarGutter:1,children:[Object(x.jsx)(za,{tab:Object(x.jsx)("span",{style:{fontSize:"12px"},children:"layout"}),children:Object(x.jsx)(P.Scrollbars,{style:{height:"100%"},autoHide:!0,children:Object(x.jsx)("div",{className:Fe.a.columns,children:Object(x.jsx)(ua,{})})})},"2"),Object(x.jsx)(za,{tab:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{style:{fontSize:"12px"},children:"layout"}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{style:{fontSize:"12px"},children:"config"})]}),children:Object(x.jsx)(P.Scrollbars,{style:{height:"100%"},autoHide:!0,children:Object(x.jsx)(Na,{})})},"3"),Object(x.jsx)(za,{tab:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{style:{fontSize:"12px"},children:"body"}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{style:{fontSize:"12px"},children:"config"})]}),children:Object(x.jsx)(P.Scrollbars,{style:{height:"100%"},autoHide:!0,children:Object(x.jsx)(Bt,{})})},"4")]})},_a=function(){var e=Re().mjmlJson,t=Be(),n=t.active,a=(t.setActive,Object(o.useState)(!1)),r=Object(_.a)(a,2),i=r[0],c=r[1],s=Object(o.useState)(!1),l=Object(_.a)(s,2),d=l[0],u=l[1],b=Object(o.useState)(!1),p=Object(_.a)(b,2),j=p[0],f=p[1];return Object(o.useEffect)((function(){n&&!j&&f(!0),n&&(n.classList&&n.className.includes("mj-column")||n.classList&&n.className.includes("mj-body"))?c(!0):i&&c(!1)}),[n]),Object(o.useEffect)((function(){u(!(i||!n))}),[i,n]),j?Object(x.jsx)(sa.a,{destroyOnClose:!0,width:"100%",getContainer:!1,title:Object(x.jsx)("div",{style:{textAlign:"center"},children:Object(x.jsx)("span",{children:"Attributes"})}),style:{position:"absolute",height:"100%"},onClose:function(){u(!1)},visible:d,maskClosable:!1,mask:!1,bodyStyle:{padding:"8px 0px"},children:Object(x.jsx)(P.Scrollbars,{style:{height:"100%"},autoHide:!0,children:Object(x.jsxs)("div",{className:Fe.a.mods,onMouseDown:function(t){he.newAction(e)},onBlur:function(t){he.newAction(e)},children:[Object(x.jsx)(St,{}),Object(x.jsx)(At,{}),Object(x.jsx)(Un,{}),Object(x.jsx)(xa,{}),Object(x.jsx)(Zn,{}),Object(x.jsx)(Da,{}),Object(x.jsx)(ta,{}),Object(x.jsx)(ga,{}),Object(x.jsx)(oa,{}),Object(x.jsx)(ia,{}),Object(x.jsx)(Vn,{}),Object(x.jsx)(yt,{}),Object(x.jsx)(wa,{}),Object(x.jsx)(Hn,{}),Object(x.jsx)(Hn,{label:"Border Width",attribute_name:"border-width"}),Object(x.jsx)(Hn,{label:"Border Style",attribute_name:"border-style"}),Object(x.jsx)(yt,{label:"Border Color",overrideAttribute:"border-color"}),Object(x.jsx)($n,{}),Object(x.jsx)(Yn,{}),Object(x.jsx)(Xt,{}),Object(x.jsx)(aa,{})]})})}):null},Ia=n(2168),La=n(183),Ba=n.n(La),Ra=function(e){var t=e.background,n=e.label;return Object(x.jsxs)("div",{className:Ba.a.wrapper,children:[Object(x.jsx)("div",{className:"".concat(Ba.a.container," ").concat(Ba.a[t])}),Object(x.jsx)("span",{children:n})]})},qa=["align","background-color","border","border-bottom","border-left","border-radius","border-right","border-top","color","container-background-color","css-class","font-family","font-size","font-style","font-weight","height","href","inner-padding","letter-spacing","line-height","padding","padding-bottom","padding-left","padding-right","padding-top","rel","target","text-align","text-decoration","text-transform","title","vertical-align","width"],Ua={align:"center","background-color":"#414141",border:"none","border-bottom":"","border-left":"","border-radius":"3px","border-right":"","border-top":"",color:"#ffffff","container-background-color":"","css-class":"","font-family":"Ubuntu, Helvetica, Arial, sans-serif","font-size":"13px","font-style":"","font-weight":"normal",height:"",href:"","inner-padding":"10px 25px","letter-spacing":"","line-height":"120%",padding:"10px 25px","padding-bottom":"","padding-left":"","padding-right":"","padding-top":"",rel:"",target:"_blank","text-align":"none","text-decoration":"none","text-transform":"none",title:"","vertical-align":"middle",width:""},Ha={align:"center","background-color":"#414141",border:"none","border-radius":"3px",color:"#ffffff","font-family":"Ubuntu, Helvetica, Arial, sans-serif","font-size":"13px","font-weight":"normal","inner-padding":"10px 25px","line-height":"120%",padding:"10px 25px",target:"_blank","text-align":"none","text-decoration":"none","text-transform":"none","vertical-align":"middle"},Fa=function(){var e=Re(),t=e.mjmlJson,n=e.setMjmlJson,a={tagName:"mj-button",attributes:Object(I.a)(Object(I.a)({},Ha),{},{"css-class":"mjml-tag identifier-mj-button"}),children:[],content:"button",mutableProperties:qa,mutalbePropertiesWithDefaultValues:Ua};return Object(x.jsx)("div",{onDragEnd:function(e){var a=de(t);n(Object(I.a)({},a))},onDragStart:function(e){ie(e,a)},draggable:!0,children:Object(x.jsx)(Ra,{background:"button",label:"Button"})})},Wa=["color","font-family","font-size","font-style","font-weight","line-height","letter-spacing","height","text-decoration","text-transform","align","container-background-color","padding","padding-top","padding-bottom","padding-left","padding-right","css-class"],Ya={color:"#000000","font-family":"Ubuntu, Helvetica, Arial, sans-serif","font-size":"13px","font-style":"","font-weight":"","line-height":"1","letter-spacing":"none",height:"","text-decoration":"","text-transform":"",align:"left","container-background-color":"",padding:"10px 25px","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","css-class":""},Xa={color:"#000000","font-size":"13px","line-height":"1","letter-spacing":"none",align:"center",padding:"10px 25px"},Va=function(){var e=Re(),t=e.mjmlJson,n=e.setMjmlJson,a={tagName:"mj-text",attributes:Object(I.a)(Object(I.a)({},Xa),{},{align:"left","padding-left":"0px","padding-right":"0px","css-class":"mjml-tag identifier-mj-text"}),content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque quis dolor auctor.",mutableProperties:Wa,mutalbePropertiesWithDefaultValues:Ya};return Object(x.jsx)("div",{onDragEnd:function(e){var a=de(t);n(Object(I.a)({},a))},onDragStart:function(e){ie(e,a)},draggable:!0,children:Object(x.jsx)(Ra,{background:"text",label:"Text"})})},Ga=(n(2098),["align","alt","border","border-top","border-bottom","border-left","border-right","border-radius","container-background-color","css-class","fluid-on-mobile","height","href","name","padding","padding-bottom","padding-left","padding-right","padding-top","rel","sizes","src","srcset","target","title","usemap","width"]),Ka={align:"center",alt:"",border:"none","border-top":"none","border-bottom":"none","border-left":"none","border-right":"none","border-radius":"","container-background-color":"","css-class":"","fluid-on-mobile":"",height:"auto",href:"",name:"",padding:"10px 25px","padding-bottom":"","padding-left":"","padding-right":"","padding-top":"",rel:"",sizes:"",src:"",srcset:"",target:"_blank",title:"",usemap:"",width:"100%"},Qa={align:"center",border:"none","border-top":"none","border-bottom":"none","border-left":"none","border-right":"none",height:"auto",padding:"10px 25px",target:"_blank",width:"100%"},Za=function(){var e=Re(),t=e.mjmlJson,n=e.setMjmlJson,a={tagName:"mj-image",attributes:Object(I.a)(Object(I.a)({},Qa),{},{"css-class":"mjml-tag identifier-mj-image",width:"auto",padding:"0px 8px",src:"https://dev.bluepie.in/dnde.png"}),children:[],mutableProperties:Ga,mutalbePropertiesWithDefaultValues:Ka};return Object(x.jsx)("div",{onDragEnd:function(e){var a=de(t);n(Object(I.a)({},a))},onDragStart:function(e){ie(e,a)},draggable:!0,children:Object(x.jsx)(Ra,{background:"image",label:"Image"})})},$a=["container-background-color","css-class","height","padding","padding-bottom","padding-left","padding-right","padding-top"],er={"container-background-color":"","css-class":"",height:"20px",padding:"none","padding-bottom":"","padding-left":"","padding-right":"","padding-top":""},tr={height:"20px",padding:"none"},nr=function(){var e=Re(),t=e.mjmlJson,n=e.setMjmlJson,a={tagName:"mj-spacer",attributes:Object(I.a)(Object(I.a)({},tr),{},{"css-class":"mjml-tag identifier-mj-spacer"}),children:[],mutableProperties:$a,mutalbePropertiesWithDefaultValues:er};return Object(x.jsx)("div",{onDragEnd:function(e){var a=de(t);n(Object(I.a)({},a))},onDragStart:function(e){ie(e,a)},draggable:!0,children:Object(x.jsx)(Ra,{background:"spacer",label:"Spacer"})})},ar=function(){var e=Re(),t=e.mjmlJson,n=e.setMjmlJson,a={tagName:"mj-text",attributes:{"css-class":"mjml-tag identifier-mj-html html-block",padding:"0px"},mutableProperties:["font-family"],content:'\n    <table border="1" style="width:100%; border-collapse:collapse">\n    <tr style="font-weight:bold">\n      <td>S. No</td> \n      <td>Items</td>\n      <td>Quantity</td>\n      <td align="center">Price</td>\n    </tr>\n    <tr>\n      <td>1</td>\n      <td>egg</td>\n      <td>24</td>\n      <td align="center">$10.00</td>\n    </tr>\n    <tr>\n      <td>2</td>\n      <td>milk</td>\n      <td>5</td>\n      <td align="center">$8</td>\n    </tr>\n    <tr>\n      <td>3</td>\n      <td>curd</td>\n      <td>8</td>\n      <td align="center">$8</td>\n    </tr>\n    </table>\n    '};return Object(x.jsx)("div",{onDragEnd:function(e){var a=de(t);n(Object(I.a)({},a))},onDragStart:function(e){ie(e,a)},draggable:!0,children:Object(x.jsx)(Ra,{background:"html",label:" Html"})})},rr=["border-color","border-style","border-width","container-background-color","css-class","padding","padding-bottom","padding-left","padding-right","padding-top","width","align"],ir={"border-color":"#000000","border-style":"solid","border-width":"4px","container-background-color":"","css-class":"",padding:"10px 25px","padding-bottom":"","padding-left":"","padding-right":"","padding-top":"",width:"100%",align:"center"},or={"border-color":"#000000","border-style":"solid","border-width":"4px",padding:"10px 25px",width:"100%",align:"center"},cr=function(){var e=Re(),t=e.mjmlJson,n=e.setMjmlJson,a={tagName:"mj-divider",attributes:Object(I.a)(Object(I.a)({},or),{},{padding:"0px","css-class":"mjml-tag identifier-mj-divider"}),children:[],mutableProperties:rr,mutalbePropertiesWithDefaultValues:ir};return Object(x.jsx)("div",{onDragEnd:function(e){var a=de(t);n(Object(I.a)({},a))},onDragStart:function(e){ie(e,a)},draggable:!0,children:Object(x.jsx)(Ra,{background:"divider",label:"Divider"})})},sr=["align","border-radius","color","css-class","container-background-color","font-family","font-size","font-style","font-weight","icon-height","icon-size","inner-padding","line-height","mode","padding","padding-bottom","padding-left","padding-right","padding-top","icon-padding","text-padding","text-decoration"],lr={tagName:"mj-social-element",attributes:{"css-class":"mjml-tag identifier-mj-social-element"},mutableProperties:["align","alt","background-color","border-radius","color","css-class","font-family","font-size","font-style","font-weight","href","icon-height","icon-size","line-height","name","padding","padding-bottom","padding-left","padding-right","padding-top","icon-padding","text-padding","sizes","src","srcset","rel","target","title","text-decoration","vertical-align"]},dr=function(){var e={tagName:"mj-social",attributes:{"css-class":"mjml-tag identifier-mj-social"},children:[Object(I.a)(Object(I.a)({},lr),{},{attributes:Object(I.a)(Object(I.a)({},lr.attributes),{},{name:"facebook-noshare",href:"https://github.com/aghontpi",src:"https://dev.bluepie.in/assets/facebook.png"})}),Object(I.a)(Object(I.a)({},lr),{},{attributes:Object(I.a)(Object(I.a)({},lr.attributes),{},{name:"twitter-noshare",href:"https://twitter.com/aghontpi",src:"https://dev.bluepie.in/assets/twitter.png"})}),Object(I.a)(Object(I.a)({},lr),{},{attributes:Object(I.a)(Object(I.a)({},lr.attributes),{},{name:"youtube-noshare",href:"https://github.com/aghontpi",src:"https://dev.bluepie.in/assets/youtube.png"})}),Object(I.a)(Object(I.a)({},lr),{},{attributes:Object(I.a)(Object(I.a)({},lr.attributes),{},{name:"github",href:"https://github.com/aghontpi",src:"https://dev.bluepie.in/assets/github.png"})})],mutableProperties:sr};return Object(x.jsx)("div",{onDragStart:function(t){ie(t,e)},draggable:!0,children:Object(x.jsx)(Ra,{background:"social",label:"Social"})})},ur=function(){var e=Object(I.a)(Object(I.a)({},se),{},{children:[ce]}),t=G().drag.setIsColumn;return Object(x.jsx)("div",{onDragStart:function(n){t(!0),ie(n,e)},draggable:!0,children:Object(x.jsx)(Ra,{background:"section",label:"Section"})})},br=(Ia.a.Panel,function(){return Object(x.jsx)(z.a,{style:{height:"100%"},autoHide:!0,children:Object(x.jsxs)("div",{className:Fe.a.components,children:[Object(x.jsx)(ur,{}),Object(x.jsx)(Fa,{}),Object(x.jsx)(Va,{}),Object(x.jsx)(Za,{}),Object(x.jsx)(nr,{}),Object(x.jsx)(cr,{}),Object(x.jsx)(ar,{}),Object(x.jsx)(dr,{})]})})}),pr=n(2160),jr=n(2162),fr=function(e){q.b.success(e)},hr=(n(2099),n(2169)),gr=(n(2150),Object(g.a)(U.a).attrs({title:"Preview"})(De||(De=Object(f.a)(["\n  .ant-modal {\n    max-width: unset !important;\n    margin: unset !important;\n  }\n  .ant-modal-centered::before {\n    content: unset !important;\n  }\n  .ant-modal-content {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n  .ant-modal-body {\n    margin: 0px auto;\n  }\n"])))),mr=g.a.div(Ee||(Ee=Object(f.a)(["\n  position: absolute;\n  bottom: 24px;\n  left: 24px;\n"]))),vr=function(e){var t=e.visible,n=e.visibleChange,a=e.inframeContent,r=Object(o.useState)("desktop"),i=Object(_.a)(r,2),c=i[0],s=i[1];return Object(x.jsxs)(gr,{visible:t,onCancel:function(){return n(!1)},onOk:function(){return n(!1)},width:"unset",style:{top:"0px",maxWidth:"unset",paddingBottom:"0px",height:"100%"},bodyStyle:{height:"100%"},maskStyle:{height:"100%"},destroyOnClose:!0,footer:null,children:[Object(x.jsx)(mr,{children:Object(x.jsx)(xr,{onChange:function(e){e.target.value&&s(e.target.value)},value:c})}),a?Object(x.jsx)("iframe",{title:"Preview",style:{margin:"0px auto"},width:"desktop"===c?"800px":"323px",height:"100%",srcDoc:a}):null]})},xr=function(e){var t=e.onChange,n=e.value;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(hr.a.Group,{onChange:t,value:n,options:[{label:"desktop",value:"desktop"},{label:"mobile",value:"mobile"}],buttonStyle:"solid",optionType:"button"})})},Or=(n(329),pr.a.Content),yr=(U.a.confirm,function(){var e=Re().mjmlJson,t=Object(o.useState)(!1),n=Object(_.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)(!1),c=Object(_.a)(i,2),s=c[0],l=c[1];Object(o.useEffect)((function(){he.reset()}),[]),Object(o.useEffect)((function(){he.undo.length>1||he.redo.length>1?l(!0):l(!1)}),[he.undo,he.redo]);return Object(x.jsxs)(D.a,{style:{height:"100%",width:"100%"},justify:"center",children:[Object(x.jsx)(j.a,{when:s,message:function(){return"Are you sure you want to leave, your changes will be lost"}}),Object(x.jsx)(E.a,{lg:24,xl:0,children:Object(x.jsx)("div",{style:{textAlign:"center",padding:"40px",paddingTop:"10%"},children:Object(x.jsxs)("h3",{children:["Sorry, You need a device with a larger screen to perform editing, atleast '",">","=1200px'"]})})}),Object(x.jsxs)(E.a,{xs:0,xl:24,children:[Object(x.jsx)(vr,{visible:a,visibleChange:function(e){return r(e)},inframeContent:a?Ue()(e).html:""}),Object(x.jsxs)(pr.a,{style:{height:"100%"},children:[Object(x.jsx)(jr.a,{ghost:!1,onBack:function(){return window.history.back()},title:"dnde",subTitle:"",style:{borderBottom:"1px solid #e8e8e8"},extra:[Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(h.a,{onClick:function(){return r(!0)},children:"Preview"},"3"),Object(x.jsx)(h.a,{onClick:function(t){t.preventDefault();var n=Ue()(e).html;navigator.clipboard.writeText(n),Q("html",n),fr("Copied to clipboard & logged in devtools ")},children:"Copy as html"},"2"),Object(x.jsx)(h.a,{onClick:function(t){t.preventDefault();var n=JSON.stringify(ue(B.a.cloneDeep(e)));navigator.clipboard.writeText(n),Q("json",n),fr("Copied to Clipboard & logged in devtools ")},children:"Copy as json"},"1")]})]}),Object(x.jsx)(Or,{children:Object(x.jsxs)("div",{className:Fe.a.editor,children:[Object(x.jsx)("div",{className:Fe.a.bank,children:Object(x.jsx)(br,{})}),Object(x.jsx)("div",{className:Fe.a.view,children:Object(x.jsx)(Jn,{})}),Object(x.jsxs)("div",{className:Fe.a.attributes,style:{position:"relative"},children:[Object(x.jsx)(_a,{}),Object(x.jsx)(Ta,{})]})]})})]})]})]})}),kr=function(){return Object(x.jsx)(Le,{children:Object(x.jsx)(Xe,{children:Object(x.jsx)(mn,{children:Object(x.jsx)(V,{children:Object(x.jsx)(W,{children:Object(x.jsx)(_e,{children:Object(x.jsx)(yr,{})})})})})})})},wr=function(){return Object(x.jsxs)(j.e,{children:[Object(x.jsx)(j.c,{exact:!0,path:["","/list"],component:T}),Object(x.jsx)(j.c,{path:"/template/:templateId",component:kr}),Object(x.jsx)(j.c,{path:"*",children:Object(x.jsx)(j.b,{to:"/"})})]})},Cr=(n(2151),n(2152),n(2153),n(137)),Sr=n(19),Nr=Object(Sr.d)({name:"templates",initialState:{templates:[{id:24234234,preview:"https://picsum.photos/320/550"},{id:4535345,preview:"https://picsum.photos/320/400"},{id:976824,preview:"https://picsum.photos/320/600"}]},reducers:{}}).reducer,Ar=n(54),Dr=Object(Sr.a)({reducer:(Je={},Object(Cr.a)(Je,S.reducerPath,S.reducer),Object(Cr.a)(Je,"templateList",Nr),Je),middleware:function(e){return e().concat(S.middleware)}}),Er=function(e){var t=e.children;return Object(x.jsx)(Ar.a,{store:Dr,children:t})};var Jr=function(){return Object(x.jsx)(Er,{children:Object(x.jsx)(p.a,{getUserConfirmation:function(){var e=Object(b.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){U.a.confirm({title:t,onOk:function(){return e(!0)},onCancel:function(){return e(!1)}})}));case 2:a=e.sent,n(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:Object(x.jsx)("div",{className:"my-app",children:Object(x.jsx)(wr,{})})})})},Pr=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,2183)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))};l.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(Jr,{})}),document.getElementById("root")),Pr()},341:function(e,t,n){},347:function(e,t,n){},550:function(e,t,n){},551:function(e,t,n){},66:function(e,t,n){e.exports={layout:"Editor_layout__2Y-AK",editor:"Editor_editor__qGS4j",bank:"Editor_bank__3JqEw",attributes:"Editor_attributes__32n0a",components:"Editor_components__38eSg",mods:"Editor_mods__3ZWIb",columns:"Editor_columns__1Yrk0",iconsContainer:"Editor_iconsContainer__KxyJq",view:"Editor_view__eaZst",viewHolder:"Editor_viewHolder__3pzWy",title:"Editor_title__24LyS"}}},[[2154,1,2]]]);
//# sourceMappingURL=main.bc1724cf.chunk.js.map