{"version":3,"sources":["Components/UiWrapper.module.scss","Pages/Editor/Preview.module.css","Assets/Images/new_template.svg","Pages/List/Preview.tsx","Api/api.ts","Pages/List/List.tsx","Context/DragAndDrop.context.tsx","Hooks/Drag.hook.ts","Context/Ckeditor.context.tsx","Hooks/Ckeditor.hook.ts","Utils/findElementInMjmlJson.ts","Utils/logger.ts","Utils/closestParent.ts","Utils/dragStart.ts","Components/Section.tsx","Lib/base64.js","Utils/mjmlProcessor.ts","Utils/undoRedo.ts","Components/Mods/CustomInlineEditor.tsx","Context/Editor.context.tsx","Components/Mods/HeadStyle.ts","Components/Mods/FontConfig.ts","Context/Htmlwrapper.context.tsx","Hooks/Htmlwrapper.hook.ts","Hooks/Editor.hook.ts","Context/CustomEditor.context.tsx","Hooks/CustomEditor.hook.ts","Utils/detectEmptyBody.ts","Utils/findElementsParent.ts","Utils/eventElementRelation.ts","Utils/generateDropItemPlaceholder.ts","Utils/typeoftag.ts","Utils/reorderSections.ts","Utils/inlineEditorActions.ts","Components/ColorPicker.tsx","Components/Mods/Background.tsx","Components/Mods/WidthHeight.tsx","Components/Mods/Title.tsx","Components/Mods/AddCustomFonts.tsx","Components/BodyAttributes.tsx","Hooks/Attribute.hook.ts","Hooks/useFonts.ts","Components/Mods/Link.tsx","Components/MoveUpDownRow.tsx","Components/HtmlWrapper.tsx","Utils/setToolbarPositions.ts","Utils/reactPropertyNames.ts","Utils/wrapWithOutline.tsx","Utils/htmlProcessor.tsx","Utils/removePlaceholders.ts","Utils/operations.ts","Utils/findTextNode.ts","Context/Quill.context.tsx","Hooks/Quill.hook.ts","Components/Mods/Editor.tsx","Components/UndoRedo.tsx","Pages/Editor/View.tsx","Components/Mods/Align.tsx","Components/Mods/Border.tsx","Components/Mods/BorderRadius.tsx","Components/Mods/ContainerBackground.tsx","Components/Mods/Content.tsx","Components/Mods/CordinalBorder.tsx","Components/Mods/FontSize.tsx","Components/Mods/Img.tsx","Components/Mods/InnerPadding.tsx","Components/Mods/Paddings.tsx","Components/ColumnSelector.tsx","Components/Mods/FontFamily.tsx","Components/Mods/VerticalAlign.tsx","Components/Mods/BackgroundImage.tsx","Components/ColumnAttributes.tsx","Components/Mods/LineHeight.tsx","Pages/Editor/Attributes.tsx","Components/UiWrapper.tsx","Components/Button.tsx","Components/Text.tsx","Components/Image.tsx","Components/Spacer.tsx","Components/Html.tsx","Components/Divider.tsx","Components/Social.tsx","Components/SectionV2.tsx","Pages/Editor/ComponentBank.tsx","Components/Messages.tsx","Utils/sendMail.ts","Pages/Editor/Preview.tsx","Pages/Editor/Editor.tsx","Pages/Editor/index.tsx","Pages/index.ts","Pages/index.route.tsx","Store/list.ts","Store/store.tsx","App.tsx","reportWebVitals.ts","index.tsx","Pages/Editor/Editor.module.scss"],"names":["module","exports","PreviewContainer","styled","div","NewItem","history","useHistory","path","useRouteMatch","className","PlusOutlined","style","fontSize","onClick","push","size","type","src","newTemplate","alt","Preview","image","id","skeleton","height","minWidth","maxWidth","padding","DndeApi","createApi","baseQuery","fetchBaseQuery","baseUrl","process","endpoints","builder","getTemplates","query","getTemplate","useGetTemplatesQuery","useLazyGetTemplateQuery","List","data","isLoading","isSuccess","isError","autoHide","align","justify","span","textAlign","paddingTop","md","lg","target","href","GithubFilled","position","top","gutter","map","item","key","xs","active","response","docRef","preview","def","mutableAttributes","DragAndCropContext","createContext","DNDContext","props","ref","useRef","Provider","value","genId","current","children","useDragAndDropUniqueId","useContext","getId","CkeditorContext","Ckeditor","editorRef","ckeditorInstance","useState","editorActive","setActive","x","setX","y","setY","delActive","setDelActive","delX","setDelX","delY","setDelY","copyActive","setCopyActive","copyX","setCopyX","copyY","setCopyY","isColumn","setIsColumn","isActive","drag","copy","useCkeditor","findElementInJson","mjmljson","classidentifier","undefined","element","attributes","classNames","includes","i","length","child","res","logger","console","log","error","info","findClosestParent","closest","uniqueClassName","findUniqueIdentifier","classList","classlist","identifier","findUniqueIdentifierFromString","split","generateUniqueIdRecursively","uidGenerator","attr","css_class","uid","updatedClassNames","classNamesArr","regexMatch","trim","match","replace","replaceGeneicTagWithUniqueId","findIndexOfIdentifierInChildren","uniqueIdentifier","dragStart","e","config","dataTransfer","effectAllowed","draggingItem","setDragImage","setData","JSON","stringify","columnPlaceholder","tagName","width","content","COLUMN","mutableProperties","SECTION","cannot_have","Base64","Row","_keyStr","encode","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","output","_utf8_encode","charCodeAt","isNaN","this","charAt","decode","indexOf","String","fromCharCode","_utf8_decode","string","utftext","n","c","c2","c3","cleanMjmlJson","mjmlJson","ignore","cssClass","isIgnoring","newChildren","result","exportJson","css","newCss","join","_","replaceContent","importJson","idGenerator","rawContent","regeneratedIdJson","consolidatedHeaders","exisitngHeaders","pageHeaers","cloneDeep","PageHeaderItems","UNDOREDO","undo","redo","action","isEqual","peekUndo","storeToLocalStorage","itemToApply","pop","undoAction","redoAction","peek","localStorage","setItem","window","UNDOREO","r","EditorContext","name","font","initialState","LOADING_KEY","EDContext","templateId","useParams","setMjmlJson","trigger","useEffect","a","restoreFromLocalStorage","then","isRestored","newAction","message","loading","duration","processedJson","parse","destroy","setAttributes","HtmlContext","HtmlContextProvider","memo","uiWrapperList","setUIWrapperList","activeHover","setActiveHover","setId","uiList","useHtmlWrapper","useEditor","CustomEditorContext","status","CustomEditorProvider","useCustomEditorPosition","useCustomEditorStatus","detectEmptyElement","nodeWithReactProperties","detect","detectElement","recursivelyFindParent","node","parentClassPartial","parent","parentElement","findSectionOfElement","isEventWithTargetElement","event","pos","getBoundingClientRect","eventX","clientX","eventY","clientY","within","left","right","bottom","generateDropItemPlaceholder","columnElement","currentTarget","nearestTag","nearestElement","suggestionDirection","middle","floor","closeToTopOrBottom","slice","lastIndexOf","parentObj","get","newOrder","childItem","placeItemPlaceHolder","updated","set","uniqueColumnIdentifier","cleaned","typeoftag","regExMatch","regex","moveSectionUp","directon","parentItem","parentPath","indexOfItem","childSection","nextChild","update_parent","InlineEditorActions","extras","preventDefault","stopPropagation","document","execCommand","ColorPicker","handleChange","mouseDown","color","setColor","ColorPickerContainer","onMouseDown","disableAlpha","onChange","hexCode","hex","decimalToHex","rgb","g","b","handleColorChange","alpha","Math","round","toString","Background","activePath","label","attribute","overrideAttribute","useVisibility","customPath","visible","flex","Item","json","Col","ATTRIBUTE","Width","setValue","getValue","useValue","onKeyDown","ATTRIBUTE_HEIGHT","Height","Title","index","itemIndex","titleConfig","addonBefore","onBlur","update","AddCustomFonts","fonts","setFonts","addFontActive","setAddFontActive","head","_fonts","filter","lenght","justifyContent","paddingBottom","display","rowGap","flexWrap","title","closable","onClose","fontName","filteredfonts","handleRemove","placement","addCustomFontClick","popOverCallBacK","FontInputContainer","GetFontsValue","setFontName","fontUrl","setFontUrl","marginLeft","BODY_PATH","BodyContainer","BodyAttributes","titleIndex","setTitleIndex","setCssIndex","headConfig","property","setVisible","setPath","pathToElement","useFonts","updateFonts","_value","fontList","sortedFontList","sort","uniq","mailFont","toUpdate","Link","setValueInState","userValue","url","addHttps","restoreSelection","restoreSel","getSelection","temp","removeAllRanges","addRange","InlineEditor","activeElement","fontlist","toolbar","querySelectorAll","forEach","addEventListener","ResetEventBehaviour","removeEventListener","editor","Event","stateChangeCallback","onKeyUp","getRangeAt","add","setAttribute","border","zIndex","backgroundColor","transition","dropdownStyle","defaultValue","Array","from","keys","Option","onFocus","overlayClassName","destroyTooltipOnHide","icon","FontColorsOutlined","BgColorsOutlined","BoldOutlined","ItalicOutlined","UnderlineOutlined","setLinkCallback","LinkItem","link","setLink","linkRef","gap","placeholder","LinkOutlined","closestParent","find","itemJson","updateToSend","html","innerHTML","MoveUpDown","idRef","upActive","setUpActive","downActive","setDownActive","lastItem","flexDirection","disabled","VerticalAlignTopOutlined","moveSectionDown","VerticalAlignBottomOutlined","HtmlWrapper","uniqueKey","originalNode","customEditorSetX","customEditorSetY","setCustomEditorStatus","uniqueId","useMemo","mjmlTarget","delete","numberOfIcons","setToolBars","draggable","outline","outlineClick","memoFind","useCallback","tag","ItemName","createElement","background","moveUpDown","nodeName","onDragOver","debounce","nativeEvent","cleanedMjmlJson","columnObj","sectionPath","parentSection","columnChildrenNewOrder","childColumn","genereateDropItemPlaceholderForColumn","onMouseOver","onDragStart","dropEffect","mode","cursor","possibleStandardNames","accept","acceptcharset","accesskey","allowfullscreen","as","async","autocapitalize","autocomplete","autocorrect","autofocus","autoplay","autosave","capture","cellpadding","cellspacing","challenge","charset","checked","cite","class","classid","classname","cols","colspan","contenteditable","contextmenu","controls","controlslist","coords","crossorigin","dangerouslysetinnerhtml","datetime","default","defaultchecked","defaultvalue","defer","dir","disablepictureinpicture","disableremoteplayback","download","enctype","enterkeyhint","for","form","formmethod","formaction","formenctype","formnovalidate","formtarget","frameborder","headers","hidden","high","hreflang","htmlfor","httpequiv","innerhtml","inputmode","integrity","is","itemid","itemprop","itemref","itemscope","itemtype","keyparams","keytype","kind","lang","list","loop","low","manifest","marginwidth","marginheight","max","maxlength","media","mediagroup","method","min","minlength","multiple","muted","nomodule","nonce","novalidate","open","optimum","pattern","playsinline","poster","preload","profile","radiogroup","readonly","referrerpolicy","rel","required","reversed","role","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","sizes","spellcheck","srcdoc","srclang","srcset","start","step","summary","tabindex","usemap","wmode","wrap","about","accentheight","accumulate","additive","alignmentbaseline","allowreorder","alphabetic","amplitude","arabicform","ascent","attributename","attributetype","autoreverse","azimuth","basefrequency","baselineshift","baseprofile","bbox","begin","bias","by","calcmode","capheight","clip","clippath","clippathunits","cliprule","colorinterpolation","colorinterpolationfilters","colorprofile","colorrendering","contentscripttype","contentstyletype","cx","cy","d","datatype","decelerate","descent","diffuseconstant","direction","divisor","dominantbaseline","dur","dx","dy","edgemode","elevation","enablebackground","end","exponent","externalresourcesrequired","fill","fillopacity","fillrule","filterres","filterunits","floodopacity","floodcolor","focusable","fontfamily","fontsize","fontsizeadjust","fontstretch","fontstyle","fontvariant","fontweight","format","fx","fy","g1","g2","glyphname","glyphorientationhorizontal","glyphorientationvertical","glyphref","gradienttransform","gradientunits","hanging","horizadvx","horizoriginx","ideographic","imagerendering","in2","in","inlist","intercept","k1","k2","k3","k4","k","kernelmatrix","kernelunitlength","kerning","keypoints","keysplines","keytimes","lengthadjust","letterspacing","lightingcolor","limitingconeangle","local","markerend","markerheight","markermid","markerstart","markerunits","markerwidth","mask","maskcontentunits","maskunits","mathematical","numoctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlineposition","overlinethickness","paintorder","panose1","pathlength","patterncontentunits","patterntransform","patternunits","pointerevents","points","pointsatx","pointsaty","pointsatz","prefix","preservealpha","preserveaspectratio","primitiveunits","radius","refx","refy","renderingintent","repeatcount","repeatdur","requiredextensions","requiredfeatures","resource","restart","results","rotate","rx","ry","scale","security","seed","shaperendering","slope","spacing","specularconstant","specularexponent","speed","spreadmethod","startoffset","stddeviation","stemh","stemv","stitchtiles","stopcolor","stopopacity","strikethroughposition","strikethroughthickness","stroke","strokedasharray","strokedashoffset","strokelinecap","strokelinejoin","strokemiterlimit","strokewidth","strokeopacity","suppresscontenteditablewarning","suppresshydrationwarning","surfacescale","systemlanguage","tablevalues","targetx","targety","textanchor","textdecoration","textlength","textrendering","to","transform","typeof","u1","u2","underlineposition","underlinethickness","unicode","unicodebidi","unicoderange","unitsperem","unselectable","valphabetic","values","vectoreffect","version","vertadvy","vertoriginx","vertoriginy","vhanging","videographic","viewbox","viewtarget","visibility","vmathematical","vocab","widths","wordspacing","writingmode","x1","x2","xchannelselector","xheight","xlinkactuate","xlinkarcrole","xlinkhref","xlinkrole","xlinkshow","xlinktitle","xlinktype","xmlbase","xmllang","xmlns","xmlnsxlink","xmlspace","y1","y2","ychannelselector","z","zoomandpan","WrapWithOutline","domParser","DOMParser","converter","toLowerCase","el","React","httpEquiv","dangerouslySetInnerHTML","__html","reactName","toCamelCase","convertStyleStringToObject","original","childNodes","textContent","replaceAll","contains","nodeType","styleObject","styleArray","stylePair","str","$1","toUpperCase","removePlaceholderBanner","Remove","ucn","movement","ObjectEquivalent","last","indexToRemove","parseInt","Copy","parentUniqueIdentifier","next_parent","getIndexOfElementInParent","copyOfConfig","droppedConfig","parentUniqueClassIdentifier","droppedConfigWithUid","splice","AddAtIndex","findTextNode","textNode","closestDivToTextNode","parentNode","QuillContext","QuillEditor","QuillActive","setQuillActive","quillEditor","setQuillEditor","quillX","setQuillX","quillY","setQuillY","useQuillEditor","Editor","useUniqueIdGenerator","on","change","container","firstChild","off","hasAttribute","remove","lquill","Quill","theme","modules","getModule","clone","cloneNode","replaceChild","attach","scroll","domNode","deleteConfirm","CopyOperation","Delete","okText","cancelText","onConfirm","UndoRedo","undoCallback","redoCallback","mouseEnterDelay","isUndoEmpty","UndoOutlined","isRedoEmpty","RedoOutlined","DesignContainer","View","print","viewHolder","onDrop","getData","msg","itemToInsert","insertAtPlaceholderIndicatorPosition","Add","MjmlProcessor","mjml","doc","parseFromString","htmlProcessor","mjml2html","alignOptions","prop","component","Align","Border","attributeName","attribute_name","BorderRadius","RegExp","exec","matchedValue","ContainerBackground","clicked","PROPERTY","Content","isReadOnly","setIsReadOnly","htmlBlock","setHtmlBlock","TextArea","readOnly","CordinalBorder","valuel","valuer","valueb","valuet","Group","marginBottom","FontSize","Img","InnerPadding","UpdateValue","Padding","setPadding","vertical","horizontal","borderRadius","borderRight","ColumnSelector","setCustomEditorActive","sectionIdentifier","setSectionIdentifier","section","handleClick","changeTo","existingLength","convertLength","preProcessedColumn","updatedItem","click","one","marginTop","two","three","four","Image","flexGrow","SectionTitle","SectionImage","Select","FontFamily","fontvalue","VerticalAlign","URL","SIZE","REPEAT","BackgroundImage","setUrl","setSize","repeat","setRepeat","urlVisibility","urlPath","sizeVisibility","sizePath","repeatVisiblity","repeatPath","TabPane","Tabs","CustomTabs","ColumnAttributes","columns","setActiveColumns","uniqueSectionIdentifier","_columns","centered","tabBarGutter","defaultActiveKey","destroyInactiveTabPane","column","tab","LineHeight","IncrementDecrementInput","SetValue","changeValue","addonAfter","Input","increment","existingValue","toSearch","valueIncrementNumber","valueToSet","Attributes","tabPosition","OnlyAttributesDrawer","isDisabled","setIsDisabled","init","setInit","destroyOnClose","getContainer","maskClosable","bodyStyle","mods","UiWrapper","wrapper","properties","properties_with_default_values","assigned_default_values","Button","mutalbePropertiesWithDefaultValues","onDragEnd","Text","Spacer","Html","Divider","social_properties","social_element_config","Social","SectionV2","ComponentBank","Collapse","Panel","components","success","require","FullscreenModal","Modal","attrs","PreviewMode","visibleChange","inframeContent","setMode","onCancel","onOk","maskStyle","footer","margin","srcDoc","ModeSelect","options","buttonStyle","optionType","Layout","confirm","setPreview","isBlockingRoute","setIsBlockingRoute","reset","when","xl","flag","ghost","onBack","back","subTitle","borderBottom","extra","navigator","clipboard","writeText","to_copy","bank","view","wrapContext","Routing","exact","templateListReducer","createSlice","templates","reducers","reducer","store","configureStore","reducerPath","middleware","getDefaultMiddleware","concat","StoreProvider","App","getUserConfirmation","callback","Promise","resolve","userConfirm","Pages","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bc1724cf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UiWrapper_wrapper__23xNH\",\"container\":\"UiWrapper_container__2hsjd\",\"button\":\"UiWrapper_button__25Pv1\",\"text\":\"UiWrapper_text__3oy98\",\"image\":\"UiWrapper_image__3F-94\",\"html\":\"UiWrapper_html__12ygP\",\"spacer\":\"UiWrapper_spacer__1yYqc\",\"divider\":\"UiWrapper_divider__B19qo\",\"social\":\"UiWrapper_social__3MvUF\",\"section\":\"UiWrapper_section__2ovUo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ant-modal\":\"Preview_ant-modal__3_7T8\",\"andt-modal-centered\":\"Preview_andt-modal-centered__3GZwp\"};","export default __webpack_public_path__ + \"static/media/new_template.3bcc1262.svg\";","import { Button } from 'antd';\nimport styled from 'styled-components';\nimport { PlusOutlined } from '@ant-design/icons';\nimport newTemplate from '../../Assets/Images/new_template.svg';\nimport { useHistory, useLocation, useRouteMatch } from 'react-router';\nimport { ReactNode } from 'react';\n\ninterface PreviewProps {\n  image?: string;\n  skeleton?: ReactNode;\n  id: string;\n}\n\nconst PreviewContainer = styled.div`\n  flex: 1 1 0%;\n  border: 0.4px solid rgb(225, 230, 242);\n  filter: drop-shadow(rgba(0, 0, 0, 0.08) 4px 4px 4px);\n  max-height: 500px;\n  min-height: 150px;\n  height: min-content;\n  max-width: 280px;\n  overflow: hidden;\n  border-radius: 4px;\n  margin-bottom: 25px;\n  transition: all 0.2s ease 0s;\n  position: relative;\n  text-align: center;\n  margin: 0 auto;\n\n  .hoverItem {\n    display: none;\n    position: absolute;\n    inset: 0px;\n    background: rgba(255, 255, 255, 0.9);\n    padding: 20px;\n    flex-direction: column;\n    .content {\n      display: flex;\n      flex: 1;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n    }\n  }\n\n  .hoverItem.alwaysActive {\n    display: flex;\n    background: unset;\n  }\n\n  &:hover {\n    box-shadow: rgb(0 0 0 / 15%) 0px 5px 20px;\n    .hoverItem {\n      display: flex;\n    }\n  }\n\n  img,\n  .newTemplate {\n    max-width: 280px;\n  }\n  .newTemplate {\n    max-height: 500px;\n    min-height: 250px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-bottom: 60px;\n  }\n\n  .btn-choose {\n    padding: 8px 16px;\n    text-transform: capitalize;\n  }\n`;\n\nexport const NewItem = () => {\n  const history = useHistory();\n  const { path } = useRouteMatch();\n  const onClick = () => {\n    history.push(`${path}/template/new`);\n  };\n\n  return (\n    <PreviewContainer>\n      <div className=\"newTemplate\">\n        <PlusOutlined style={{ fontSize: '40px' }} />\n      </div>\n      <div className=\"hoverItem alwaysActive\">\n        <div className=\"content\">\n          <Button onClick={onClick} size=\"large\" type=\"primary\" className=\"btn-choose\">\n            New Template\n          </Button>\n        </div>\n      </div>\n      <div>\n        <img src={newTemplate} alt=\"img new template\" />\n      </div>\n    </PreviewContainer>\n  );\n};\n\nconst Preview = ({ image, id, skeleton }: PreviewProps) => {\n  const history = useHistory();\n  const { path } = useRouteMatch();\n  const onClick = () => {\n    history.push(`${path}/template/${id}`);\n  };\n  return (\n    <PreviewContainer>\n      {skeleton ? (\n        <div style={{ height: '350px', minWidth: '280px', maxWidth: '280px', padding: '24px 24px' }}>{skeleton}</div>\n      ) : (\n        <img height=\"350px\" src={image} alt=\"preview\" />\n      )}\n      <div className=\"hoverItem\">\n        <div className=\"content\">\n          <Button onClick={onClick} size=\"large\" type=\"primary\" className=\"btn-choose\">\n            choose\n          </Button>\n        </div>\n      </div>\n    </PreviewContainer>\n  );\n};\nexport { Preview };\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\nexport interface ListTemplateResponse {\n  response: ListTemplateInfo[];\n}\n\nexport interface ListTemplateInfo {\n  preview: string;\n  docRef: string;\n  id: number;\n}\n\nexport interface getTemplateRequest {\n  id: string;\n}\n\nexport interface getTemplateResponse {\n  response: Response;\n}\nexport interface Response {\n  date: string;\n  docRef: string;\n  data: string;\n}\n\nexport const DndeApi = createApi({\n  baseQuery: fetchBaseQuery({ baseUrl: process.env.REACT_APP_API }),\n  endpoints: (builder) => ({\n    getTemplates: builder.query<ListTemplateResponse, void>({\n      query: () => `templates/`,\n    }),\n    getTemplate: builder.query<getTemplateResponse, getTemplateRequest>({\n      query: ({ id }) => `templates/${id}`,\n    }),\n  }),\n});\n\nexport const { useGetTemplatesQuery, useLazyGetTemplateQuery } = DndeApi;\n","import { NewItem, Preview } from './Preview';\nimport './List.scss';\nimport { useGetTemplatesQuery } from '../../Api/api';\nimport { Col, Row, Skeleton } from 'antd';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport { GithubFilled } from '@ant-design/icons';\n\nconst List = () => {\n  const { data, isLoading, isError, isSuccess } = useGetTemplatesQuery();\n\n  return (\n    <Scrollbars autoHide={true} style={{ height: '100%' }}>\n      <div className=\"template\">\n        <Row align=\"middle\" justify=\"center\" className=\"header\">\n          <Col span={24}>\n            <Row align=\"middle\" justify=\"center\">\n              <Col>\n                <span className=\"title\">Dnde</span>\n              </Col>\n            </Row>\n          </Col>\n          <Col span={24}>\n            <Row align=\"middle\" justify=\"center\">\n              <Col style={{ textAlign: 'center' }}>\n                <span className=\"subtitle\">\n                  Drag and Drop Editor tailored for <b>Mails</b>\n                </span>\n              </Col>\n            </Row>\n          </Col>\n          <Col style={{ paddingTop: '24px' }} span={24}>\n            <Row align=\"middle\" justify=\"center\">\n              <Col className=\"info\" md={24} lg={10} style={{ textAlign: 'center' }}>\n                <span>\n                  All features are optimised for mails, work flexibly through import/export, with responsive design for\n                  all devices.\n                </span>\n                <br />\n\n                <a target=\"_blank\" href=\"https://github.com/aghontpi/dnde\">\n                  <span>\n                    Check it on Github <GithubFilled style={{ position: 'relative', top: '4px', fontSize: '32px' }} />\n                  </span>\n                </a>\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n\n        <Row className=\"choose-template\" align=\"middle\" gutter={[0, 8]} justify=\"center\">\n          <Col span={16}>\n            <span className=\"title\">Choose a template and get started.</span>\n          </Col>\n          <Col span={16}>\n            <span className=\"subtitle\">All templates are redesigned in dnde, using original mail as reference.</span>\n          </Col>\n        </Row>\n\n        <Row justify=\"center\" className=\"template-list\" gutter={[0, 40]}>\n          <Col lg={6}>\n            <NewItem />\n          </Col>\n          {isLoading &&\n            [1, 2].map((item, key) => {\n              return (\n                <Col xs={24} md={12} lg={6} style={{ textAlign: 'center' }}>\n                  <Preview\n                    key={key}\n                    id={'8x93dummy'}\n                    skeleton={\n                      <>\n                        <Skeleton active={true} />\n                        <Skeleton active={true} />\n                      </>\n                    }\n                  />\n                </Col>\n              );\n            })}\n          {isSuccess && data\n            ? data.response.map((item, key) => {\n                return (\n                  <Col lg={6}>\n                    <Preview key={key} id={item.docRef} image={item.preview} />\n                  </Col>\n                );\n              })\n            : null}\n        </Row>\n      </div>\n    </Scrollbars>\n  );\n};\n\nexport { List };\n","import { createContext, FC, useEffect, useMemo, useRef } from 'react';\n\nconst def = {\n  mutableAttributes: {},\n  id: '',\n  type: '',\n};\n\nexport const DragAndCropContext = createContext<any>(def);\n\nexport const DNDContext: FC = (props) => {\n  const ref = useRef(1);\n\n  const genId = () => {\n    if (ref.current && typeof ref.current === 'number') {\n      return ++ref.current;\n    }\n  };\n\n  return <DragAndCropContext.Provider value={{ genId }}>{props.children}</DragAndCropContext.Provider>;\n};\n","import { useContext } from 'react';\nimport { DragAndCropContext } from '../Context/DragAndDrop.context';\n\nconst useDragAndDropUniqueId = () => {\n  const { genId } = useContext(DragAndCropContext);\n  return {\n    getId: () => genId(),\n  };\n};\n\nexport { useDragAndDropUniqueId, useDragAndDropUniqueId as useUniqueIdGenerator };\n","import { createContext, FC, useRef, useState } from 'react';\n\nexport const CkeditorContext = createContext<any>(null);\n\nexport const Ckeditor: FC = (props) => {\n  const editorRef = useRef(null);\n  const ckeditorInstance = useRef(null);\n  const [editorActive, setActive] = useState(false);\n  const [x, setX] = useState(0);\n  const [y, setY] = useState(0);\n  const [delActive, setDelActive] = useState(false);\n  const [delX, setDelX] = useState(0);\n  const [delY, setDelY] = useState(0);\n  const [copyActive, setCopyActive] = useState(false);\n  const [copyX, setCopyX] = useState(0);\n  const [copyY, setCopyY] = useState(0);\n  const [isColumn, setIsColumn] = useState(false);\n\n  // should only be one instance, only manipulate the locations\n  return (\n    <CkeditorContext.Provider\n      value={{\n        ref: editorRef,\n        isActive: editorActive,\n        setActive,\n        x,\n        y,\n        setX,\n        setY,\n        delX,\n        delY,\n        setDelX,\n        setDelY,\n        drag: {\n          isColumn,\n          setIsColumn,\n        },\n        copy: {\n          copyActive,\n          setCopyActive,\n          copyX,\n          setCopyX,\n          copyY,\n          setCopyY,\n        },\n        delActive,\n        setDelActive,\n        ckeditorInstance,\n      }}\n    >\n      {props.children}\n    </CkeditorContext.Provider>\n  );\n};\n","import { useContext } from 'react';\nimport { CkeditorContext } from '../Context/Ckeditor.context';\n\nexport const useCkeditor = () => {\n  const Ckeditor = useContext(CkeditorContext);\n  return Ckeditor as unknown as {\n    ref: any;\n    isActive: boolean;\n    setActive: (arg: boolean) => void;\n    x: number;\n    y: number;\n    setX: (arg: number) => void;\n    setY: (arg: number) => void;\n    delX: number;\n    delY: number;\n    setDelX: (arg: number) => void;\n    setDelY: (arg: number) => void;\n    delActive: boolean;\n    setDelActive: (arg: boolean) => void;\n    ckeditorInstance: any;\n    drag: {\n      isColumn: boolean;\n      setIsColumn: (arg: boolean) => void;\n    };\n    copy: {\n      copyActive: boolean;\n      setCopyActive: (arg: boolean) => void;\n      copyX: number;\n      copyY: number;\n      setCopyX: (arg: number) => void;\n      setCopyY: (arg: number) => void;\n    };\n  };\n};\n","export const findElementInJson = (mjmljson: any, classidentifier: any, path = ''): any => {\n  if (mjmljson === undefined) {\n    return null;\n  }\n  const element = mjmljson;\n  if (element.attributes && element.attributes['css-class']) {\n    const classNames: string = element.attributes['css-class'];\n    if (classNames.includes(classidentifier)) {\n      return [element, path];\n    }\n  }\n  if (element.children) {\n    for (var i = 0; i < element.children.length; i++) {\n      const child = element.children[i];\n      const res = findElementInJson(child, classidentifier, path + `.children[${i}]`);\n      if (res) {\n        return res;\n      }\n    }\n  }\n\n  return null;\n};\n","const logger = {\n  log: (...args: any) => {\n    console.log(...args);\n  },\n  error: (...args: any) => {\n    console.error(...args);\n  },\n  info: (...args: any) => {\n    console.info(...args);\n  },\n};\n\nexport { logger };\n","import { findElementInJson } from './findElementInMjmlJson';\nimport { findColumnOfElement } from './findElementsParent';\nimport { logger } from './logger';\n\nconst findClosestParent = (element: HTMLElement) => {\n  const closest = element.closest('.mjml-tag');\n  let uniqueClassName = null;\n\n  if (!closest) {\n    logger.info('unable to find closest');\n    return uniqueClassName;\n  }\n\n  uniqueClassName = findUniqueIdentifier(closest, closest.classList);\n\n  if (!uniqueClassName) {\n    logger.info('unable to find identifier');\n  }\n\n  return uniqueClassName;\n};\n\nconst findUniqueIdentifier = (element: Element, classlist: DOMTokenList, identifier = 'identifier-mj') => {\n  let uniqueClassName = null;\n  for (var i = 0; classlist && i < classlist.length; i++) {\n    const current = classlist[i];\n    if (current.includes(identifier)) {\n      uniqueClassName = current;\n      break;\n    }\n  }\n  return uniqueClassName;\n};\n\nconst findUniqueIdentifierFromString = (classList: string) => {\n  return findUniqueIdentifier(null as unknown as Element, classList.split(' ') as unknown as DOMTokenList);\n};\n\nconst replaceGeneicTagWithUniqueId = (classNames: string, uid: string) => {\n  let updatedClassNames = '';\n  if (typeof classNames !== 'string') {\n    logger.log(`classNames should be string while generating uniqueIdentifier, but found ${typeof classNames} instead`);\n    return null;\n  }\n  let classNamesArr = classNames.split(' ');\n  for (var i = 0; i < classNamesArr.length; i++) {\n    let current = classNamesArr[i];\n    if (current.includes('identifier-mj')) {\n      current = current.trim();\n\n      // checking if the element has already uniqueId,\n      //   if it has, instead of appending uid to tag, need to replace it.\n      const regexMatch = current.match(/-(\\d+)/); // regex match number after '-'\n      const log = current;\n      if (regexMatch) {\n        current = current.replace(regexMatch[0], `-${uid}`);\n      } else {\n        current = ` ${current}-${uid}`;\n      }\n      logger.log(`generating-tag: ${log} -> ${current} `);\n    }\n    updatedClassNames += ` ${current}`;\n  }\n  return updatedClassNames;\n};\n\n// section with different columns are stored in config without unqiueId's,\n//   replacing those with unqiueIds (only for mj-columns).\nconst generateUniqueIdRecursively = (item: any, uidGenerator: () => string): any => {\n  if (!item) {\n    return;\n  }\n\n  for (var i = 0; item['children'] && i < item['children'].length; i++) {\n    item['children'][i] = generateUniqueIdRecursively(item['children'][i], uidGenerator);\n  }\n\n  let attr = item['attributes'];\n  if (attr) {\n    let css_class = attr['css-class'];\n    css_class = replaceGeneicTagWithUniqueId(css_class, uidGenerator());\n    attr['css-class'] = css_class;\n  }\n\n  item['attributes'] = attr;\n\n  return item;\n};\n\nconst findIndexOfIdentifierInChildren = (children: [any], uniqueIdentifier: string) => {\n  for (var i = 0; uniqueIdentifier && children && children.length > 0 && i < children.length; i++) {\n    const child = children[i];\n    if (child && child['attributes'] && child['attributes']['css-class'].includes(uniqueIdentifier)) {\n      return i;\n    }\n  }\n  return -1;\n};\n\nconst getIndexOfElementInParent = (node: HTMLElement, mjmlJson: any, uniqueIdentifier: string) => {\n  let index = -1;\n  let parent = node.closest('.mjml-tag');\n  // closest can be he same node, so go to parent\n  if (parent === node) {\n    parent = node.parentElement;\n  }\n\n  // element must be outside of column\n  while (index === -1 && parent) {\n    const parentUniqueIdentifier = findUniqueIdentifier(parent, parent.classList);\n    if (parentUniqueIdentifier) {\n      let element = findElementInJson(mjmlJson, parentUniqueIdentifier);\n      if (element) {\n        [element] = element;\n        index = findIndexOfIdentifierInChildren(element.children, uniqueIdentifier);\n        if (index !== -1) {\n          break;\n        }\n      }\n    }\n\n    const next_parent = parent.closest('.mjml-tag');\n    if (next_parent && next_parent === parent) {\n      if (parent.parentElement) {\n        parent = parent.parentElement.closest('.mjml-tag');\n      }\n    } else {\n      parent = next_parent;\n    }\n  }\n\n  const parentIdentifier = parent && parent.classList ? findUniqueIdentifier(parent, parent.classList) : null;\n  return [index, parentIdentifier];\n};\n\nexport {\n  findClosestParent,\n  findUniqueIdentifier,\n  findUniqueIdentifierFromString,\n  replaceGeneicTagWithUniqueId,\n  generateUniqueIdRecursively,\n  getIndexOfElementInParent,\n};\n","const dragStart = (e: DragEvent, config: any) => {\n  if (e && e.dataTransfer) {\n    e.dataTransfer.effectAllowed = 'move';\n    const draggingItem = e.target as HTMLElement;\n    e.dataTransfer.setDragImage(draggingItem, -5, -5);\n    e.dataTransfer.setData('config', JSON.stringify(config));\n  }\n};\n\nexport { dragStart };\n","import { Row } from 'antd';\nimport _, { floor } from 'lodash';\nimport { Fragment, SyntheticEvent } from 'react';\nimport styled from 'styled-components';\nimport { useCkeditor } from '../Hooks/Ckeditor.hook';\nimport { findUniqueIdentifier } from '../Utils/closestParent';\nimport { dragStart } from '../Utils/dragStart';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = ['background-color', 'background-position', 'background-position-x', 'background-position-y', 'background-repeat', 'background-size', 'background-url', 'border', 'border-bottom', 'border-left', 'border-radius', 'border-right', 'border-top', 'css-class', 'direction', 'full-width', 'padding', 'padding-bottom', 'padding-left', 'padding-right', 'padding-top', 'text-align'];\n\n// prettier-ignore\nconst properties_with_default_values = {\"background-color\": \"\", \"background-position\": \"top center\", \"background-position-x\": \"none\", \"background-position-y\": \"none\", \"background-repeat\": \"repeat\", \"background-size\": \"auto\", \"background-url\": \"\", \"border\": \"none\", \"border-bottom\": \"\", \"border-left\": \"\", \"border-radius\": \"\", \"border-right\": \"\", \"border-top\": \"\", \"css-class\": \"\", \"direction\": \"ltr\", \"full-width\": \"\", \"padding\": \"20px 0\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"text-align\": \"center\"};\n\n// prettier-ignore\nconst assigned_default_values  = {\"align\": \"center\", \"background-color\": \"#414141\", \"border\": \"none\", \"border-radius\": \"3px\", \"color\": \"#ffffff\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-weight\": \"normal\", \"inner-padding\": \"10px 25px\", \"line-height\": \"120%\", \"padding\": \"10px 25px\", \"target\": \"_blank\", \"text-align\": \"none\", \"text-decoration\": \"none\", \"text-transform\": \"none\", \"vertical-align\": \"middle\"};\n\n// prettier-ignore\nconst properties_column = [\"background-color\", \"inner-background-color\", \"border\", \"border-bottom\", \"border-left\", \"border-right\", \"border-top\", \"border-radius\", \"inner-border\", \"inner-border-bottom\", \"inner-border-left\", \"inner-border-right\", \"inner-border-top\", \"inner-border-radius\", \"width\", \"vertical-align\", \"padding\", \"padding-top\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"css-class\"]\n\n// prettier-ignore\nconst properties_with_default_values_column = {\"background-color\": \"\", \"inner-background-color\": \"\", \"border\": \"none\", \"border-bottom\": \"\", \"border-left\": \"\", \"border-right\": \"\", \"border-top\": \"\", \"border-radius\": \"\", \"inner-border\": \"\", \"inner-border-bottom\": \"\", \"inner-border-left\": \"\", \"inner-border-right\": \"\", \"inner-border-top\": \"\", \"inner-border-radius\": \"\", \"width\": \"(100 / number of non-raw elements in section)%\", \"vertical-align\": \"top\", \"padding\": \"\", \"padding-top\": \"\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"css-class\": \"\"}\n\n// prettier-ignore\nconst assigned_default_values_column = {\"border\": \"none\", \"width\": \"(100 / number of non-raw elements in section)%\", \"vertical-align\": \"top\"}\n\nexport const columnPlaceholder = [\n  {\n    tagName: 'mj-image',\n    attributes: {\n      src: 'https://dev.bluepie.in/assets/87583817874843.svg',\n      'css-class': 'mj-placeholder',\n      width: '120px',\n    },\n  },\n  {\n    tagName: 'mj-text',\n    attributes: {\n      'padding-top': '0px',\n      'font-size': '16px',\n      align: 'center',\n      'css-class': 'mj-placeholder',\n    },\n    content: 'drag and drop a content block here!',\n  },\n];\n\nexport const COLUMN = {\n  tagName: 'mj-column',\n  attributes: {\n    'css-class': 'mjml-tag identifier-mj-column',\n    padding: '0px 0px',\n  },\n  children: [...columnPlaceholder],\n  mutableProperties: properties_column,\n};\n\nexport const SECTION = {\n  tagName: 'mj-section',\n  attributes: {\n    ...assigned_default_values,\n    'css-class': 'mjml-tag identifier-mj-section',\n    'border-radius': '0px',\n    'background-color': '#fff',\n    'text-align': 'center',\n  },\n  children: [],\n  cannot_have: ['mj-section', 'mj-column'], // 'https://documentation.mjml.io/#mj-column' Columns cannot be nested into columns, and sections cannot be nested into columns as well.\n  mutableProperties: properties,\n};\n\nexport const Section = () => {\n  let config = {\n    ...SECTION,\n  };\n\n  const {\n    drag: { setIsColumn },\n  } = useCkeditor();\n\n  const onDragStart = (e: DragEvent) => {\n    const target = e.target as Element;\n    const identifier = findUniqueIdentifier(target, target.classList, 'mj-columns');\n    if (identifier) {\n      const match = identifier.match(/mj-columns-(.*)/);\n      if (match) {\n        let count = parseInt(match[1]);\n        let children = [];\n        while (count > 0) {\n          children.push(COLUMN);\n          count--;\n        }\n        config = _.set(config, 'children', children);\n      }\n    }\n    dragStart(e as any, config);\n    setIsColumn(true);\n  };\n\n  let dynamicRenderer = [1, 2, 3, 4].map((value, index) => {\n    return (\n      <Fragment key={value}>\n        <SectionTitle key={value + index + 'title'}>\n          <p>{value} Column</p>\n        </SectionTitle>\n        <SectionImage\n          key={value + index + 'section'}\n          className={`mj-columns-${value}`}\n          draggable={true}\n          onDragStart={onDragStart}\n        >\n          <div className={`wrapper`}>\n            <div className=\"border\">\n              <Generator length={value} />\n            </div>\n          </div>\n        </SectionImage>\n      </Fragment>\n    );\n  });\n  return <>{dynamicRenderer}</>;\n};\n\nconst SectionTitle = styled(Row)`\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n  p {\n    text-align: inherit;\n    color: rgb(85, 85, 85);\n    font-size: 14px;\n    font-weight: 600;\n  }\n`;\n\nconst SectionImage = styled(Row)`\n  background-color: rgb(252, 252, 252);\n  border: 1px solid rgb(229, 229, 229);\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: flex;\n  box-shadow: none;\n  cursor: grab;\n\n  &:hover {\n    background-color: rgb(255, 255, 255);\n    box-shadow: rgb(0 0 0 / 20%) 0px 1px 4px;\n    border-color: rgb(255, 255, 255);\n  }\n\n  .wrapper {\n    margin: 10px;\n    background-color: rgb(255, 255, 255);\n    position: relative;\n    width: 100%;\n    display: flex;\n    border-radius: 3px;\n    box-sizing: border-box;\n\n    .border {\n      border: 1px solid rgb(85, 85, 85);\n      border-radius: 3px;\n      display: flex;\n      -webkit-box-align: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n    }\n  }\n`;\n\nconst Generator = ({ length }: { length: number }) => {\n  let content = [];\n  const flexGrow = floor(100 / length);\n\n  for (let i = 0; i < length; i++) {\n    content.push(\n      <div\n        key={i + flexGrow}\n        style={{\n          display: 'flex',\n          flexGrow,\n          height: '16px',\n          borderRight: i === length - 1 ? '' : '1px solid rgb(85, 85, 85)',\n          borderRadius: '0px',\n        }}\n      ></div>\n    );\n  }\n  return <>{content}</>;\n};\n","/**\n *  was unable to handle latin1 characters in the btoa,\n *  thus including this base64 library\n *\n *  Base64 encode / decode\n *  http://www.webtoolkit.info\n *\n **/\nexport const Base64 = {\n  // private property\n  _keyStr: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n\n  // public method for encoding\n  encode: function (input) {\n    var output = '';\n    var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n    var i = 0;\n\n    input = Base64._utf8_encode(input);\n\n    while (i < input.length) {\n      chr1 = input.charCodeAt(i++);\n      chr2 = input.charCodeAt(i++);\n      chr3 = input.charCodeAt(i++);\n\n      enc1 = chr1 >> 2;\n      enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n      enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n      enc4 = chr3 & 63;\n\n      if (isNaN(chr2)) {\n        enc3 = enc4 = 64;\n      } else if (isNaN(chr3)) {\n        enc4 = 64;\n      }\n\n      output =\n        output +\n        this._keyStr.charAt(enc1) +\n        this._keyStr.charAt(enc2) +\n        this._keyStr.charAt(enc3) +\n        this._keyStr.charAt(enc4);\n    } // Whend\n\n    return output;\n  }, // End Function encode\n\n  // public method for decoding\n  decode: function (input) {\n    var output = '';\n    var chr1, chr2, chr3;\n    var enc1, enc2, enc3, enc4;\n    var i = 0;\n\n    input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, '');\n    while (i < input.length) {\n      enc1 = this._keyStr.indexOf(input.charAt(i++));\n      enc2 = this._keyStr.indexOf(input.charAt(i++));\n      enc3 = this._keyStr.indexOf(input.charAt(i++));\n      enc4 = this._keyStr.indexOf(input.charAt(i++));\n\n      chr1 = (enc1 << 2) | (enc2 >> 4);\n      chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n      chr3 = ((enc3 & 3) << 6) | enc4;\n\n      output = output + String.fromCharCode(chr1);\n\n      if (enc3 != 64) {\n        output = output + String.fromCharCode(chr2);\n      }\n\n      if (enc4 != 64) {\n        output = output + String.fromCharCode(chr3);\n      }\n    } // Whend\n\n    output = Base64._utf8_decode(output);\n\n    return output;\n  }, // End Function decode\n\n  // private method for UTF-8 encoding\n  _utf8_encode: function (string) {\n    var utftext = '';\n    string = string.replace(/\\r\\n/g, '\\n');\n\n    for (var n = 0; n < string.length; n++) {\n      var c = string.charCodeAt(n);\n\n      if (c < 128) {\n        utftext += String.fromCharCode(c);\n      } else if (c > 127 && c < 2048) {\n        utftext += String.fromCharCode((c >> 6) | 192);\n        utftext += String.fromCharCode((c & 63) | 128);\n      } else {\n        utftext += String.fromCharCode((c >> 12) | 224);\n        utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n        utftext += String.fromCharCode((c & 63) | 128);\n      }\n    } // Next n\n\n    return utftext;\n  }, // End Function _utf8_encode\n\n  // private method for UTF-8 decoding\n  _utf8_decode: function (utftext) {\n    var string = '';\n    var i = 0;\n    var c, c1, c2, c3;\n    c = c1 = c2 = 0;\n\n    while (i < utftext.length) {\n      c = utftext.charCodeAt(i);\n\n      if (c < 128) {\n        string += String.fromCharCode(c);\n        i++;\n      } else if (c > 191 && c < 224) {\n        c2 = utftext.charCodeAt(i + 1);\n        string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n        i += 2;\n      } else {\n        c2 = utftext.charCodeAt(i + 1);\n        c3 = utftext.charCodeAt(i + 2);\n        string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n        i += 3;\n      }\n    } // Whend\n\n    return string;\n  }, // End Function _utf8_decode\n};\n","import _ from 'lodash';\nimport { columnPlaceholder } from '../Components/Section';\nimport { PageHeaderItems } from '../Context/Editor.context';\nimport { Base64 } from '../Lib/base64';\nimport { generateUniqueIdRecursively } from './closestParent';\nimport { logger } from './logger';\n\nconst cleanMjmlJson = (mjmlJson: any, ignore: string = '') => {\n  if (!mjmlJson) {\n    return null;\n  }\n\n  if (mjmlJson['attributes'] && mjmlJson['attributes']['css-class']) {\n    const cssClass = mjmlJson['attributes']['css-class'];\n    if (cssClass.includes('placeitem-placeholder')) {\n      return null;\n    }\n  }\n\n  // before processing children, if the parent has ignore class, then dont process its children\n  //  the active item being hovered on is passed as ignore, (specifically the column of the active item being hovered)\n  const isIgnoring =\n    ignore &&\n    mjmlJson['attributes'] &&\n    mjmlJson['attributes']['css-class'] &&\n    mjmlJson['attributes']['css-class'].includes(ignore);\n\n  let newChildren: any = [];\n  for (var i = 0; mjmlJson['children'] && i < mjmlJson['children'].length; i++) {\n    const item = mjmlJson['children'][i];\n\n    const result = isIgnoring ? item : cleanMjmlJson(item, ignore);\n    if (result) {\n      newChildren.push(result);\n    }\n  }\n\n  // if the children is column and its length is 0,\n  //  then add a placeholder to the column\n  if (mjmlJson && mjmlJson['tagName'] === 'mj-column' && newChildren.length === 0) {\n    newChildren.push(...columnPlaceholder);\n  }\n\n  if (newChildren.length) {\n    mjmlJson['children'] = newChildren;\n  }\n\n  return mjmlJson;\n};\n\nconst exportJson = (input: any, build: any = {}) => {\n  if (!input) {\n    return;\n  }\n\n  // todo: remove addtional properties too, then write a seperate deserializer to include it back in\n\n  if (input['attributes'] && input['attributes']['css-class']) {\n    let css = input['attributes']['css-class'];\n    css = css.split(' ');\n    let newCss = [];\n    for (var i = 0; i < css.length; i++) {\n      const current: string = css[i];\n      if (\n        current.includes('identifier-mj') ||\n        current.includes('mj-placeholder') ||\n        current.includes('placeitem-placeholder')\n      ) {\n        continue;\n      }\n      newCss.push(current);\n    }\n    if (newCss.length) {\n      css = newCss.join(' ');\n    }\n  }\n\n  if (input['content']) {\n    // input['content'] = input['content'].replace(/\"/g, '\\\\\"');\n    input['content'] = Base64.encode(input['content']);\n  }\n\n  let children: any = [];\n  for (let i = 0; input['children'] && i < input['children'].length; i++) {\n    const child = input['children'][i];\n    const _ = exportJson(child);\n    if (_) {\n      children.push(_);\n    }\n  }\n\n  if (children.length) {\n    input['children'] = children;\n  }\n\n  return input;\n};\n\nfunction replaceContent(input: any) {\n  if (!input) {\n    return;\n  }\n\n  if (input['content']) {\n    input['content'] = Base64.decode(input['content']);\n  }\n\n  let children: any = [];\n  for (let i = 0; input['children'] && i < input['children'].length; i++) {\n    const child = input['children'][i];\n    const _ = replaceContent(child);\n    if (_) {\n      children.push(_);\n    }\n  }\n\n  if (children.length) {\n    input['children'] = children;\n  }\n\n  return input;\n}\n\nconst importJson = (input: any, idGenerator: () => string, rawContent: boolean = false) => {\n  let regeneratedIdJson = generateUniqueIdRecursively(input, idGenerator);\n\n  // if its not raw, content is utf-8 base64 encoded, during export.\n  if (!rawContent) {\n    regeneratedIdJson = replaceContent(regeneratedIdJson);\n  }\n\n  let consolidatedHeaders = [];\n\n  // process existing headers.\n  if (\n    regeneratedIdJson &&\n    regeneratedIdJson.tagName &&\n    regeneratedIdJson.tagName === 'mjml' &&\n    regeneratedIdJson.children &&\n    regeneratedIdJson.children.length > 1\n  ) {\n    const exisitngHeaders = regeneratedIdJson.children[0].children;\n    for (let i = 0; exisitngHeaders && i < exisitngHeaders.length; i++) {\n      const item = exisitngHeaders[i];\n      if (item && (item.tagName.includes('title') || item.tagName.includes('style'))) {\n        consolidatedHeaders.push(item);\n      }\n    }\n\n    let pageHeaers = _.cloneDeep(PageHeaderItems);\n    for (let i = 0; pageHeaers && i < pageHeaers.length; i++) {\n      const item = pageHeaers[i];\n      if (item && (item.tagName.includes('title') || item.tagName.includes('style'))) {\n        continue;\n      }\n      consolidatedHeaders.push(item);\n    }\n\n    regeneratedIdJson.children[0].children = consolidatedHeaders;\n  }\n  logger.log('::import -> processedJson', regeneratedIdJson);\n  return regeneratedIdJson;\n};\n\nexport { cleanMjmlJson, exportJson, importJson };\n","import _ from 'lodash';\nimport { logger } from './logger';\n\nclass UndoRedo {\n  public undo: any[];\n  redo: any[];\n\n  constructor() {\n    this.undo = [];\n    this.redo = [];\n  }\n\n  public newAction(action: any) {\n    if (this.undo.length > 0 && _.isEqual(action, this.peekUndo())) {\n      logger.log('undoredo: prev action and new action are same, not performing action');\n      return;\n    }\n    this.undo.push(this.copy(action));\n    this.redo = [];\n    this.storeToLocalStorage();\n  }\n\n  public undoAction(current: any = false): any {\n    if (this.undo.length < 1) {\n      return false;\n    }\n\n    const itemToApply = this.copy(this.undo.pop());\n    this.redo.push(itemToApply);\n\n    if (current && _.isEqual(itemToApply, current)) {\n      logger.log('undoredo: undo action but view and current are same, proceeding one more step');\n      return this.undoAction(current);\n    }\n\n    return itemToApply;\n  }\n\n  public redoAction(current: any = false): any {\n    if (this.redo.length < 1) {\n      return false;\n    }\n\n    const itemToApply = this.copy(this.redo.pop());\n    this.undo.push(itemToApply);\n    if (current && _.isEqual(itemToApply, current)) {\n      logger.log('undoredo: redo action but view and current are same, proceeding one more step');\n      return this.redoAction(current);\n    }\n    return itemToApply;\n  }\n\n  public peekUndo() {\n    let peek: any | boolean = false;\n    if (this.undo.length > 0) {\n      peek = this.copy(this.undo[this.undo.length - 1]);\n    }\n    return peek;\n  }\n\n  public peekRedo() {\n    let peek: any | boolean = false;\n    if (this.redo.length > 0) {\n      peek = this.redo[this.redo.length - 1];\n    }\n    return peek;\n  }\n\n  public isUndoEmpty() {\n    return this.undo.length === 0;\n  }\n\n  public isRedoEmpty() {\n    return this.redo.length === 0;\n  }\n\n  public reset() {\n    this.undo = [];\n    this.redo = [];\n  }\n\n  public print() {\n    logger.log('undoredo: ', this.undo, this.redo);\n  }\n\n  private storeToLocalStorage() {\n    try {\n      localStorage.setItem('actions', JSON.stringify(this.undo[this.undo.length - 1]));\n    } catch (e) {\n      logger.log('undoredo: error storing to local storage');\n      logger.log('undoredo: it is possible this occured due to storage limit in localStorage,truncating undo');\n    }\n  }\n\n  private copy(item: any) {\n    return _.cloneDeep(item);\n  }\n}\n\nvar UNDOREDO = new UndoRedo();\n\n(window as any).UNDOREO = UNDOREDO;\n\nexport { UNDOREDO };\n","import { Button, Input, Popover, Select } from 'antd';\nimport _ from 'lodash';\nimport { useEffect, useRef, useState } from 'react';\nimport { useCustomEditorPosition, useCustomEditorStatus } from '../../Hooks/CustomEditor.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport {\n  FontColorsOutlined,\n  BoldOutlined,\n  ItalicOutlined,\n  UnderlineOutlined,\n  BgColorsOutlined,\n  LinkOutlined,\n} from '@ant-design/icons';\nimport { InlineEditorActions } from '../../Utils/inlineEditorActions';\nimport { ColorPicker } from '../ColorPicker';\nimport { findClosestParent, findUniqueIdentifier } from '../../Utils/closestParent';\nimport { findElementInJson } from '../../Utils/findElementInMjmlJson';\nimport { useFonts } from '../../Hooks/useFonts';\nimport { logger } from '../../Utils/logger';\nimport { addHttps } from './Link';\n\nlet r: any;\n\nconst restoreSelection = () => {\n  let restoreSel = window.getSelection();\n  if (!restoreSel) {\n    return;\n  }\n  const temp = r;\n  restoreSel?.removeAllRanges();\n  restoreSel?.addRange(r);\n  r = temp;\n};\n\nconst InlineEditor = () => {\n  const ref = useRef<any>(null);\n  const { x, y } = useCustomEditorPosition();\n  const { active } = useCustomEditorStatus();\n  const { active: activeElement }: { active: HTMLDivElement } = useHtmlWrapper();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [fontlist] = useFonts();\n\n  // on mount, override the default behaviour of the antd dropdown select\n  useEffect(() => {\n    if (ref.current) {\n      const toolbar = document.querySelectorAll('#customtoolbar .ant-select-selector');\n      if (toolbar) {\n        toolbar.forEach((item) => {\n          logger.log('attaching click event listener to container');\n          item.addEventListener('click', ResetEventBehaviour);\n        });\n        return () =>\n          toolbar.forEach((item) => {\n            logger.log('removing click event listener to container');\n            item.removeEventListener('click', ResetEventBehaviour);\n          });\n      }\n    }\n  }, [ref]);\n\n  useEffect(() => {\n    if (active && activeElement) {\n      const uniqueIdentifier = findUniqueIdentifier(activeElement, activeElement.classList);\n      if (uniqueIdentifier?.includes('mj-text')) {\n        let editor: any = activeElement.children[0].children[0];\n\n        const Event = (e: any) => {\n          stateChangeCallback(editor, mjmlJson, setMjmlJson);\n          // e.stopPropagation();\n          // e.preventDefault();\n          // e.target.focus();\n          // return false;\n        };\n\n        const onKeyUp = () => {\n          r = window.getSelection()?.getRangeAt(0);\n        };\n\n        editor.addEventListener('focusout', Event, true);\n        editor.addEventListener('keyup', onKeyUp, false);\n        editor.addEventListener('click', onKeyUp, false);\n\n        editor.classList.add('editor-active');\n        editor.setAttribute('contentEditable', 'true');\n        editor.setAttribute('spellcheck', 'false');\n\n        if (r) {\n          // restoreSelection();\n        }\n\n        return () => {\n          logger.log('custom editor: cleaning up dynamic attributes');\n          editor.removeEventListener('focusout', Event, true);\n          editor.removeEventListener('keyup', onKeyUp, false);\n          editor.removeEventListener('click', onKeyUp, false);\n        };\n      }\n    }\n  }, [activeElement, mjmlJson]);\n\n  return (\n    <div\n      style={{\n        display: active ? 'block' : 'none',\n        position: 'fixed',\n        top: `${y}px`,\n        left: `${x}px`,\n        padding: '4px 8px',\n        border: '1px solid black',\n        zIndex: 999,\n        backgroundColor: '#fff',\n        transition: 'all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)',\n      }}\n      id=\"customtoolbar\"\n      ref={ref}\n      onMouseDown={ResetEventBehaviour}\n    >\n      <Select\n        size=\"small\"\n        dropdownStyle={{ minWidth: '18px' }}\n        defaultValue={2}\n        style={{ fontSize: '12px' }}\n        onChange={(value: any) => {\n          InlineEditorActions(null, 'size', value);\n        }}\n      >\n        {Array.from(Array(7).keys()).map((i) => (\n          <Select.Option\n            onMouseDown={ResetEventBehaviour}\n            onFocus={ResetEventBehaviour}\n            style={{ fontSize: '12px' }}\n            value={i + 1}\n          >\n            <span onMouseDown={ResetEventBehaviour} onFocus={ResetEventBehaviour}>\n              {i + 1}\n            </span>\n          </Select.Option>\n        ))}\n      </Select>\n      <Select\n        size=\"small\"\n        defaultValue={'Ubuntu'}\n        dropdownStyle={{ minWidth: '140px' }}\n        style={{ fontSize: '12px' }}\n        onChange={(value: any) => {\n          InlineEditorActions(null, 'fontFamily', value);\n        }}\n        onMouseDown={ResetEventBehaviour}\n      >\n        {fontlist.map((font) => (\n          <Select.Option\n            onMouseDown={ResetEventBehaviour}\n            onFocus={ResetEventBehaviour}\n            style={{ fontSize: '12px' }}\n            value={font}\n          >\n            <span onMouseDown={ResetEventBehaviour} onFocus={ResetEventBehaviour}>\n              {font}\n            </span>\n          </Select.Option>\n        ))}\n      </Select>\n\n      <Popover\n        overlayClassName=\"inline-editor-popover-color-picker\"\n        trigger=\"click\"\n        placement=\"bottom\"\n        content={\n          <ColorPicker\n            handleChange={(color) => {\n              InlineEditorActions(null, 'fontColor', color);\n            }}\n            mouseDown={false}\n          />\n        }\n        destroyTooltipOnHide={true}\n      >\n        <Button icon={<FontColorsOutlined />} style={{ fontSize: '12px' }} size=\"small\"></Button>\n      </Popover>\n      <Popover\n        overlayClassName=\"inline-editor-popover-color-picker\"\n        trigger=\"click\"\n        placement=\"bottom\"\n        content={\n          <ColorPicker\n            handleChange={(color) => {\n              InlineEditorActions(null, 'color', color);\n            }}\n            mouseDown={false}\n          />\n        }\n        destroyTooltipOnHide={true}\n      >\n        <Button icon={<BgColorsOutlined />} style={{ fontSize: '12px' }} size=\"small\"></Button>\n      </Popover>\n      <Button\n        icon={<BoldOutlined />}\n        onClick={(e) => InlineEditorActions(e, 'bold')}\n        style={{ fontSize: '12px' }}\n        size=\"small\"\n      ></Button>\n      <Button\n        icon={<ItalicOutlined />}\n        onClick={(e) => InlineEditorActions(e, 'italics')}\n        style={{ fontSize: '12px' }}\n        size=\"small\"\n      ></Button>\n      <Button\n        icon={<UnderlineOutlined />}\n        onClick={(e) => InlineEditorActions(e, 'underline')}\n        style={{ fontSize: '12px' }}\n        size=\"small\"\n      ></Button>\n      <LinkItem setLinkCallback={(e) => InlineEditorActions(e, 'link')} />\n    </div>\n  );\n};\n\ninterface LinkItemProps {\n  setLinkCallback: (e: any) => void;\n}\n\nconst LinkItem = ({ setLinkCallback }: LinkItemProps) => {\n  const [active, setActive] = useState(false);\n  const [link, setLink] = useState('');\n  const linkRef = useRef<any>(null);\n\n  const onChange = (e: any) => {\n    setLink(e.target.value);\n  };\n\n  const onMouseDown = (e: any) => {\n    restoreSelection();\n  };\n\n  return (\n    <Popover\n      visible={active}\n      content={\n        <div style={{ display: 'flex', gap: '8px' }}>\n          <Input\n            className=\"inline-editor-link\"\n            ref={linkRef}\n            value={link}\n            onMouseDown={onMouseDown}\n            onChange={onChange}\n            placeholder=\"link\"\n          />\n          <Button\n            type=\"default\"\n            onMouseDown={ResetEventBehaviour}\n            onClick={() => {\n              setActive(false);\n              restoreSelection();\n              document.execCommand(\n                'insertHTML',\n                false,\n                '<a href=\"' + addHttps(link) + '\" target=\"_blank\">' + document.getSelection() + '</a>'\n              );\n            }}\n          >\n            create\n          </Button>\n        </div>\n      }\n      trigger=\"click\"\n      placement=\"bottom\"\n    >\n      <Button\n        style={{ fontSize: '12px' }}\n        onClick={(e) => {\n          ResetEventBehaviour(e);\n          setActive(!active);\n          setLink('');\n        }}\n        size=\"small\"\n        icon={<LinkOutlined />}\n      ></Button>\n    </Popover>\n  );\n};\n\nconst stateChangeCallback = (item: any, mjmlJson: any, setMjmlJson: any) => {\n  logger.log(`custom Inline Editor: updating state callback`);\n  const closestParent = findClosestParent(item);\n  if (!closestParent) {\n    return;\n  }\n  const uniqueIdentifier = closestParent;\n  if (uniqueIdentifier?.includes('mj-text')) {\n    const find = findElementInJson(mjmlJson, uniqueIdentifier);\n    if (find) {\n      const [, path] = find;\n      let itemJson = _.get(mjmlJson, path.slice(1));\n      if (itemJson) {\n        let updateToSend = _.cloneDeep(itemJson);\n        logger.log('inline editor: updating', item);\n        const html = item.innerHTML;\n        updateToSend.content = html;\n        const updated = _.set(mjmlJson, path.slice(1), updateToSend);\n        setMjmlJson({ ...updated });\n      }\n    }\n  }\n};\n\nexport const ResetEventBehaviour = (e: any) => {\n  logger.log('::reset', e.target);\n  if (\n    e.target &&\n    e.target.tagName === 'INPUT' &&\n    e.target.className &&\n    e.target.className.includes('inline-editor-link')\n  ) {\n    logger.log('::reset, returning');\n    return;\n  }\n  logger.log('::reset->reset behaviour', e.target);\n  e.preventDefault();\n  e.stopPropagation();\n  return false;\n};\n\nexport { InlineEditor };\n","import { message, Modal } from 'antd';\nimport _ from 'lodash';\nimport { createContext, FC, useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { useLazyGetTemplateQuery } from '../Api/api';\nimport { FONTS_CONFIG } from '../Components/Mods/FontConfig';\nimport { HEADSTYLE } from '../Components/Mods/HeadStyle';\nimport { useDragAndDropUniqueId } from '../Hooks/Drag.hook';\nimport { importJson } from '../Utils/mjmlProcessor';\nimport { UNDOREDO } from '../Utils/undoRedo';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\n\nexport const EditorContext = createContext<any>(null);\n\nexport const PageHeaderItems = [\n  { tagName: 'mj-title', content: 'dnde-editor' },\n  { tagName: 'mj-style', content: HEADSTYLE },\n  { tagName: 'mj-attributes', children: [{ tagName: 'mj-text', attributes: { 'font-family': 'Ubuntu' } }] },\n  ...FONTS_CONFIG.map((font) => {\n    return {\n      tagName: 'mj-font',\n      attributes: {\n        name: font.name,\n        href: font.value,\n      },\n    };\n  }),\n];\n\nconst initialState = {\n  tagName: 'mjml',\n  children: [\n    {\n      tagName: 'mj-head',\n      attributes: {},\n      children: PageHeaderItems,\n    },\n    {\n      tagName: 'mj-body',\n      attributes: { 'css-class': 'mjml-tag identifier-mj-body', 'background-color': 'grey', width: '600px' },\n      children: [],\n      mutableProperties: ['width', 'background-color'],\n    },\n  ],\n  attributes: {},\n};\n\nconst LOADING_KEY = 'loading';\n\nexport const EDContext: FC = (props) => {\n  const { templateId }: { templateId: string | undefined } = useParams();\n  const { getId } = useDragAndDropUniqueId();\n  const [mjmlJson, setMjmlJson] = useState<any>(null);\n  const [trigger, { data, isError, isLoading, isSuccess }] = useLazyGetTemplateQuery();\n\n  useEffect(() => {\n    // if app crashed/ user left while editing, restoring from local\n    // const actions = localStorage.getItem('actions');\n    const actions = false;\n\n    async function restoreFromLocalStorage() {\n      let result = false;\n      if (actions) {\n        result = await modalConfirmLoadLocalState(\n          () => {\n            const parsed = JSON.parse(actions);\n            const processed = importJson(parsed, getId, true);\n            UNDOREDO.newAction(processed);\n            setMjmlJson({ ...processed });\n          },\n          () => {\n            setMjmlJson({ ...initialState });\n            UNDOREDO.newAction(initialState);\n            localStorage.removeItem('actions');\n          }\n        );\n      }\n      return result;\n    }\n\n    restoreFromLocalStorage().then((isRestored) => {\n      if (isRestored) {\n        return;\n      } else {\n        if (templateId === 'new' || typeof templateId === 'undefined') {\n          UNDOREDO.newAction(_.cloneDeep(initialState));\n          setMjmlJson(_.cloneDeep(initialState));\n        } else {\n          if (templateId) {\n            message.loading({ content: 'Fetching Template...', key: LOADING_KEY, duration: 0 });\n            trigger({ id: templateId });\n          }\n        }\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    if (isSuccess && data) {\n      try {\n        const processedJson = importJson(JSON.parse(data.response.data), getId);\n        setMjmlJson(processedJson);\n        UNDOREDO.newAction(_.cloneDeep(processedJson));\n      } catch (e) {\n        message.error('Unable to load template', 3);\n      }\n    } else if (isSuccess && !data) {\n      message.error('Template is empty', 2);\n    }\n    if (isSuccess) {\n      message.destroy(LOADING_KEY);\n    }\n    if (isError) {\n      message.info('Network error, template not fetched.', 2);\n    }\n  }, [isError, isLoading, isSuccess, data]);\n\n  const [attributes, setAttributes] = useState<any>({});\n\n  return (\n    <EditorContext.Provider\n      value={{\n        mjmlJson: mjmlJson,\n        setMjmlJson,\n        attributes,\n        setAttributes,\n      }}\n    >\n      {props.children}\n    </EditorContext.Provider>\n  );\n};\n\nconst modalConfirmLoadLocalState = async (okCallback: () => void, cancelCallback: () => void) => {\n  return new Promise<boolean>((resolve, reject) => {\n    Modal.confirm({\n      title: 'Confirm',\n      icon: <ExclamationCircleOutlined />,\n      content: 'local save found do you want to load it?',\n      okText: 'restore',\n      cancelText: 'cancel',\n      onOk: () => {\n        okCallback();\n        resolve(true);\n      },\n      onCancel: () => {\n        cancelCallback();\n        resolve(false);\n      },\n    });\n  });\n};\n","export const HEADSTYLE = 'a{text-decoration:none!important} .htmlblock {}';\n","export const FONTS_CONFIG = [\n  { name: 'Roboto', value: 'https://fonts.googleapis.com/css2?family=Roboto&display=swap' },\n  { name: 'Festive', value: 'https://fonts.googleapis.com/css2?family=Festive&display=swap' },\n  { name: 'Noto Sans Mono', value: 'https://fonts.googleapis.com/css2?family=Noto+Sans+Mono&display=swap' },\n  { name: 'Open Sans', value: 'https://fonts.googleapis.com/css2?family=Open+Sans&display=swap' },\n  { name: 'Andada Pro', value: 'https://fonts.googleapis.com/css2?family=Andada+Pro&display=swap' },\n  { name: 'Lato', value: 'https://fonts.googleapis.com/css2?family=Lato&display=swap' },\n  { name: 'Scheherazade New', value: 'https://fonts.googleapis.com/css2?family=Scheherazade+New&display=swap' },\n  { name: 'Montserrat', value: 'https://fonts.googleapis.com/css2?family=Montserrat&display=swap' },\n  { name: 'Roboto Condensed', value: 'https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap' },\n  { name: 'Source Sans Pro', value: 'https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap' },\n  { name: 'Poppins', value: 'https://fonts.googleapis.com/css2?family=Poppins&display=swap' },\n  { name: 'Oswald', value: 'https://fonts.googleapis.com/css2?family=Oswald&display=swap' },\n  { name: 'Noto sans', value: 'https://fonts.googleapis.com/css2?family=Noto+sans&display=swap' },\n  { name: 'Georama', value: 'https://fonts.googleapis.com/css2?family=Georama&display=swap' },\n  { name: 'Roboto Mono', value: 'https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap' },\n  { name: 'Raleway', value: 'https://fonts.googleapis.com/css2?family=Raleway&display=swap' },\n  { name: 'Nunito', value: 'https://fonts.googleapis.com/css2?family=Nunito&display=swap' },\n  { name: 'Roboto Slab', value: 'https://fonts.googleapis.com/css2?family=Roboto+Slab&display=swap' },\n  { name: 'PT Sans', value: 'https://fonts.googleapis.com/css2?family=PT+Sans&display=swap' },\n  { name: 'Merriweather', value: 'https://fonts.googleapis.com/css2?family=Merriweather&display=swap' },\n  { name: 'Playfair Display', value: 'https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap' },\n  { name: 'Lora', value: 'https://fonts.googleapis.com/css2?family=Lora&display=swap' },\n  { name: 'Rubix', value: 'https://fonts.googleapis.com/css2?family=Rubix&display=swap' },\n  { name: 'IM Fell English SC', value: 'https://fonts.googleapis.com/css2?family=IM+Fell+English+SC&display=swap' },\n  { name: 'Open Sans Condensed', value: 'https://fonts.googleapis.com/css2?family=Open+Sans+Condensed&display=swap' },\n  { name: 'Inter', value: 'https://fonts.googleapis.com/css2?family=Inter&display=swap' },\n  { name: 'Nunito Sans', value: 'https://fonts.googleapis.com/css2?family=Nunito+Sans&display=swap' },\n  { name: 'Work Sans', value: 'https://fonts.googleapis.com/css2?family=Work+Sans&display=swap' },\n  { name: 'Quicksand', value: 'https://fonts.googleapis.com/css2?family=Quicksand&display=swap' },\n  { name: 'Fira Sans', value: 'https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap' },\n  { name: 'Ubuntu', value: 'https://fonts.googleapis.com/css2?family=Ubuntu&display=swap' },\n];\n","import { createContext, FC, memo, useContext, useEffect, useRef, useState } from 'react';\nimport { logger } from '../Utils/logger';\n\nexport const HtmlContext = createContext<any>(null);\n\nexport const HtmlContextProvider: FC = memo((props) => {\n  const [uiWrapperList, setUIWrapperList] = useState([]);\n\n  const [activeHover, setActiveHover] = useState<any>();\n\n  const [active, setActive] = useState<any>();\n\n  const ref = useRef<any>(1);\n\n  const [id, setId] = useState<any>(1);\n\n  const getId = () => {\n    setId(id + 1);\n    logger.log('getId', id);\n  };\n\n  //todo: fn remove id from the uiWrapperList, if possible upgrade list to map\n\n  return (\n    <HtmlContext.Provider\n      value={{\n        uiList: uiWrapperList,\n        setUIWrapperList,\n        activeHover,\n        setActiveHover,\n        active,\n        setActive,\n        id,\n        setId,\n        getId,\n      }}\n    >\n      <div>{<>{logger.log('uiContextRerendering', ref.current++)} </>}</div>\n      {props.children}\n    </HtmlContext.Provider>\n  );\n});\n","import { useContext } from 'react';\nimport { HtmlContext } from '../Context/Htmlwrapper.context';\n\nexport const useHtmlWrapper = () => {\n  const htmlContext = useContext(HtmlContext);\n  return htmlContext as unknown as {\n    uiList: any[];\n    setUIWrapperList: (prev?: any) => void;\n    activeHover: any;\n    setActiveHover: (id: string) => void;\n    active: any;\n    setActive: (args: any) => void;\n    id: any;\n    setId: (prev?: any) => void;\n    getId: () => number;\n  };\n};\n","import _ from 'lodash';\nimport { useCallback, useContext, useEffect, useState } from 'react';\nimport { EditorContext } from '../Context/Editor.context';\nimport { findUniqueIdentifier } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { logger } from '../Utils/logger';\nimport { useHtmlWrapper } from './Htmlwrapper.hook';\n\nexport const useEditor = () => {\n  const context = useContext(EditorContext);\n  return context as unknown as {\n    mjmlJson: any;\n    setMjmlJson: (v: any) => void;\n    attributes: any;\n    setAttributes: (v: any) => void;\n  };\n};\n\nexport const useEditorUpdater = () => {\n  const { active: activeElement } = useHtmlWrapper();\n  const { setMjmlJson, mjmlJson } = useEditor();\n  const [item, setItem] = useState<any>(null);\n  const [path, setPath] = useState<any>(null);\n\n  useEffect(() => {\n    logger.log('editor value updater: ae->', activeElement);\n    if (activeElement && mjmlJson) {\n      const uniqueIdentifer = findUniqueIdentifier(activeElement as HTMLElement, activeElement.classList);\n      if (uniqueIdentifer) {\n        const find = findElementInJson(mjmlJson, uniqueIdentifer);\n        if (find) {\n          const [, _path] = find;\n          setPath(_path);\n          const _item = _.get(mjmlJson, _path.slice(1));\n          if (_item) {\n            setItem(_item);\n          }\n        } else {\n          logger.log(`editor value updater: unable to find item in json, ${find}, identifier: ${uniqueIdentifer}`);\n        }\n      }\n    }\n  }, [activeElement]);\n\n  const update = useCallback(\n    (updatedValue: any) => {\n      if (path) {\n        const updated = _.set(mjmlJson, path.slice(1), updatedValue);\n        if (updated) {\n          setMjmlJson({ ...updated });\n        }\n      }\n    },\n    [path]\n  );\n\n  return [item, update];\n};\n","import { createContext, FC, useState } from 'react';\n\ntype Set<T> = React.Dispatch<React.SetStateAction<T>>;\n\nexport const CustomEditorContext = createContext<{\n  position: { x: number; y: number; setX: Set<number>; setY: Set<number> };\n  status: { active: boolean; setActive: Set<boolean> };\n}>({ position: { x: 0, y: 0, setX: () => {}, setY: () => {} }, status: { active: false, setActive: () => {} } });\n\nexport const CustomEditorProvider: FC = (props) => {\n  const [x, setX] = useState(0);\n  const [y, setY] = useState(0);\n  const [active, setActive] = useState(false);\n  return (\n    <CustomEditorContext.Provider value={{ position: { x, y, setX, setY }, status: { active, setActive } }}>\n      {props.children}\n    </CustomEditorContext.Provider>\n  );\n};\n","import { useContext } from 'react';\nimport { CustomEditorContext } from '../Context/CustomEditor.context';\n\nconst useCustomEditorPosition = () => {\n  const { position } = useContext(CustomEditorContext);\n  return position;\n};\n\nconst useCustomEditorStatus = () => {\n  const { status } = useContext(CustomEditorContext);\n  return status;\n};\n\nexport { useCustomEditorPosition, useCustomEditorStatus };\n","const detectEmptyElement = (nodeWithReactProperties: any, detect: string) => {\n  return (\n    detectElement(nodeWithReactProperties, detect) &&\n    nodeWithReactProperties.children &&\n    nodeWithReactProperties.children < 1\n  );\n};\n\nconst detectElement = (nodeWithReactProperties: any, detect: string) => {\n  if (!detect) {\n    return false;\n  } else if (detect === 'body') {\n    detect = 'identifier-mj-body';\n  } else if (detect === 'section') {\n    detect = 'identifier-mj-section';\n  } else if (detect === 'column') {\n    detect = 'identifier-mj-column';\n  } else {\n    return false;\n  }\n\n  return (\n    nodeWithReactProperties.props &&\n    nodeWithReactProperties.props['className'] &&\n    typeof nodeWithReactProperties.props['className'] === 'string' &&\n    nodeWithReactProperties.props['className'].includes(detect)\n  );\n};\n\nconst countEmptyChildrenLevels = (nodeWithReactProperties: any, count: number = 0): number => {\n  if (!nodeWithReactProperties) {\n    return count + 0;\n  }\n  let children = null;\n  if (nodeWithReactProperties['children']) {\n    children = nodeWithReactProperties['children'][0];\n  } else if (nodeWithReactProperties['props']['children']) {\n    children = nodeWithReactProperties['props']['children'][0];\n  }\n  if (children) {\n    return countEmptyChildrenLevels(children, count + 1);\n  } else {\n    return count;\n  }\n};\n\nexport { detectElement, detectEmptyElement, countEmptyChildrenLevels };\n","import { findUniqueIdentifier } from './closestParent';\n\nconst recursivelyFindParent = (node: HTMLElement | any, parentClassPartial: string): any => {\n  if (!node) {\n    return null;\n  }\n  let parent = node.closest('.mjml-tag');\n  if (parent && parent.classList) {\n    const uniqueIdentifier = findUniqueIdentifier(parent, parent.classList);\n    if (uniqueIdentifier && uniqueIdentifier.includes(parentClassPartial)) {\n      return [parent, uniqueIdentifier];\n    }\n    parent = parent.parentElement;\n  }\n\n  return recursivelyFindParent(parent, parentClassPartial);\n};\n\nconst findColumnOfElement = (node: HTMLElement | any): any => {\n  return recursivelyFindParent(node, 'mj-column');\n};\n\nconst findSectionOfElement = (node: HTMLElement | any): any => {\n  return recursivelyFindParent(node, 'mj-section');\n};\n\nexport { findColumnOfElement, findSectionOfElement };\n","import { floor } from 'lodash';\n\nconst isEventWithTargetElement = (event: any, target: HTMLElement) => {\n  const pos = target.getBoundingClientRect();\n  const eventX = event.clientX;\n  const eventY = event.clientY;\n\n  let within = pos && eventX && eventY && true;\n\n  if (eventX < pos.left || eventX > pos.right) {\n    within = false;\n  }\n\n  if (eventY < pos.top || eventY > pos.bottom) {\n    within = false;\n  }\n\n  return within;\n};\n\nconst closeToTopOrBottom = (event: any, target: HTMLElement) => {\n  const pos = target.getBoundingClientRect();\n  const eventY = event.clientY;\n\n  if (isEventWithTargetElement(event, target)) {\n    const middle = floor((pos.bottom - pos.top) / 2) + pos.top;\n    if (eventY < middle) {\n      return 'top';\n    } else if (eventY > middle) {\n      return 'bottom';\n    }\n  }\n\n  return false;\n};\n\nexport { isEventWithTargetElement, closeToTopOrBottom };\n","import _ from 'lodash';\nimport { findUniqueIdentifier, findUniqueIdentifierFromString } from './closestParent';\nimport { closeToTopOrBottom, isEventWithTargetElement } from './eventElementRelation';\nimport { findElementInJson } from './findElementInMjmlJson';\nimport { logger } from './logger';\nimport { cleanMjmlJson } from './mjmlProcessor';\n\ninterface generateDropItemPlacehodlerProps {\n  setMjmlJson: any;\n  mjmlJson: any;\n  nearestTag: any;\n  columnElement: any;\n  currentTarget: any;\n  event: any;\n}\n\nconst generateDropItemPlaceholder = ({\n  mjmlJson,\n  setMjmlJson,\n  columnElement,\n  event: e,\n  currentTarget,\n  nearestTag,\n}: generateDropItemPlacehodlerProps) => {\n  if (columnElement && nearestTag) {\n    const nearestElement = currentTarget.closest(`.${nearestTag}`);\n    if (nearestElement && columnElement) {\n      if (isEventWithTargetElement(e, columnElement)) {\n        const suggestionDirection = closeToTopOrBottom(e, nearestElement);\n        if (suggestionDirection) {\n          let item = findElementInJson(_.cloneDeep(mjmlJson), nearestTag);\n          if (item) {\n            const [, path]: [any, string] = item;\n            // omit the last .child.. index, cuz parent is needed\n            const parent = path.slice(1, path.lastIndexOf('.children'));\n            let parentObj = _.get(_.cloneDeep(mjmlJson), parent);\n            let newOrder = [];\n            for (var i = 0; parentObj && parentObj.children && i < parentObj.children.length; i++) {\n              let childItem = parentObj['children'][i];\n              logger.log(childItem);\n              const cssClass = childItem.attributes && childItem['attributes']['css-class'];\n              // if there is existing placeholders, removing them\n              if (cssClass && cssClass.includes('placeitem-placeholder')) {\n                continue;\n              }\n              if (cssClass && cssClass.includes(nearestTag)) {\n                if (suggestionDirection === 'top') {\n                  newOrder.push(placeItemPlaceHolder, childItem);\n                } else if (suggestionDirection === 'bottom') {\n                  newOrder.push(childItem, placeItemPlaceHolder);\n                }\n                continue;\n              }\n              newOrder.push(childItem);\n            }\n\n            if (parentObj && newOrder.length > 0) {\n              // replace with new order\n              parentObj.children = newOrder;\n              const updated = _.set(_.cloneDeep(mjmlJson), parent, parentObj);\n              const uniqueColumnIdentifier = findUniqueIdentifier(\n                columnElement,\n                columnElement.classList,\n                'identifier-mj-column'\n              );\n              if (uniqueColumnIdentifier) {\n                const cleaned = cleanMjmlJson(updated, uniqueColumnIdentifier);\n                if (!_.isEqual(mjmlJson, cleaned)) {\n                  logger.log('::update::', mjmlJson, cleaned);\n                  setMjmlJson({ ...cleaned });\n                } else {\n                  logger.log('::update:: -> but elements are the same, not triggering rerender');\n                }\n              } else {\n                if (!_.isEqual(mjmlJson, updated)) {\n                  logger.log('::update::', mjmlJson, updated);\n                  setMjmlJson({ ...updated });\n                } else {\n                  logger.log('::update:: -> but elements are the same, not triggering rerender');\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\n\nconst genereateDropItemPlaceholderForColumn = ({\n  mjmlJson,\n  setMjmlJson,\n  nearestTag,\n}: Omit<generateDropItemPlacehodlerProps, 'event' | 'columnElement' | 'currentTarget'>) => {\n  if (nearestTag) {\n    let find = findElementInJson(mjmlJson, nearestTag);\n    if (find) {\n      const cleanedMjmlJson = cleanMjmlJson(_.cloneDeep(mjmlJson));\n      logger.log('::beforechange::', mjmlJson, cleanedMjmlJson);\n      const [, path]: [any, string] = find;\n      let columnObj = _.get(_.cloneDeep(cleanedMjmlJson), path.slice(1));\n      let newOrder = [];\n      for (let i = 0; columnObj && columnObj.children && i < columnObj.children.length; i++) {\n        const childItem = columnObj['children'][i];\n        const cssClass = childItem.attributes && childItem['attributes']['css-class'];\n        // if there is existing placeholders, removing them\n        if (cssClass && cssClass.includes('placeitem-placeholder')) {\n          continue;\n        }\n        // remove column empty placeholders\n        if (cssClass && cssClass.includes('mj-placeholder')) {\n          continue;\n        }\n        newOrder.push(childItem);\n      }\n\n      // newOrder will not be zero if the column already has items\n      if (newOrder.length > 0) {\n        // todo: handle generateDropItemPlaceholder inside this fn.\n        //  by getting event and performing calculations.\n        return false;\n      }\n\n      // add the new element\n      newOrder.push(placeItemPlaceHolder);\n\n      let sectionPath = path.slice(1, path.lastIndexOf('.children'));\n      if (columnObj) {\n        //  section can contain multiple,\n        // identify which column is active and replace with new order\n        columnObj.children = newOrder;\n        let parentSection = _.get(_.cloneDeep(cleanedMjmlJson), sectionPath);\n        let columnChildrenNewOrder = [];\n        for (let i = 0; parentSection && parentSection.children && i < parentSection.children.length; i++) {\n          const childColumn = parentSection['children'][i];\n          const cssClass = childColumn.attributes && childColumn['attributes']['css-class'];\n          const uniqueIdentifer = findUniqueIdentifierFromString(cssClass);\n          // nearestTag is the  uniqueId of the column,\n          //   replace the old column with new one\n          if (uniqueIdentifer === nearestTag) {\n            columnChildrenNewOrder.push(columnObj);\n            continue;\n          }\n          columnChildrenNewOrder.push(childColumn);\n        }\n        parentSection.children = columnChildrenNewOrder;\n        const updated = _.set(cleanedMjmlJson, sectionPath, parentSection);\n        if (!_.isEqual(mjmlJson, updated)) {\n          logger.log('::update::', cleanedMjmlJson, updated);\n          setMjmlJson({ ...updated });\n        } else {\n          logger.log('::update:: -> but elements are the same, not triggering rerender');\n        }\n        return true;\n      }\n    }\n  }\n};\n\nexport { generateDropItemPlaceholder, genereateDropItemPlaceholderForColumn };\n\nconst placeItemPlaceHolder = {\n  tagName: 'mj-text',\n  attributes: {\n    align: 'center',\n    'css-class': 'placeitem-placeholder',\n  },\n  content: '<div style=\"padding:24px\">  </div>',\n};\n","const typeoftag = (className: string) => {\n  let regExMatch = 'content';\n  let regex = className.match(/identifier-mj-(.*)/);\n  if (regex) {\n    regExMatch = regex[1];\n    if (regExMatch.includes('social-element')) {\n      regExMatch = regExMatch.replace('social-element', 'icon');\n    }\n\n    if (regExMatch.includes('-')) {\n      regExMatch = regExMatch.split('-')[0];\n    }\n  }\n  return regExMatch;\n};\n\nexport { typeoftag };\n","import _ from 'lodash';\nimport { findUniqueIdentifierFromString } from './closestParent';\nimport { findElementInJson } from './findElementInMjmlJson';\nimport { UNDOREDO } from './undoRedo';\n\nconst moveSectionUp = (className: string, mjmlJson: any, setMjmlJson: any, directon = 'up') => {\n  const uniqueClassName = findUniqueIdentifierFromString(className);\n  if (uniqueClassName) {\n    const child = findElementInJson(mjmlJson, uniqueClassName);\n    const parent = findElementInJson(mjmlJson, 'identifier-mj-body');\n    if (child && parent) {\n      const [parentItem, parentPath] = parent;\n      const [childItem] = child;\n\n      let newOrder = [];\n      let indexOfItem = -1;\n      for (let i = 0; parentItem.children.length > 1 && i < parentItem.children.length; i++) {\n        const childSection = parentItem.children[i];\n        if (childSection && childSection.attributes && childSection.attributes['css-class'].includes(uniqueClassName)) {\n          indexOfItem = i;\n          break;\n        }\n      }\n\n      if (indexOfItem !== -1) {\n        for (let i = 0; parentItem.children.length > 1 && i < parentItem.children.length; i++) {\n          const childSection = parentItem.children[i];\n          if (childSection && directon === 'up') {\n            // moveup -> indexOfItem -1;\n            if (i === indexOfItem - 1) {\n              newOrder.push(childItem);\n              newOrder.push(childSection);\n              i += 1;\n              continue;\n            }\n            newOrder.push(childSection);\n          }\n          if (childSection && directon === 'down') {\n            // movedown\n            if (i === indexOfItem) {\n              const nextChild = parentItem.children[i + 1];\n              newOrder.push(nextChild);\n              newOrder.push(childItem);\n              i += 1;\n              continue;\n            }\n            newOrder.push(childSection);\n          }\n        }\n      }\n      if (newOrder.length > 1) {\n        let update_parent = _.cloneDeep(parentItem);\n        update_parent.children = _.cloneDeep(newOrder);\n        const updated = _.set(mjmlJson, parentPath.slice(1), update_parent);\n        UNDOREDO.newAction(updated);\n        setMjmlJson({ ...updated });\n      }\n    }\n  }\n};\n\nconst moveSectionDown = (uniqueClassName: string, mjmlJson: any, setMjmlJson: any) => {\n  return moveSectionUp(uniqueClassName, mjmlJson, setMjmlJson, 'down');\n};\n\nexport { moveSectionUp, moveSectionDown };\n","import { logger } from './logger';\n\nconst InlineEditorActions = (e: any, type: string, extras = '') => {\n  if (e) {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  logger.log('editor action:', type, extras);\n  switch (type) {\n    case 'bold':\n      document.execCommand('bold');\n      break;\n    case 'underline':\n      document.execCommand('underline');\n      break;\n    case 'italics':\n      document.execCommand('italic');\n      break;\n    case 'size':\n      document.execCommand('fontSize', false, extras);\n      break;\n    case 'color':\n      document.execCommand('backColor', false, extras);\n      break;\n    case 'fontColor':\n      document.execCommand('foreColor', false, extras);\n      break;\n    case 'fontFamily':\n      document.execCommand('fontName', false, extras);\n      break;\n    default:\n      logger.info(`unhandled action ${type}`);\n  }\n  return false;\n};\n\nexport { InlineEditorActions };\n","import styled from 'styled-components';\nimport { ChromePicker } from 'react-color';\nimport { useState } from 'react';\n\ninterface ColorPickerProps {\n  handleChange: (color: string) => void;\n  mouseDown: boolean;\n}\n\nexport const ColorPicker = ({ handleChange, mouseDown }: ColorPickerProps) => {\n  const [color, setColor] = useState(() => '#ccc');\n\n  const handleColorChange = (color: any) => {\n    const hexCode = `${color.hex}${decimalToHex(color.rgb.a)}`;\n    setColor(hexCode);\n    handleChange(`rgba(${color.rgb.r},${color.rgb.g},${color.rgb.b},${color.rgb.a})`);\n  };\n\n  return (\n    <ColorPickerContainer\n      onMouseDown={(e) => {\n        if (!mouseDown) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      }}\n      color={color}\n    >\n      <div className=\"popover\">\n        <ChromePicker disableAlpha={false} color={color} onChange={(color: any) => handleColorChange(color)} />\n      </div>\n    </ColorPickerContainer>\n  );\n};\n\nconst decimalToHex = (alpha: number) => (alpha === 0 ? '00' : Math.round(255 * alpha).toString(16));\n\nconst ColorPickerContainer = styled.div`\n  display: inline-block;\n  .ant-popover-inner-content {\n    padding: 0;\n  }\n`;\n","import _ from 'lodash';\nimport styled from 'styled-components';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Form, Row } from 'antd';\nimport { ChromePicker } from 'react-color';\nimport { useEffect, useState } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { logger } from '../../Utils/logger';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\n\nconst ATTRIBUTE = 'background-color';\ninterface BackgroundProps {\n  activePath?: string;\n  label?: string;\n  overrideAttribute?: string;\n}\n\nexport const Background = ({ activePath, label, overrideAttribute }: BackgroundProps) => {\n  const attribute = overrideAttribute || ATTRIBUTE;\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [active, setActive] = useState(() => false);\n  const [color, setColor] = useState(() => '#ccc');\n  const [visible, path] = useVisibility({ attribute, customPath: activePath });\n\n  useEffect(() => {\n    if (visible && path) {\n      const item = _.get(mjmlJson, path);\n      if (item && item.attributes && item.attributes[attribute]) {\n        setColor(item.attributes[attribute]);\n      }\n    }\n    logger.log('background reloading,', path, visible);\n  }, [path, visible]);\n\n  const handleColorChange = (color: any) => {\n    const hexCode = `${color.hex}${decimalToHex(color.rgb.a)}`;\n    setColor(hexCode);\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      element.attributes[attribute] = hexCode;\n      let json = _.set(mjmlJson, path, element);\n\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <>\n      <Row>\n        <Col flex=\"auto\">\n          <Form.Item label={label ? label : 'Background'}></Form.Item>\n        </Col>\n\n        <ColorPicker color={color} flex=\"none\">\n          <div className=\"swatch\" onClick={() => setActive(true)}>\n            <div className=\"color\"></div>\n          </div>\n          {active ? (\n            <div className=\"popover\">\n              <div className=\"cover\" onClick={() => setActive(false)}></div>\n              <ChromePicker disableAlpha={false} color={color} onChange={(color: any) => handleColorChange(color)} />\n            </div>\n          ) : null}\n        </ColorPicker>\n      </Row>\n    </>\n  ) : null;\n};\n\nconst decimalToHex = (alpha: number) => (alpha === 0 ? '00' : Math.round(255 * alpha).toString(16));\n\nconst ColorPicker = styled(Col)`\n  .color {\n    width: 25px;\n    height: 25px;\n    border-radius: 2px;\n    background: ${(props) => props.color};\n  }\n  .swatch {\n    padding: 5px;\n    background: #fff;\n    border-radius: 1px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .popover {\n    position: absolute;\n    z-index: 2;\n    top: -108px;\n    left: -200px;\n  }\n\n  .cover {\n    position: fixed;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n  }\n`;\n","import _ from 'lodash';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Form, Input } from 'antd';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { useCallback, useEffect, useState } from 'react';\n\nconst ATTRIBUTE = 'width';\n\ninterface WidthHeightProps {\n  activePath?: string;\n}\n\nexport const Width = ({ activePath }: WidthHeightProps) => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE, customPath: activePath });\n\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState<string>('');\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n\n  useEffect(() => {\n    if (visible) {\n      setValue(getValue());\n    }\n  }, [visible]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n    if (e.target.value === '' || e.target.value === '%') {\n      e.target.value = '0';\n    }\n    if (visible && path && e.target.value) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = e.target.value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n  const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n      e.currentTarget.value = '';\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"Width\">\n      <Input onChange={handleChange} value={value} onKeyDown={onKeyDown} />\n    </Form.Item>\n  ) : null;\n};\n\nconst ATTRIBUTE_HEIGHT = 'height';\n\nexport const Height = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE_HEIGHT });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE_HEIGHT });\n  const [value, setValue] = useState('');\n\n  useEffect(() => {\n    if (visible) {\n      setValue(getValue());\n    }\n  }, [visible]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n    if (e.target.value === '' || e.target.value === '%') {\n      e.target.value = '';\n    }\n    if (visible && path && e.target.value) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE_HEIGHT] = e.target.value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n  const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n      e.currentTarget.value = '';\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"Height\">\n      <Input onChange={handleChange} value={value} onKeyDown={onKeyDown} />\n    </Form.Item>\n  ) : null;\n};\n","import { Form, Row, Col, Input } from 'antd';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useEditor } from '../../Hooks/Editor.hook';\n\ninterface TitleProps {\n  itemIndex: number;\n}\n\nconst Title = ({ itemIndex: index }: TitleProps) => {\n  const [value, setValue] = useState();\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  useEffect(() => {\n    if (index !== -1) {\n      const titleConfig = mjmlJson.children[0].children[index];\n      if (titleConfig && titleConfig.content) {\n        setValue(titleConfig.content);\n      }\n    }\n  }, [index]);\n\n  const handleChange = (e: any) => {\n    if (index !== -1) {\n      setValue(e.target.value);\n    }\n  };\n\n  const onBlur = (e: any) => {\n    if (e && index !== -1) {\n      let titleConfig = _.cloneDeep(mjmlJson.children[0].children[index]);\n      if (titleConfig) {\n        titleConfig['content'] = e.target.value;\n        const update = _.set(mjmlJson, `children[0].children[${index}]`, titleConfig);\n        setMjmlJson({ ...update });\n      }\n    }\n  };\n\n  return (\n    <Form.Item>\n      <Row>\n        <Col span={24}>\n          <Input addonBefore=\"title\" value={value} onBlur={onBlur} onChange={handleChange} />\n        </Col>\n      </Row>\n    </Form.Item>\n  );\n};\n\nexport { Title };\n","import { Button, Col, Input, Popover, Row, Tag, Tooltip } from 'antd';\nimport FormItem from 'antd/lib/form/FormItem';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useEditor } from '../../Hooks/Editor.hook';\n\nconst AddCustomFonts = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [fonts, setFonts] = useState([]);\n  const [addFontActive, setAddFontActive] = useState(false);\n\n  useEffect(() => {\n    if (mjmlJson) {\n      const head = mjmlJson.children[0];\n      if (head && head.children) {\n        const _fonts = head.children.filter((item: any) => item && item.tagName && item.tagName.includes('font'));\n        if (_fonts.length > 0 && _fonts.lenght !== fonts.length) {\n          setFonts(_fonts);\n        }\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    if (mjmlJson) {\n      const head = mjmlJson.children[0];\n      if (head && head.children) {\n        const _fonts = head.children.filter((item: any) => item && item.tagName && item.tagName.includes('font'));\n        if (_fonts.length > 0 && _fonts.lenght !== fonts.length) {\n          setFonts(_fonts);\n        }\n      }\n    }\n  }, [mjmlJson]);\n\n  const handleRemove = (fontName: string) => {\n    let head = _.cloneDeep(mjmlJson.children[0]);\n    if (head && head.children) {\n      const filteredfonts = head.children.filter((item: any) => {\n        if (item && item.tagName && item.tagName.includes('font')) {\n          return item.attributes.name !== fontName;\n        }\n        return true;\n      });\n      head.children = filteredfonts;\n      setFonts(filteredfonts);\n      const updated = _.set(mjmlJson, 'children[0]', head);\n      if (updated) {\n        setFonts(head.children.filter((item: any) => item && item.tagName && item.tagName.includes('font')));\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  const handleAddFont = (name: string, href: string) => {\n    if (mjmlJson) {\n      let head = _.cloneDeep(mjmlJson.children[0]);\n      if (head && head.children) {\n        head.children.push({\n          tagName: 'mj-font',\n          attributes: {\n            name,\n            href,\n          },\n        });\n\n        const updated = _.set(mjmlJson, 'children[0]', head);\n        if (updated) {\n          setFonts(head.children.filter((item: any) => item && item.tagName && item.tagName.includes('font')));\n          setMjmlJson({ ...updated });\n        }\n      }\n    }\n  };\n\n  return (\n    <FormItem>\n      <Row>\n        <Col\n          span={24}\n          style={{ justifyContent: 'center', paddingBottom: '24px', display: 'flex', rowGap: '6px', flexWrap: 'wrap' }}\n        >\n          {fonts &&\n            fonts.length > 0 &&\n            fonts.map((font: any, index) =>\n              font.attributes && font.attributes.href && font.attributes.name ? (\n                <Tooltip key={index} title={font.attributes.href}>\n                  <Tag closable onClose={() => handleRemove(font.attributes.name)}>\n                    {font.attributes.name}\n                  </Tag>\n                </Tooltip>\n              ) : null\n            )}\n        </Col>\n        <Col span={24} style={{ textAlign: 'center' }}>\n          <Popover\n            visible={addFontActive}\n            trigger=\"click\"\n            placement=\"bottom\"\n            content={<GetFontsValue addCustomFontClick={handleAddFont} popOverCallBacK={setAddFontActive} />}\n          >\n            <Button onClick={(e) => setAddFontActive(!addFontActive)}>Add custom font</Button>\n          </Popover>\n        </Col>\n      </Row>\n    </FormItem>\n  );\n};\n\nconst FontInputContainer = styled.div`\n  .ant-form-item {\n    margin-bottom: 8px;\n  }\n`;\n\nconst GetFontsValue = ({\n  addCustomFontClick,\n  popOverCallBacK,\n}: {\n  addCustomFontClick: (name: string, href: string) => void;\n  popOverCallBacK: (arg: any) => void;\n}) => {\n  const [fontName, setFontName] = useState('');\n  const [fontUrl, setFontUrl] = useState('');\n  return (\n    <FontInputContainer>\n      <FormItem>\n        <Input addonBefore=\"name\" value={fontName} onChange={(e) => setFontName(e.target.value)} />\n      </FormItem>\n      <FormItem>\n        <Input addonBefore=\"url\" value={fontUrl} onChange={(e) => setFontUrl(e.target.value)} />\n      </FormItem>\n      <FormItem style={{ textAlign: 'center' }}>\n        <Button\n          onClick={() => {\n            popOverCallBacK(false);\n            if (fontName && fontUrl) {\n              addCustomFontClick(fontName, fontUrl);\n            }\n          }}\n        >\n          add\n        </Button>\n\n        <Button\n          style={{ marginLeft: '6px' }}\n          onClick={() => {\n            popOverCallBacK(false);\n          }}\n        >\n          cancel\n        </Button>\n      </FormItem>\n    </FontInputContainer>\n  );\n};\n\nexport { AddCustomFonts };\n","import { Col, Row } from 'antd';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { Background } from './Mods/Background';\nimport { Width } from './Mods/WidthHeight';\nimport { Title as TitleMod } from './Mods/Title';\nimport { UNDOREDO } from '../Utils/undoRedo';\nimport { AddCustomFonts } from './Mods/AddCustomFonts';\n\nexport const BODY_PATH = 'children[1]';\n\nexport const HEAD_PATH = 'children[0]';\n\nconst BodyContainer = styled.div`\n  padding: 16px 0px;\n  .title {\n    font-size: 14px;\n    font-weight: 600;\n  }\n  .props-container {\n    padding: 16px;\n  }\n`;\n\nconst BodyAttributes = () => {\n  const { mjmlJson } = useEditor();\n  const [titleIndex, setTitleIndex] = useState<number>(-1);\n  const [cssIndex, setCssIndex] = useState<number>(-1);\n\n  useEffect(() => {\n    // taking advantage of the fact that head tag always has a static path\n    if (mjmlJson && mjmlJson['children'] && mjmlJson['children'].length > 0) {\n      let headConfig = mjmlJson['children'][0];\n      if (\n        headConfig &&\n        headConfig['tagName'] &&\n        headConfig['tagName'].includes('head') &&\n        headConfig.children &&\n        headConfig.children.length > 0\n      ) {\n        let children = headConfig.children;\n        for (let i = 0; i < children.length; i++) {\n          const child = children[i];\n          if (child && child.tagName && child.tagName.includes('title')) {\n            setTitleIndex(i);\n          } else if (child.tagName.includes('style')) {\n            setCssIndex(i);\n          }\n        }\n      }\n    }\n  }, []);\n\n  return (\n    <BodyContainer\n      onMouseDown={(e) => {\n        UNDOREDO.newAction(mjmlJson);\n      }}\n      onBlur={(e) => {\n        UNDOREDO.newAction(mjmlJson);\n      }}\n    >\n      <Title title=\"Body Properties\" />\n      <div className=\"props-container\">\n        <Width activePath={BODY_PATH} />\n        <Background activePath={BODY_PATH} label=\"Body Background:\" />\n      </div>\n      <Title title=\"Head Properties\" />\n\n      <div className=\"props-container\">\n        <TitleMod itemIndex={titleIndex} />\n      </div>\n\n      <Title title=\"Fonts\" />\n      <div className=\"props-container\">\n        <AddCustomFonts />\n      </div>\n    </BodyContainer>\n  );\n};\n\nconst Title = ({ title }: { title: string }) => {\n  return (\n    <Row justify=\"center\">\n      <Col span={24} style={{ textAlign: 'center' }}>\n        <span className=\"title\">{title}</span>\n      </Col>\n    </Row>\n  );\n};\n\nexport { BodyAttributes };\n","import _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { BODY_PATH } from '../Components/BodyAttributes';\nimport { findUniqueIdentifier } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { useEditor } from './Editor.hook';\nimport { useHtmlWrapper } from './Htmlwrapper.hook';\n\ninterface useVisibilityProps {\n  attribute?: string;\n  property?: string;\n  customPath?: string;\n}\n\nconst useVisibility = ({ attribute, property, customPath }: useVisibilityProps): [boolean | null, string, any] => {\n  const [visible, setVisible] = useState<boolean | null>(false);\n\n  const { active } = useHtmlWrapper();\n\n  const [path, setPath] = useState('');\n\n  const { mjmlJson } = useEditor();\n\n  useEffect(() => {\n    // if its body, no need to tranverse, as soon as the state'mjmlJson' is available,\n    //   it can be show to the ui\n    // possible optimization: body properties are being on every active item click.\n    //  write seperate Mods for body ex: instead of using common width, create width uniquely for body\n    if (mjmlJson && customPath && customPath === BODY_PATH) {\n      setVisible(true);\n      setPath(BODY_PATH);\n      return;\n    }\n\n    if (active) {\n      const uniqueIdentifier = findUniqueIdentifier(active, active.classList);\n      if (uniqueIdentifier) {\n        let path = findElementInJson(mjmlJson, uniqueIdentifier);\n\n        if (customPath) {\n          path = [null, '.' + customPath];\n        }\n\n        if (path) {\n          const [, pathToElement] = path;\n          if (pathToElement.length > 0) {\n            setPath(pathToElement.slice(1));\n          }\n          if (attribute) {\n            const item = _.get(mjmlJson, pathToElement.slice(1));\n            if (item && item.mutableProperties && item.mutableProperties.includes(attribute)) {\n              setVisible(true);\n              return;\n            }\n          } else if (property) {\n            const item = _.get(mjmlJson, pathToElement.slice(1));\n            if (item && item[property]) {\n              setVisible(true);\n              return;\n            }\n          }\n        }\n      }\n    }\n    setVisible(false);\n    setPath('');\n  }, [active]);\n\n  return [visible, path, active];\n};\n\ninterface useValueProps {\n  path: string;\n  visible: boolean | null;\n  attribute: string;\n}\n\nconst useValue = ({ path, visible, attribute }: useValueProps) => {\n  const { mjmlJson } = useEditor();\n  // todo: optimize this\n  const getValue = () => {\n    let value = '';\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      if (element && element.attributes) {\n        value = element.attributes[attribute];\n      }\n    }\n    return value;\n  };\n\n  return { getValue };\n};\n\nexport { useVisibility, useValue };\n","import _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useValue, useVisibility } from './Attribute.hook';\nimport { useEditor } from './Editor.hook';\n\nconst ATTRIBUTE = 'font-family';\n\nconst useFonts = (): [string[], string] => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState('');\n  const [fonts, setFonts] = useState<[]>([]);\n\n  useEffect(() => {\n    updateFonts(mjmlJson, fonts, setFonts, setMjmlJson);\n  }, []);\n\n  useEffect(() => {\n    updateFonts(mjmlJson, fonts, setFonts, setMjmlJson);\n  }, [mjmlJson]);\n\n  useEffect(() => {\n    if (visible && mjmlJson) {\n      const _value = getValue();\n      if (_value && _value.indexOf(',')) {\n        const _fonts = _value.split(',')[0];\n        setValue(_fonts);\n      }\n    }\n  }, [mjmlJson]);\n\n  return [fonts, value];\n};\n\nconst updateFonts = (mjmlJson: any, fonts: any, setFonts: (arg: any) => void, setMjmlJson: (arg: any) => void) => {\n  if (mjmlJson) {\n    const head = mjmlJson.children[0];\n    if (head && head.children) {\n      const fontList = head.children.filter((item: any) => item && item.tagName && item.tagName.includes('font'));\n      if (fonts && fontList && fontList.length !== fonts.length) {\n        let sortedFontList = fontList\n          .map((item: any) => item.attributes.name.trim())\n          .sort((a: any, b: any) => (a > b ? 1 : -1));\n        sortedFontList = _.uniq(sortedFontList);\n\n        setFonts(sortedFontList);\n\n        // update the overall fonts in the mail\n        // uitlizing the fact that the path to attributes tag is always the same/static\n        let mailFont = mjmlJson.children[0].children[2];\n        let toUpdate = 'Ubuntu,' + sortedFontList.join(',');\n        // updating attributes tag in head section. the font-family for changing 'font-family' on the fly for text-tag\n        if (\n          mailFont &&\n          mailFont.tagName.includes('attributes') &&\n          mailFont.children &&\n          mailFont.children[0] &&\n          mailFont.children[0].tagName.includes('text') &&\n          mailFont.children[0]['attributes']['font-family'] !== toUpdate\n        ) {\n          mailFont.children[0].attributes['font-family'] = toUpdate;\n          const update = _.set(mjmlJson, 'children[0].children[2]', mailFont);\n          if (update) {\n            setMjmlJson({ ...update });\n          }\n        }\n      }\n    }\n  }\n};\n\nexport { useFonts };\n","import _ from 'lodash';\nimport { ChangeEvent, useEffect, useState } from 'react';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Input, Row } from 'antd';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport FormItem from 'antd/lib/form/FormItem';\n\nconst ATTRIBUTE = 'href';\n\nconst Link = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n  const [value, setValue] = useState('');\n\n  useEffect(() => {\n    if (visible) {\n      setValue(getValue());\n    }\n  }, [visible, path]);\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n    if (path && visible) {\n      setValueInState(e.target.value);\n    }\n  };\n\n  const setValueInState = (userValue: string) => {\n    let json = {};\n    let element = _.get(mjmlJson, path);\n    element.attributes[ATTRIBUTE] = userValue;\n    json = _.set(mjmlJson, path, element);\n    setMjmlJson({ ...json });\n  };\n\n  // if entered url does not contain 'https://' | 'http://' add it on blur event,\n  // after the user finises typing.\n  const onBlur = (e: any) => {\n    if (e && e.target && e.target.value) {\n      const url = addHttps(e.target.value);\n      setValueInState(url);\n      setValue(url);\n    }\n  };\n\n  return visible ? (\n    <FormItem>\n      <Row>\n        <Col span={24}>\n          <Input addonBefore={ATTRIBUTE} onBlur={onBlur} onChange={handleChange} value={value} />\n        </Col>\n      </Row>\n    </FormItem>\n  ) : null;\n};\n\nconst addHttps = (url: string) => {\n  url = url.trim();\n  if (url && !url.includes('https://') && !url.includes('http://')) {\n    url = `https://${url}`;\n  }\n  return url;\n};\n\nexport { Link, addHttps };\n","import { VerticalAlignTopOutlined, VerticalAlignBottomOutlined } from '@ant-design/icons';\nimport { Button } from 'antd';\nimport { useEffect, useState } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { findUniqueIdentifierFromString } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { moveSectionDown, moveSectionUp } from '../Utils/reorderSections';\nimport { ResetEventBehaviour } from './Mods/CustomInlineEditor';\n\ninterface MoveUpDownProps {\n  idRef: any;\n  active: any;\n  className: string;\n}\n\nconst MoveUpDown = ({ className, idRef, active }: MoveUpDownProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [upActive, setUpActive] = useState(true);\n  const [downActive, setDownActive] = useState(true);\n\n  useEffect(() => {\n    if (idRef.current === active) {\n      const uniqueClassName = findUniqueIdentifierFromString(className);\n      if (uniqueClassName) {\n        const child = findElementInJson(mjmlJson, findUniqueIdentifierFromString(className));\n        const parent = findElementInJson(mjmlJson, 'identifier-mj-body');\n        if (child && parent) {\n          const [parentItem] = parent;\n          const [childItem] = child;\n\n          // if section element is the first element\n          if (parentItem && parentItem.children && parentItem.children.length === 1) {\n            setUpActive(false);\n            setDownActive(false);\n            return;\n          } else if (parentItem && parentItem.children && parentItem.children.length > 1) {\n            const lastItem = parentItem.children.length - 1;\n            for (let i = 0; i < parentItem.children.length; i++) {\n              const childSection = parentItem.children[i];\n              if (\n                childSection &&\n                childSection.attributes &&\n                childSection.attributes['css-class'] &&\n                childSection.attributes['css-class'].includes(uniqueClassName)\n              ) {\n                if (i === lastItem) {\n                  setDownActive(false);\n                  setUpActive(true);\n                  break;\n                } else if (i === 0) {\n                  setUpActive(false);\n                  setDownActive(true);\n                  break;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }, [mjmlJson, idRef, active]);\n\n  const MoveUp = (e: any) => {\n    ResetEventBehaviour(e);\n    moveSectionUp(className, mjmlJson, setMjmlJson);\n  };\n\n  const MoveDown = (e: any) => {\n    ResetEventBehaviour(e);\n    moveSectionDown(className, mjmlJson, setMjmlJson);\n  };\n\n  return (\n    <div onMouseDown={ResetEventBehaviour} style={{ display: active === idRef.current ? 'block' : 'none' }}>\n      <div\n        style={{\n          zIndex: 200,\n          position: 'absolute',\n          left: -38,\n          bottom: 0,\n          display: 'flex',\n          flexDirection: 'column',\n          rowGap: '4px',\n        }}\n      >\n        <Button\n          type=\"primary\"\n          disabled={!upActive}\n          onClick={MoveUp}\n          icon={<VerticalAlignTopOutlined style={{ fontSize: '20px' }} />}\n        />\n        <Button\n          type=\"primary\"\n          disabled={!downActive}\n          onClick={MoveDown}\n          icon={<VerticalAlignBottomOutlined style={{ fontSize: '20px' }} />}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport { MoveUpDown };\n","import _ from 'lodash';\nimport { cloneElement, createElement, memo, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useCkeditor } from '../Hooks/Ckeditor.hook';\nimport { useCustomEditorPosition, useCustomEditorStatus } from '../Hooks/CustomEditor.hook';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../Hooks/Htmlwrapper.hook';\nimport { findClosestParent, findUniqueIdentifier } from '../Utils/closestParent';\nimport { detectEmptyElement } from '../Utils/detectEmptyBody';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { findColumnOfElement } from '../Utils/findElementsParent';\nimport {\n  generateDropItemPlaceholder,\n  genereateDropItemPlaceholderForColumn,\n} from '../Utils/generateDropItemPlaceholder';\nimport { logger } from '../Utils/logger';\nimport { setToolBars } from '../Utils/setToolbarPositions';\nimport { typeoftag } from '../Utils/typeoftag';\nimport { MoveUpDown } from './MoveUpDownRow';\n\ninterface HtmlWrapperProps {\n  // children: React.DOMElement<React.DOMAttributes<Element>, Element>;\n  uniqueKey: string | number;\n  originalNode: any;\n}\n\nexport const HtmlWrapper = memo(({ uniqueKey, originalNode }: HtmlWrapperProps) => {\n  const { setUIWrapperList, setActive, setActiveHover, active, activeHover, id, setId, getId, uiList } =\n    useHtmlWrapper();\n  const {\n    setDelActive,\n    setDelX,\n    setDelY,\n    copy,\n    drag: { isColumn },\n  } = useCkeditor();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { setX: customEditorSetX, setY: customEditorSetY } = useCustomEditorPosition();\n  const { setActive: setCustomEditorStatus } = useCustomEditorStatus();\n  const idRef = useRef(id);\n  const uniqueId = useRef(id);\n\n  const { setCopyX, setCopyActive, setCopyY } = copy;\n\n  useEffect(() => {\n    getId();\n  }, []);\n\n  // while move items in editor, hide these\n  useEffect(() => {\n    if (active === null) {\n      setCopyActive(false);\n      setDelActive(false);\n      setCustomEditorStatus(false);\n    }\n  }, [active]);\n\n  const onHover = (e: any) => {\n    e.stopPropagation();\n    activeHover !== idRef.current && setActiveHover(idRef.current);\n  };\n\n  const onClick = useMemo(\n    () =>\n      idRef.current === activeHover\n        ? (e: any) => {\n            // text element with links in editor mode, should not trigger clicks\n            if (e && e.target && e.target.tagName === 'A') {\n              e.preventDefault();\n            }\n            setActive(idRef.current);\n            const clickTarget = e.target;\n            const mjmlTarget = clickTarget.closest('.mjml-tag');\n            if (mjmlTarget) {\n              const pos = mjmlTarget.getBoundingClientRect();\n\n              // activate editor only for text elements,\n              const identifier = findUniqueIdentifier(mjmlTarget, mjmlTarget.classList);\n\n              // if its body, dont show copy or delte.\n              if (identifier?.includes('body')) {\n                setDelActive(false);\n                setCopyActive(false);\n                return;\n              }\n\n              if (identifier?.includes('text')) {\n                const x = pos.left;\n                const y = pos.top - 38;\n\n                setCustomEditorStatus(true);\n                customEditorSetX(x);\n                customEditorSetY(y);\n              } else {\n                setCustomEditorStatus(false);\n              }\n\n              // moving the delete positon to currently selected elements right\n              setDelActive(true);\n              setCopyActive(true);\n\n              setToolBars({ pos, delete: { setDelX, setDelY }, copy: { setCopyX, setCopyY } });\n            }\n          }\n        : null,\n    [idRef, activeHover]\n  );\n  const draggable = activeHover === idRef.current && !idRef.current.className.includes('section');\n  const cursetStyle = useMemo(() => (activeHover === idRef.current ? 'pointer' : 'default'), [activeHover, idRef]);\n  const outline = activeHover === idRef.current ? '2px dashed rgb(121, 202, 182)' : 'unset';\n  const outlineClick = active === idRef.current ? '2px solid rgb(121, 202, 182)' : 'unset';\n\n  // detect empty body\n  if (detectEmptyElement(originalNode, 'body')) {\n    logger.info('empty body detected');\n  }\n  // detect empty section\n  if (detectEmptyElement(originalNode, 'section')) {\n    logger.info('empty section detected');\n  }\n\n  const onDragStart = (e: any) => {\n    if (active) {\n      setActive(null);\n    }\n    e.dataTransfer.dropEffect = 'move';\n    const uniqueClassName = findClosestParent(e.target);\n    const find = findElementInJson(mjmlJson, uniqueClassName);\n    if (find) {\n      const [, path] = find;\n      let item = _.get(mjmlJson, path.slice(1));\n      item = { mode: 'move', uniqueClassName: uniqueClassName, config: _.cloneDeep(item) };\n      let target = e.target;\n      // const backup = target.children[1]?.cloneNode(true);\n      // target.children[1].remove();\n      // target.addEventListener('dragend', () => {\n      //   target.appendChild(backup);\n      // });\n      // const dummyElement = document.createElement('div');\n\n      e.dataTransfer.setDragImage(target, 0, 0);\n      e.dataTransfer.setData('config', JSON.stringify(item));\n    } else {\n      logger.info(`move items: drag unable to find the config to transfer ${uniqueClassName}`);\n    }\n  };\n\n  const memoFind = useCallback((e: HTMLElement) => findColumnOfElement(e), []);\n\n  //todo: add removed perfomance optimization once functionality dev is complete.\n  const onDragOver = (e: any) => {\n    if (isColumn) {\n      // column & section can not be nested,\n      return;\n    }\n    const currentTarget = e.nativeEvent.target;\n    const nearestTag = findClosestParent(currentTarget);\n    // only show place item sign for column's children\n    if (nearestTag?.includes('mj-column') || nearestTag?.includes('mj-section')) {\n      logger.log('::indicator: trigger->column');\n      if (nearestTag.includes('mj-column')) {\n        const madeChange = genereateDropItemPlaceholderForColumn({ mjmlJson, nearestTag, setMjmlJson });\n        if (madeChange === true) {\n          logger.log('::indicator: trigger->column -> stopping further processing');\n          return;\n        }\n        logger.log('::indicator: trigger->column -> no updates where done -> proceeding further processing');\n      }\n    }\n\n    let columnElement = memoFind(currentTarget);\n    // find column of element returns element and uniqueIdentifier\n    if (columnElement) {\n      [columnElement] = columnElement;\n    }\n    logger.log('::indicator: trigger->insideColumn');\n    generateDropItemPlaceholder({\n      mjmlJson,\n      nearestTag,\n      columnElement,\n      currentTarget,\n      setMjmlJson,\n      event: e,\n    });\n  };\n\n  const tag = typeoftag(originalNode.props.className);\n\n  const ItemName = createElement(\n    'div',\n    {\n      style: {\n        position: 'absolute',\n        right: -2,\n        bottom: -24,\n        zIndex: 100,\n        display: tag !== 'social-element' ? 'block' : 'none',\n        minWidth: 64,\n        textAlign: 'right',\n      },\n      draggable: false,\n    },\n\n    activeHover === idRef.current || active === idRef.current\n      ? createElement(\n          'span',\n          { style: { padding: '4px 6px', background: '#1890ff', color: 'white', fontSize: '14px' } },\n          typeoftag(originalNode.props.className)\n        )\n      : null\n  );\n\n  let moveUpDown = null;\n\n  // for sections show Indicators to show up and down.\n  if (originalNode && originalNode.props.className.includes('mj-section')) {\n    moveUpDown = <MoveUpDown className={originalNode.props.className} idRef={idRef} active={active} />;\n  }\n\n  const Element = createElement(\n    originalNode.nodeName as string,\n    {\n      ...originalNode.props,\n      onDragOver: _.debounce(onDragOver, 150),\n      onMouseOver: onHover,\n      onDragStart,\n      draggable,\n      ref: idRef,\n      id: uniqueId.current,\n      onClick,\n      key: uniqueKey,\n      style: {\n        ...originalNode.props.style,\n        cursor: 'pointer',\n        outline: active === idRef.current ? outlineClick : outline,\n        position: 'relative',\n      },\n    },\n    originalNode.children ? [...originalNode.children, ItemName, moveUpDown] : null\n  );\n\n  return Element;\n});\n","import { floor } from 'lodash';\n\ntype fn = (arg: number) => void;\n\ninterface SetToolBarsProps {\n  pos: any;\n  delete: {\n    setDelX: fn;\n    setDelY: fn;\n  };\n  copy: {\n    setCopyX: fn;\n    setCopyY: fn;\n  };\n}\n\nconst setToolBars = ({ pos, delete: { setDelX, setDelY }, copy: { setCopyX, setCopyY } }: SetToolBarsProps) => {\n  const IconSize = 32;\n  const numberOfIcons = 2 * IconSize;\n  if (pos) {\n    setDelX(pos.right + 4);\n    const middle = floor((pos.bottom - pos.top) / 2) - numberOfIcons / 2;\n    setDelY(pos.top + middle);\n    setCopyX(pos.right + 4);\n    // below the delete icon, with a little offset\n    setCopyY(pos.top + middle + IconSize + 4);\n  }\n};\n\nexport { setToolBars };\n","//https://raw.githubusercontent.com/facebook/react/cae635054e17a6f107a39d328649137b83f25972/packages/react-dom/src/shared/possibleStandardNames.js\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// When adding attributes to the HTML or SVG allowed attribute list, be sure to\n// also add them to this module to ensure casing and incorrect name\n// warnings.\nconst possibleStandardNames: any = {\n  // HTML\n  accept: 'accept',\n  acceptcharset: 'acceptCharset',\n  'accept-charset': 'acceptCharset',\n  accesskey: 'accessKey',\n  action: 'action',\n  allowfullscreen: 'allowFullScreen',\n  alt: 'alt',\n  align: 'align', // deprecated, but still adding it since, mjml uses it, msdn: Instead of using the obsolete align attribute, you should instead use the CSS text-align property to establish left, center, right, or justify alignment for the row's cells. To apply character-based alignment, set the CSS text-align property to the alignment character (such as \".\" or \",\").\n  as: 'as',\n  async: 'async',\n  autocapitalize: 'autoCapitalize',\n  autocomplete: 'autoComplete',\n  autocorrect: 'autoCorrect',\n  autofocus: 'autoFocus',\n  autoplay: 'autoPlay',\n  autosave: 'autoSave',\n  capture: 'capture',\n  cellpadding: 'cellPadding',\n  cellspacing: 'cellSpacing',\n  challenge: 'challenge',\n  charset: 'charSet',\n  checked: 'checked',\n  children: 'children',\n  cite: 'cite',\n  class: 'className',\n  classid: 'classID',\n  classname: 'className',\n  cols: 'cols',\n  colspan: 'colSpan',\n  content: 'content',\n  contenteditable: 'contentEditable',\n  contextmenu: 'contextMenu',\n  controls: 'controls',\n  controlslist: 'controlsList',\n  coords: 'coords',\n  crossorigin: 'crossOrigin',\n  dangerouslysetinnerhtml: 'dangerouslySetInnerHTML',\n  data: 'data',\n  datetime: 'dateTime',\n  default: 'default',\n  defaultchecked: 'defaultChecked',\n  defaultvalue: 'defaultValue',\n  defer: 'defer',\n  dir: 'dir',\n  disabled: 'disabled',\n  disablepictureinpicture: 'disablePictureInPicture',\n  disableremoteplayback: 'disableRemotePlayback',\n  download: 'download',\n  draggable: 'draggable',\n  enctype: 'encType',\n  enterkeyhint: 'enterKeyHint',\n  for: 'htmlFor',\n  form: 'form',\n  formmethod: 'formMethod',\n  formaction: 'formAction',\n  formenctype: 'formEncType',\n  formnovalidate: 'formNoValidate',\n  formtarget: 'formTarget',\n  frameborder: 'frameBorder',\n  headers: 'headers',\n  height: 'height',\n  hidden: 'hidden',\n  high: 'high',\n  href: 'href',\n  hreflang: 'hrefLang',\n  htmlfor: 'htmlFor',\n  httpequiv: 'httpEquiv',\n  'http-equiv': 'httpEquiv',\n  icon: 'icon',\n  id: 'id',\n  innerhtml: 'innerHTML',\n  inputmode: 'inputMode',\n  integrity: 'integrity',\n  is: 'is',\n  itemid: 'itemID',\n  itemprop: 'itemProp',\n  itemref: 'itemRef',\n  itemscope: 'itemScope',\n  itemtype: 'itemType',\n  keyparams: 'keyParams',\n  keytype: 'keyType',\n  kind: 'kind',\n  label: 'label',\n  lang: 'lang',\n  list: 'list',\n  loop: 'loop',\n  low: 'low',\n  manifest: 'manifest',\n  marginwidth: 'marginWidth',\n  marginheight: 'marginHeight',\n  max: 'max',\n  maxlength: 'maxLength',\n  media: 'media',\n  mediagroup: 'mediaGroup',\n  method: 'method',\n  min: 'min',\n  minlength: 'minLength',\n  multiple: 'multiple',\n  muted: 'muted',\n  name: 'name',\n  nomodule: 'noModule',\n  nonce: 'nonce',\n  novalidate: 'noValidate',\n  open: 'open',\n  optimum: 'optimum',\n  pattern: 'pattern',\n  placeholder: 'placeholder',\n  playsinline: 'playsInline',\n  poster: 'poster',\n  preload: 'preload',\n  profile: 'profile',\n  radiogroup: 'radioGroup',\n  readonly: 'readOnly',\n  referrerpolicy: 'referrerPolicy',\n  rel: 'rel',\n  required: 'required',\n  reversed: 'reversed',\n  role: 'role',\n  rows: 'rows',\n  rowspan: 'rowSpan',\n  sandbox: 'sandbox',\n  scope: 'scope',\n  scoped: 'scoped',\n  scrolling: 'scrolling',\n  seamless: 'seamless',\n  selected: 'selected',\n  shape: 'shape',\n  size: 'size',\n  sizes: 'sizes',\n  span: 'span',\n  spellcheck: 'spellCheck',\n  src: 'src',\n  srcdoc: 'srcDoc',\n  srclang: 'srcLang',\n  srcset: 'srcSet',\n  start: 'start',\n  step: 'step',\n  style: 'style',\n  summary: 'summary',\n  tabindex: 'tabIndex',\n  target: 'target',\n  title: 'title',\n  type: 'type',\n  usemap: 'useMap',\n  value: 'value',\n  width: 'width',\n  wmode: 'wmode',\n  wrap: 'wrap',\n\n  // SVG\n  about: 'about',\n  accentheight: 'accentHeight',\n  'accent-height': 'accentHeight',\n  accumulate: 'accumulate',\n  additive: 'additive',\n  alignmentbaseline: 'alignmentBaseline',\n  'alignment-baseline': 'alignmentBaseline',\n  allowreorder: 'allowReorder',\n  alphabetic: 'alphabetic',\n  amplitude: 'amplitude',\n  arabicform: 'arabicForm',\n  'arabic-form': 'arabicForm',\n  ascent: 'ascent',\n  attributename: 'attributeName',\n  attributetype: 'attributeType',\n  autoreverse: 'autoReverse',\n  azimuth: 'azimuth',\n  basefrequency: 'baseFrequency',\n  baselineshift: 'baselineShift',\n  'baseline-shift': 'baselineShift',\n  baseprofile: 'baseProfile',\n  bbox: 'bbox',\n  begin: 'begin',\n  bias: 'bias',\n  by: 'by',\n  calcmode: 'calcMode',\n  capheight: 'capHeight',\n  'cap-height': 'capHeight',\n  clip: 'clip',\n  clippath: 'clipPath',\n  'clip-path': 'clipPath',\n  clippathunits: 'clipPathUnits',\n  cliprule: 'clipRule',\n  'clip-rule': 'clipRule',\n  color: 'color',\n  colorinterpolation: 'colorInterpolation',\n  'color-interpolation': 'colorInterpolation',\n  colorinterpolationfilters: 'colorInterpolationFilters',\n  'color-interpolation-filters': 'colorInterpolationFilters',\n  colorprofile: 'colorProfile',\n  'color-profile': 'colorProfile',\n  colorrendering: 'colorRendering',\n  'color-rendering': 'colorRendering',\n  contentscripttype: 'contentScriptType',\n  contentstyletype: 'contentStyleType',\n  cursor: 'cursor',\n  cx: 'cx',\n  cy: 'cy',\n  d: 'd',\n  datatype: 'datatype',\n  decelerate: 'decelerate',\n  descent: 'descent',\n  diffuseconstant: 'diffuseConstant',\n  direction: 'direction',\n  display: 'display',\n  divisor: 'divisor',\n  dominantbaseline: 'dominantBaseline',\n  'dominant-baseline': 'dominantBaseline',\n  dur: 'dur',\n  dx: 'dx',\n  dy: 'dy',\n  edgemode: 'edgeMode',\n  elevation: 'elevation',\n  enablebackground: 'enableBackground',\n  'enable-background': 'enableBackground',\n  end: 'end',\n  exponent: 'exponent',\n  externalresourcesrequired: 'externalResourcesRequired',\n  fill: 'fill',\n  fillopacity: 'fillOpacity',\n  'fill-opacity': 'fillOpacity',\n  fillrule: 'fillRule',\n  'fill-rule': 'fillRule',\n  filter: 'filter',\n  filterres: 'filterRes',\n  filterunits: 'filterUnits',\n  floodopacity: 'floodOpacity',\n  'flood-opacity': 'floodOpacity',\n  floodcolor: 'floodColor',\n  'flood-color': 'floodColor',\n  focusable: 'focusable',\n  fontfamily: 'fontFamily',\n  'font-family': 'fontFamily',\n  fontsize: 'fontSize',\n  'font-size': 'fontSize',\n  fontsizeadjust: 'fontSizeAdjust',\n  'font-size-adjust': 'fontSizeAdjust',\n  fontstretch: 'fontStretch',\n  'font-stretch': 'fontStretch',\n  fontstyle: 'fontStyle',\n  'font-style': 'fontStyle',\n  fontvariant: 'fontVariant',\n  'font-variant': 'fontVariant',\n  fontweight: 'fontWeight',\n  'font-weight': 'fontWeight',\n  format: 'format',\n  from: 'from',\n  fx: 'fx',\n  fy: 'fy',\n  g1: 'g1',\n  g2: 'g2',\n  glyphname: 'glyphName',\n  'glyph-name': 'glyphName',\n  glyphorientationhorizontal: 'glyphOrientationHorizontal',\n  'glyph-orientation-horizontal': 'glyphOrientationHorizontal',\n  glyphorientationvertical: 'glyphOrientationVertical',\n  'glyph-orientation-vertical': 'glyphOrientationVertical',\n  glyphref: 'glyphRef',\n  gradienttransform: 'gradientTransform',\n  gradientunits: 'gradientUnits',\n  hanging: 'hanging',\n  horizadvx: 'horizAdvX',\n  'horiz-adv-x': 'horizAdvX',\n  horizoriginx: 'horizOriginX',\n  'horiz-origin-x': 'horizOriginX',\n  ideographic: 'ideographic',\n  imagerendering: 'imageRendering',\n  'image-rendering': 'imageRendering',\n  in2: 'in2',\n  in: 'in',\n  inlist: 'inlist',\n  intercept: 'intercept',\n  k1: 'k1',\n  k2: 'k2',\n  k3: 'k3',\n  k4: 'k4',\n  k: 'k',\n  kernelmatrix: 'kernelMatrix',\n  kernelunitlength: 'kernelUnitLength',\n  kerning: 'kerning',\n  keypoints: 'keyPoints',\n  keysplines: 'keySplines',\n  keytimes: 'keyTimes',\n  lengthadjust: 'lengthAdjust',\n  letterspacing: 'letterSpacing',\n  'letter-spacing': 'letterSpacing',\n  lightingcolor: 'lightingColor',\n  'lighting-color': 'lightingColor',\n  limitingconeangle: 'limitingConeAngle',\n  local: 'local',\n  markerend: 'markerEnd',\n  'marker-end': 'markerEnd',\n  markerheight: 'markerHeight',\n  markermid: 'markerMid',\n  'marker-mid': 'markerMid',\n  markerstart: 'markerStart',\n  'marker-start': 'markerStart',\n  markerunits: 'markerUnits',\n  markerwidth: 'markerWidth',\n  mask: 'mask',\n  maskcontentunits: 'maskContentUnits',\n  maskunits: 'maskUnits',\n  mathematical: 'mathematical',\n  mode: 'mode',\n  numoctaves: 'numOctaves',\n  offset: 'offset',\n  opacity: 'opacity',\n  operator: 'operator',\n  order: 'order',\n  orient: 'orient',\n  orientation: 'orientation',\n  origin: 'origin',\n  overflow: 'overflow',\n  overlineposition: 'overlinePosition',\n  'overline-position': 'overlinePosition',\n  overlinethickness: 'overlineThickness',\n  'overline-thickness': 'overlineThickness',\n  paintorder: 'paintOrder',\n  'paint-order': 'paintOrder',\n  panose1: 'panose1',\n  'panose-1': 'panose1',\n  pathlength: 'pathLength',\n  patterncontentunits: 'patternContentUnits',\n  patterntransform: 'patternTransform',\n  patternunits: 'patternUnits',\n  pointerevents: 'pointerEvents',\n  'pointer-events': 'pointerEvents',\n  points: 'points',\n  pointsatx: 'pointsAtX',\n  pointsaty: 'pointsAtY',\n  pointsatz: 'pointsAtZ',\n  prefix: 'prefix',\n  preservealpha: 'preserveAlpha',\n  preserveaspectratio: 'preserveAspectRatio',\n  primitiveunits: 'primitiveUnits',\n  property: 'property',\n  r: 'r',\n  radius: 'radius',\n  refx: 'refX',\n  refy: 'refY',\n  renderingintent: 'renderingIntent',\n  'rendering-intent': 'renderingIntent',\n  repeatcount: 'repeatCount',\n  repeatdur: 'repeatDur',\n  requiredextensions: 'requiredExtensions',\n  requiredfeatures: 'requiredFeatures',\n  resource: 'resource',\n  restart: 'restart',\n  result: 'result',\n  results: 'results',\n  rotate: 'rotate',\n  rx: 'rx',\n  ry: 'ry',\n  scale: 'scale',\n  security: 'security',\n  seed: 'seed',\n  shaperendering: 'shapeRendering',\n  'shape-rendering': 'shapeRendering',\n  slope: 'slope',\n  spacing: 'spacing',\n  specularconstant: 'specularConstant',\n  specularexponent: 'specularExponent',\n  speed: 'speed',\n  spreadmethod: 'spreadMethod',\n  startoffset: 'startOffset',\n  stddeviation: 'stdDeviation',\n  stemh: 'stemh',\n  stemv: 'stemv',\n  stitchtiles: 'stitchTiles',\n  stopcolor: 'stopColor',\n  'stop-color': 'stopColor',\n  stopopacity: 'stopOpacity',\n  'stop-opacity': 'stopOpacity',\n  strikethroughposition: 'strikethroughPosition',\n  'strikethrough-position': 'strikethroughPosition',\n  strikethroughthickness: 'strikethroughThickness',\n  'strikethrough-thickness': 'strikethroughThickness',\n  string: 'string',\n  stroke: 'stroke',\n  strokedasharray: 'strokeDasharray',\n  'stroke-dasharray': 'strokeDasharray',\n  strokedashoffset: 'strokeDashoffset',\n  'stroke-dashoffset': 'strokeDashoffset',\n  strokelinecap: 'strokeLinecap',\n  'stroke-linecap': 'strokeLinecap',\n  strokelinejoin: 'strokeLinejoin',\n  'stroke-linejoin': 'strokeLinejoin',\n  strokemiterlimit: 'strokeMiterlimit',\n  'stroke-miterlimit': 'strokeMiterlimit',\n  strokewidth: 'strokeWidth',\n  'stroke-width': 'strokeWidth',\n  strokeopacity: 'strokeOpacity',\n  'stroke-opacity': 'strokeOpacity',\n  suppresscontenteditablewarning: 'suppressContentEditableWarning',\n  suppresshydrationwarning: 'suppressHydrationWarning',\n  surfacescale: 'surfaceScale',\n  systemlanguage: 'systemLanguage',\n  tablevalues: 'tableValues',\n  targetx: 'targetX',\n  targety: 'targetY',\n  textanchor: 'textAnchor',\n  'text-anchor': 'textAnchor',\n  textdecoration: 'textDecoration',\n  'text-decoration': 'textDecoration',\n  textlength: 'textLength',\n  textrendering: 'textRendering',\n  'text-rendering': 'textRendering',\n  to: 'to',\n  transform: 'transform',\n  typeof: 'typeof',\n  u1: 'u1',\n  u2: 'u2',\n  underlineposition: 'underlinePosition',\n  'underline-position': 'underlinePosition',\n  underlinethickness: 'underlineThickness',\n  'underline-thickness': 'underlineThickness',\n  unicode: 'unicode',\n  unicodebidi: 'unicodeBidi',\n  'unicode-bidi': 'unicodeBidi',\n  unicoderange: 'unicodeRange',\n  'unicode-range': 'unicodeRange',\n  unitsperem: 'unitsPerEm',\n  'units-per-em': 'unitsPerEm',\n  unselectable: 'unselectable',\n  valphabetic: 'vAlphabetic',\n  'v-alphabetic': 'vAlphabetic',\n  values: 'values',\n  vectoreffect: 'vectorEffect',\n  'vector-effect': 'vectorEffect',\n  version: 'version',\n  vertadvy: 'vertAdvY',\n  'vert-adv-y': 'vertAdvY',\n  vertoriginx: 'vertOriginX',\n  'vert-origin-x': 'vertOriginX',\n  vertoriginy: 'vertOriginY',\n  'vertical-align': 'vertial-align',\n  'vert-origin-y': 'vertOriginY',\n  vhanging: 'vHanging',\n  'v-hanging': 'vHanging',\n  videographic: 'vIdeographic',\n  'v-ideographic': 'vIdeographic',\n  viewbox: 'viewBox',\n  viewtarget: 'viewTarget',\n  visibility: 'visibility',\n  vmathematical: 'vMathematical',\n  'v-mathematical': 'vMathematical',\n  vocab: 'vocab',\n  widths: 'widths',\n  wordspacing: 'wordSpacing',\n  'word-spacing': 'wordSpacing',\n  writingmode: 'writingMode',\n  'writing-mode': 'writingMode',\n  x1: 'x1',\n  x2: 'x2',\n  x: 'x',\n  xchannelselector: 'xChannelSelector',\n  xheight: 'xHeight',\n  'x-height': 'xHeight',\n  xlinkactuate: 'xlinkActuate',\n  'xlink:actuate': 'xlinkActuate',\n  xlinkarcrole: 'xlinkArcrole',\n  'xlink:arcrole': 'xlinkArcrole',\n  xlinkhref: 'xlinkHref',\n  'xlink:href': 'xlinkHref',\n  xlinkrole: 'xlinkRole',\n  'xlink:role': 'xlinkRole',\n  xlinkshow: 'xlinkShow',\n  'xlink:show': 'xlinkShow',\n  xlinktitle: 'xlinkTitle',\n  'xlink:title': 'xlinkTitle',\n  xlinktype: 'xlinkType',\n  'xlink:type': 'xlinkType',\n  xmlbase: 'xmlBase',\n  'xml:base': 'xmlBase',\n  xmllang: 'xmlLang',\n  'xml:lang': 'xmlLang',\n  xmlns: 'xmlns',\n  'xml:space': 'xmlSpace',\n  xmlnsxlink: 'xmlnsXlink',\n  'xmlns:xlink': 'xmlnsXlink',\n  xmlspace: 'xmlSpace',\n  y1: 'y1',\n  y2: 'y2',\n  y: 'y',\n  ychannelselector: 'yChannelSelector',\n  z: 'z',\n  zoomandpan: 'zoomAndPan',\n};\n\nexport default possibleStandardNames;\n","import { createElement } from 'react';\n\ninterface WrapWithOutlineProps {\n  nodeName: string;\n  props: any;\n  children: any;\n  id: number;\n}\n\nconst WrapWithOutline = ({ nodeName, props, children, id }: WrapWithOutlineProps) => {\n  return createElement(\n    nodeName,\n    { ...props, key: id, style: { ...props.style, outline: '2px dashed rgb(121,202,182)' } },\n    children\n  );\n};\n\nexport { WrapWithOutline };\n","import React, { createElement, ReactNode } from 'react';\r\nimport { HtmlWrapper } from '../Components/HtmlWrapper';\r\nimport { logger } from './logger';\r\nimport possibleStandardNames from './reactPropertyNames';\r\nimport { WrapWithOutline } from './wrapWithOutline';\r\n\r\nconst DEBUG = false;\r\n\r\nconst domParser: any = new DOMParser();\r\n\r\nexport const htmlProcessor = (html: string): ReactNode => {\r\n  if (typeof html !== 'string') {\r\n    logger.error('htmlParser: html is not a string');\r\n    return React.createElement('div', {}, 'errors: please check dev console') as ReactNode;\r\n  }\r\n\r\n  let doc = domParser.parseFromString(html, 'text/html');\r\n\r\n  if (doc === null) {\r\n    logger.error('htmlParser: doc is null, unable to process html');\r\n    return React.createElement('p', {}, 'errors: please check dev console') as ReactNode;\r\n  }\r\n  return converter(doc as unknown as HTMLElement, 1);\r\n};\r\n\r\nconst converter = (element: HTMLElement, key = 0) => {\r\n  if (element === undefined) {\r\n    return;\r\n  }\r\n\r\n  let nodeName = element.nodeName.toLowerCase();\r\n\r\n  // meta, script, style, ..etc, tags don't have children,\r\n  if (\r\n    nodeName === 'script' ||\r\n    nodeName === 'style' ||\r\n    nodeName === 'meta' ||\r\n    nodeName === 'link' ||\r\n    nodeName === 'title' ||\r\n    nodeName === 'br'\r\n  ) {\r\n    if (nodeName === 'meta') {\r\n      let el = element as HTMLMetaElement;\r\n      return React.createElement(\r\n        nodeName,\r\n        { httpEquiv: el.httpEquiv, content: el.content, key: nodeName + key++ },\r\n        null\r\n      );\r\n    }\r\n    if (nodeName === 'link') {\r\n      let el = element as HTMLLinkElement;\r\n      let type = null;\r\n      if (el.type) {\r\n        type = el.type;\r\n      }\r\n      return React.createElement(\r\n        nodeName,\r\n        {\r\n          href: el.href,\r\n          rel: el.rel,\r\n          type,\r\n          key: nodeName + key++,\r\n        },\r\n        null\r\n      );\r\n    }\r\n    if (nodeName === 'br') {\r\n      return React.createElement(nodeName, { key: nodeName + key++ }, null);\r\n    }\r\n\r\n    return React.createElement(nodeName, {\r\n      dangerouslySetInnerHTML: { __html: element.innerHTML, key: nodeName + key++ },\r\n    });\r\n  }\r\n\r\n  let attributes: { [key: string]: string | { [key: string]: string } | any } = {};\r\n\r\n  for (var i = 0; element.attributes && i < element.attributes.length; i++) {\r\n    let attribute = element.attributes[i];\r\n    let reactName = possibleStandardNames[attribute.name];\r\n\r\n    if (reactName === undefined) {\r\n      reactName = toCamelCase(attribute.name);\r\n      const msg = `htmlParser: ${attribute.name} is not found in possible attributes,\r\n      using ${reactName} instead.`;\r\n      DEBUG && logger.error(msg, element);\r\n    }\r\n\r\n    let value = attribute.name === 'style' ? convertStyleStringToObject(attribute.value) : attribute.value.trim();\r\n\r\n    attributes[reactName] = value;\r\n  }\r\n\r\n  attributes['key'] = key++;\r\n\r\n  let children: ReactNode[] = [];\r\n\r\n  if (element.className && element.className.includes('mj-text')) {\r\n    // if element is mj-text, we edit it with customInlineEditor by making div 'contentEditable' true.\r\n    //  do not handle children in react.\r\n\r\n    const original = {\r\n      nodeName,\r\n      props: { ...attributes },\r\n      children: [createElement('span', { dangerouslySetInnerHTML: { __html: element.innerHTML } })],\r\n    };\r\n\r\n    return <HtmlWrapper uniqueKey={key++} originalNode={original} />;\r\n  }\r\n\r\n  for (let i = 0; i < element.childNodes.length; i++) {\r\n    let child = element.childNodes[i];\r\n\r\n    if (child['nodeName'] === '#text') {\r\n      if (child.textContent) {\r\n        // remove all new line characters & trim, problem with user's text content\r\n        //   is handled before this section in 'mj-text'\r\n        const content = child.textContent.replaceAll('\\n', '').trim();\r\n        if (content) {\r\n          children.push(content);\r\n        }\r\n      }\r\n      continue;\r\n    }\r\n\r\n    if (child['nodeName'] === '#comment') {\r\n      continue;\r\n    }\r\n\r\n    if (nodeName !== 'script' && nodeName !== 'style') {\r\n      children.push(converter(child as HTMLElement, key++));\r\n    }\r\n  }\r\n  if (element.classList && element.classList.contains('mjml-tag')) {\r\n    DEBUG && logger.info(`identified mjml-tag for : ${nodeName}, with attributes: ${JSON.stringify(attributes)}`);\r\n    // const ReactNode = React.createElement(nodeName, { key: key++, ...attributes }, children);\r\n    const original = { nodeName, props: { ...attributes }, children };\r\n\r\n    return <HtmlWrapper uniqueKey={key++} originalNode={original} />;\r\n    // return <HtmlWrapper children={ReactNode} key={key++} originalNode={original} />;\r\n  }\r\n\r\n  // process placehodler item differently, if mj-text is placer, the wrapper is td,\r\n  //    td does not obey border properties, so outline can be used.\r\n  if (element.classList && element.classList.contains('placeitem-placeholder')) {\r\n    return <WrapWithOutline id={key++} nodeName={nodeName} props={{ ...attributes }} children={children} />;\r\n  }\r\n\r\n  // if root document, create it with div,\r\n  // todo: rnd if this document can be abstracted from the main document,\r\n  if (nodeName === '#document') {\r\n    nodeName = 'div';\r\n  }\r\n\r\n  // remove href in link\r\n  if (nodeName === 'a') {\r\n    delete attributes['href'];\r\n    delete attributes['target'];\r\n  }\r\n\r\n  // img tag should not have child param passed to it\r\n  if (nodeName === 'img') {\r\n    return React.createElement(nodeName, { key: key++, ...attributes }, null);\r\n  } else if (element.nodeType === 3) {\r\n    return React.createElement(nodeName, { ...attributes, key: key++ }, element.textContent);\r\n  }\r\n\r\n  return React.createElement(nodeName, attributes, children);\r\n};\r\n\r\nconst convertStyleStringToObject = (style: string) => {\r\n  let styleObject: { [key: string]: string } = {};\r\n\r\n  //  edgecase\r\n  //  \"background:#ffffff url('background:#ffffff url('https://lh3.googleusercontent.com/-y_e1bS8pZSc/YKkCKwNrxgI/AAAAAAAADuY/l1ygemViAp8ZXd44mAvqypqg7zsTD2gIACLcBGAsYHQ/s1600/1621688872017805-1.png') center top / auto repeat;') center top / auto repeat;background-position:center top;background-repeat:repeat;background-size:auto;margin:0px auto;border-radius:0px;max-width:600px;\"\r\n  // https://stackoverflow.com/a/9219386/6843092, with negative lookahead\r\n  let styleArray = style.split(/;+(?![^(]*\\))/g);\r\n\r\n  for (let i = 0; i < styleArray.length; i++) {\r\n    if (styleArray[i] === '') {\r\n      continue;\r\n    }\r\n\r\n    // bug while parsing\r\n    // 'background:#ffffff url('https://...') center top / auto repeat;'\r\n    let [key, ..._value] = styleArray[i].split(':');\r\n\r\n    let stylePair = [key, _value.join(':')];\r\n    let property = stylePair[0].trim();\r\n    property = toCamelCase(property);\r\n    let value = stylePair[1].trim();\r\n    styleObject[property] = value;\r\n  }\r\n\r\n  return styleObject;\r\n};\r\n\r\nconst toCamelCase = (str: string) => {\r\n  return str.replace(/([-_][a-z])/gi, ($1) => {\r\n    return $1.toUpperCase().replace('-', '').replace('_', '');\r\n  });\r\n};\r\n","// remove the empty placeholder-banner if present\nconst removePlaceholderBanner = (item: any) => {\n  if (item && item.children) {\n    item.children = item.children.filter((config: any) => {\n      if (config && config['attributes'] && config['attributes']['css-class']) {\n        return !config['attributes']['css-class'].includes('mj-placeholder');\n      }\n      return true;\n    });\n  }\n  return item;\n};\n\nconst insertAtPlaceholderIndicatorPosition = (item: any, itemToInsert: any) => {\n  if (item.tagName !== 'mj-body' && item.children && item.children.length) {\n    // place the dropped config in the placeholder position, this only is needed for\n    //   items, which has children\n    for (var i = 0; i < item.children.length; i++) {\n      const child = item.children[i];\n      const cssClass = child.attributes['css-class'];\n      if (cssClass && cssClass.includes('placeitem-placeholder')) {\n        item.children[i] = itemToInsert;\n        continue;\n      }\n      item.children[i] = child;\n    }\n  } else {\n    // children are empty\n    item.children.push(itemToInsert);\n  }\n\n  return item;\n};\n\nexport { removePlaceholderBanner, insertAtPlaceholderIndicatorPosition };\n","import { message } from 'antd';\nimport _ from 'lodash';\nimport { error } from '../Components/Messages';\nimport { columnPlaceholder } from '../Components/Section';\nimport {\n  findClosestParent,\n  findUniqueIdentifier,\n  generateUniqueIdRecursively,\n  getIndexOfElementInParent,\n} from './closestParent';\nimport { findElementInJson } from './findElementInMjmlJson';\nimport { logger } from './logger';\nimport { cleanMjmlJson } from './mjmlProcessor';\nimport { insertAtPlaceholderIndicatorPosition, removePlaceholderBanner } from './removePlaceholders';\nimport { UNDOREDO } from './undoRedo';\n\ninterface AddProps {\n  target: HTMLElement;\n  droppedConfig: any;\n  mjmlJson: any;\n  setMjmlJson: any;\n  uid: () => string;\n}\n\nconst Add = ({ target, droppedConfig, setMjmlJson, mjmlJson, uid }: AddProps) => {\n  let uniqueClassName = findClosestParent(target);\n\n  if (!uniqueClassName) {\n    const cleanedMjmlJson = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleanedMjmlJson });\n    return null;\n  }\n\n  if (droppedConfig.tagName !== 'mj-section') {\n    if (uniqueClassName === 'identifier-mj-body' || uniqueClassName === 'identifier-mj-section') {\n      const cleanedMjmlJson = cleanMjmlJson(mjmlJson);\n      setMjmlJson({ ...cleanedMjmlJson });\n      message.error('Use a section to place the item');\n      return null;\n    }\n  }\n\n  if (droppedConfig.tagName && droppedConfig.tagName === 'mj-section') {\n    if (uniqueClassName !== 'identifier-mj-body') {\n      const msg = 'Sections can not be nested! it will break mobile design';\n      message.info(msg);\n      logger.log(`operation add: ${msg}`);\n      return;\n    }\n  }\n\n  let droppedConfigWithUid = _.cloneDeep(droppedConfig);\n  droppedConfigWithUid = generateUniqueIdRecursively(droppedConfigWithUid, uid);\n\n  const ObjectEquivalent = findElementInJson(_.cloneDeep(mjmlJson), uniqueClassName);\n\n  if (!ObjectEquivalent) {\n    return null;\n  }\n\n  let [item, path] = ObjectEquivalent;\n  logger.info('operation add: item in Object:', item, 'path to Object:', path);\n\n  item = removePlaceholderBanner(item);\n\n  item = insertAtPlaceholderIndicatorPosition(item, droppedConfigWithUid);\n\n  if (UNDOREDO.isUndoEmpty()) {\n    UNDOREDO.newAction(cleanMjmlJson(_.cloneDeep(mjmlJson)));\n  }\n\n  let updated = _.set(mjmlJson, path.slice(1), item);\n  updated = cleanMjmlJson(updated);\n  UNDOREDO.newAction(updated);\n  setMjmlJson({ ...updated });\n};\n\ninterface AddAtIndexProps {\n  droppedConfig: any;\n  mjmlJson: any;\n  setMjmlJson: any;\n  uid: () => string;\n  parentUniqueClassIdentifier: string;\n  index: number;\n}\n\nconst AddAtIndex = ({\n  droppedConfig,\n  setMjmlJson,\n  mjmlJson,\n  uid,\n  parentUniqueClassIdentifier,\n  index,\n}: AddAtIndexProps) => {\n  let uniqueClassName = parentUniqueClassIdentifier;\n\n  if (!uniqueClassName) {\n    const cleanedMjmlJson = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleanedMjmlJson });\n    return null;\n  }\n\n  let droppedConfigWithUid = _.cloneDeep(droppedConfig);\n  droppedConfigWithUid = generateUniqueIdRecursively(droppedConfigWithUid, uid);\n\n  const ObjectEquivalent = findElementInJson(mjmlJson, uniqueClassName);\n\n  if (!ObjectEquivalent) {\n    return null;\n  }\n\n  let [item, path] = ObjectEquivalent;\n  logger.info('operation add: item in Object:', item, 'path to Object:', path);\n\n  item = removePlaceholderBanner(item);\n\n  // insert the dropped config at the specified location\n  if (index > -1) {\n    for (var i = 0; item && item.children && i < item.children.length; i++) {\n      if (i === index) {\n        item.children.splice(i, 0, droppedConfigWithUid);\n      }\n    }\n  }\n  let updated = _.set(mjmlJson, path.slice(1), item);\n  updated = cleanMjmlJson(updated);\n\n  UNDOREDO.newAction(updated);\n  setMjmlJson({ ...updated });\n};\n\ninterface RemoveProps {\n  target?: HTMLElement | undefined;\n  uniqueClassName?: string;\n  mjmlJson: any;\n  setMjmlJson: any;\n  setDelActive: any;\n  setCopyActive: any;\n  setActive: any;\n  movement?: boolean;\n}\n\nconst Remove = ({\n  target,\n  uniqueClassName: ucn,\n  mjmlJson,\n  setMjmlJson,\n  setDelActive,\n  setCopyActive,\n  setActive,\n  movement,\n}: RemoveProps) => {\n  let uniqueClassName;\n  if (target) {\n    uniqueClassName = findClosestParent(target);\n  } else if (ucn) {\n    uniqueClassName = ucn;\n  } else {\n    logger.info(`operation remove: either target/uniqueClassName must be provided \n      to perform this operation\n    `);\n    return;\n  }\n  if (!uniqueClassName) {\n    return null;\n  }\n\n  const ObjectEquivalent = findElementInJson(mjmlJson, uniqueClassName);\n  if (!ObjectEquivalent) {\n    return null;\n  }\n\n  let [, path]: [any, string] = ObjectEquivalent;\n  let parent: any = path.split('.');\n  const last: string = parent.pop();\n  parent = parent.join('.');\n  let item = _.get(mjmlJson, parent.slice(1));\n  const regExMatch = last.match(/\\[(.*?)\\]/);\n\n  if (regExMatch) {\n    const indexToRemove = parseInt(regExMatch[1]);\n    let newChildren = [];\n    for (var i = 0; item && item.children && i < item.children.length; i++) {\n      if (i !== indexToRemove) {\n        newChildren.push(item.children[i]);\n      }\n    }\n\n    // if column is empty, fill it with placeholder\n    if (parent) {\n      const parentItem = _.get(mjmlJson, parent.slice(1));\n\n      if (parentItem.tagName && parentItem.tagName === 'mj-column' && newChildren.length === 0) {\n        newChildren = columnPlaceholder;\n      }\n    }\n\n    item.children = newChildren;\n  }\n\n  setActive(null);\n  const updated = _.set(mjmlJson, parent.slice(1), item);\n  if (updated) {\n    setDelActive(false);\n    setCopyActive(false);\n    setMjmlJson({ ...updated });\n    // for moving elements in editor,\n    //   the way it works is that the element is removed from the parent first,\n    //   then the placeholder is replaced with the element\n    //   for undo action dont need to show the process\n    if (!movement) {\n      UNDOREDO.newAction(updated);\n    }\n  } else {\n    logger.info('operation remove: unable to delete the item');\n  }\n};\n\ninterface UpdateValueProps {\n  visible: boolean | null;\n  path: string;\n  mjmlJson: any;\n  setMjmlJson: any;\n  attribute: string;\n  value: any;\n}\n\nconst UpdateValue = ({ visible, path, mjmlJson, setMjmlJson, attribute, value }: UpdateValueProps) => {\n  if (visible && path) {\n    let item = _.get(mjmlJson, path, visible);\n    if (item) {\n      if (item['attributes'] && item['attributes'][attribute] !== value) {\n        item['attributes'][attribute] = value;\n        const updated = _.set(mjmlJson, path, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  }\n};\n\ninterface CopyProps extends Exclude<RemoveProps, 'uniqueClassName'> {\n  target: HTMLElement;\n  uidGenerator: () => string;\n}\n\nconst Copy = ({ mjmlJson, setActive, setMjmlJson, setCopyActive, setDelActive, target, uidGenerator }: CopyProps) => {\n  const uniqueIdentifier = findUniqueIdentifier(target, target.classList);\n  let parentUniqueIdentifier = '';\n  let index = -1;\n\n  if (uniqueIdentifier) {\n    const _ = getIndexOfElementInParent(target, mjmlJson, uniqueIdentifier);\n    if (_ && typeof _[0] === 'number' && typeof _[1] === 'string') {\n      [index, parentUniqueIdentifier] = _;\n    } else {\n      message.error('Unable to copy element');\n      return;\n    }\n  }\n\n  let copyOfConfig = findElementInJson(mjmlJson, uniqueIdentifier);\n  if (copyOfConfig && index > -1) {\n    [copyOfConfig] = copyOfConfig;\n    setCopyActive(false);\n    setDelActive(false);\n    setActive(null);\n\n    return AddAtIndex({\n      droppedConfig: _.cloneDeep(copyOfConfig),\n      setMjmlJson,\n      mjmlJson,\n      uid: uidGenerator,\n      index,\n      parentUniqueClassIdentifier: parentUniqueIdentifier,\n    });\n  }\n};\n\nexport { Add, Remove, UpdateValue, Copy };\n","const findTextNode = (node: any): any => {\n  if (node.nodeType === 3) {\n    return node;\n  }\n\n  for (let i = 0; node.childNodes && i < node.childNodes.length; i++) {\n    const textNode = findTextNode(node.childNodes[i]);\n    if (textNode) {\n      return closestDivToTextNode(textNode);\n    }\n  }\n};\n\nconst closestDivToTextNode = (node: any): any => {\n  if (!node) {\n    return null;\n  }\n  if (node.nodeType === 3) {\n    return closestDivToTextNode(node.parentNode);\n  }\n\n  const element = node;\n\n  if (element.nodeType === 1) {\n    const closestDiv = element.closest('div');\n    return closestDiv;\n  }\n\n  return element;\n};\n\nexport { findTextNode };\n","import { createContext, FC, useState } from 'react';\n\nexport const QuillContext = createContext<any>(null);\n\nexport const QuillEditor: FC = (props) => {\n  const [QuillActive, setQuillActive] = useState(false);\n  const [quillEditor, setQuillEditor] = useState<any>(null);\n  const [quillX, setQuillX] = useState(0);\n  const [quillY, setQuillY] = useState(0);\n\n  return (\n    <QuillContext.Provider\n      value={{\n        QuillActive,\n        setQuillActive,\n        quillEditor,\n        setQuillEditor,\n        quillX,\n        quillY,\n        setQuillX,\n        setQuillY,\n      }}\n    >\n      {props.children}\n    </QuillContext.Provider>\n  );\n};\n","import { useContext } from 'react';\nimport { QuillContext } from '../Context/Quill.context';\n\nexport const useQuillEditor = () => {\n  const Quill = useContext(QuillContext);\n  return Quill as unknown as {\n    QuillActive: boolean;\n    setQuillActive: (args: boolean) => void;\n    quillEditor: any;\n    setQuillEditor: (args: any) => void;\n    quillX: number;\n    quillY: number;\n    setQuillX: (args: number) => void;\n    setQuillY: (args: number) => void;\n  };\n};\n","import { CKEditor } from '@ckeditor/ckeditor5-react';\nimport { Button, Popconfirm } from 'antd';\nimport ED from 'ckeditor5-custom-build/build/ckeditor';\nimport { useEffect, useMemo } from 'react';\nimport { useCkeditor } from '../../Hooks/Ckeditor.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { Remove, Copy as CopyOperation } from '../../Utils/operations';\nimport { findTextNode } from '../../Utils/findTextNode';\nimport Quill from 'quill';\nimport { useQuillEditor } from '../../Hooks/Quill.hook';\nimport { findUniqueIdentifier } from '../../Utils/closestParent';\nimport { findElementInJson } from '../../Utils/findElementInMjmlJson';\nimport _ from 'lodash';\nimport CopyFilled from '@ant-design/icons/lib/icons/CopyFilled';\nimport DeleteFilled from '@ant-design/icons/lib/icons/DeleteFilled';\nimport { useUniqueIdGenerator } from '../../Hooks/Drag.hook';\nimport { logger } from '../../Utils/logger';\n\nexport const Editor = () => {\n  const { ref, isActive, x, y, delActive, delX, delY, setDelActive, copy } = useCkeditor();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { active, setActive } = useHtmlWrapper();\n  const { QuillActive, quillX, quillY, setQuillEditor, setQuillActive } = useQuillEditor();\n  let { quillEditor } = useQuillEditor();\n  const { copyActive, setCopyActive, copyX, copyY } = copy;\n  const { getId } = useUniqueIdGenerator();\n\n  useEffect(() => {\n    if (quillEditor) {\n      const identifier = findUniqueIdentifier(active, active.classList);\n      quillEditor.on('text-change', () => {\n        const change = quillEditor.container.firstChild.innerHTML;\n        logger.log(change);\n        if (identifier) {\n          let position = findElementInJson(mjmlJson, identifier);\n          if (position) {\n            let [, path] = position;\n            let item = _.get(mjmlJson, path.slice(1));\n            item.content = change;\n            const updated = _.set(mjmlJson, path.slice(1), item);\n            setMjmlJson({ ...updated });\n          }\n        }\n      });\n    }\n    return () => quillEditor && quillEditor.off('text-change');\n  }, [quillEditor]);\n\n  useEffect(() => {\n    if (active && QuillActive) {\n      let textNode = findTextNode(active);\n\n      if (quillEditor) {\n        // previous instance listeners\n        quillEditor.off('text-change');\n      }\n\n      if (textNode) {\n        // fix for QuillWrapper keeps wrapping up an extra div on init\n        while (textNode.parentElement.classList.contains('ql-container') || textNode.hasAttribute('data-gramm')) {\n          textNode = textNode.parentElement;\n        }\n        if (textNode.classList.contains('ql-container')) {\n          textNode.classList.remove('ql-container');\n          textNode.classList.remove('ql-snow');\n        }\n\n        let lquill: any = new Quill(textNode, { theme: 'snow', modules: { toolbar: '#toolbarContainer' } });\n\n        // fix for allowing multiple instances,\n        // on how it works refer, 'https://github.com/quilljs/quill/blob/develop/modules/toolbar.js'\n        // pain \\u{1F63F}\n        lquill.getModule('toolbar').container.childNodes.forEach((element: any) => {\n          const clone = element.cloneNode(true);\n          element.parentNode.replaceChild(clone, element);\n        });\n\n        let toolbar = lquill.getModule('toolbar');\n\n        toolbar.container.childNodes.forEach((input: any) => {\n          toolbar.attach(input);\n        }, toolbar);\n\n        setQuillEditor(lquill);\n        lquill.editor.scroll.domNode.classList.remove('ql-editor');\n\n        // remove clipboard and tooltip\n        lquill.container.children[1].remove();\n        lquill.container.children[1].remove();\n        lquill = undefined;\n      }\n    }\n  }, [active]);\n\n  const deleteConfirm = useMemo(\n    () => () => {\n      if (active) {\n        // setQuillActive(false);\n        Remove({ target: active, mjmlJson, setMjmlJson, setDelActive, setActive, setCopyActive });\n      }\n    },\n    [active]\n  );\n\n  const copyAction = () => {\n    if (active) {\n      CopyOperation({\n        mjmlJson,\n        setActive,\n        setMjmlJson,\n        setCopyActive,\n        setDelActive,\n        target: active,\n        uidGenerator: getId,\n      });\n    }\n  };\n\n  return (\n    <>\n      {/* <div\n        id=\"toolbarContainer\"\n        style={{\n          visibility: QuillActive ? 'visible' : 'hidden',\n          backgroundColor: '#fff',\n          zIndex: 99,\n          position: 'fixed',\n          left: `${quillX}px`,\n          top: `${quillY}px`,\n        }}\n      >\n        <button className=\"ql-bold\"></button>\n        <button className=\"ql-italic\"></button>\n        <button className=\"ql-underline\"></button>\n        <button className=\"ql-script\" value=\"sub\"></button>\n        <button className=\"ql-script\" value=\"super\"></button>\n      </div> */}\n\n      {/* <div\n        key=\"editorContainer\"\n        id=\"editorContainer\"\n        ref={ref}\n        style={{ display: isActive ? 'block' : 'none', position: 'fixed', left: `${x}px`, top: `${y}px` }}\n      >\n        <div key=\"editor\">\n          <CKEditor\n            editor={ED}\n            disabled={false}\n            config={{\n              toolbar: [\n                'fontSize',\n                'fontColor',\n                'FontFamily',\n                'FontBackgroundColor',\n                '|',\n                'heading',\n                '|',\n                'bold',\n                'italic',\n                '|',\n                'undo',\n                'redo',\n                'insertTable',\n              ],\n            }}\n            data={'placement'}\n            onReady={(editor) => {}}\n            onChange={(event, editor) => {}}\n            onBlur={(event, editor) => {}}\n            onFocus={(event, editor) => {}}\n          />\n        </div>\n      </div> */}\n      <Delete\n        style={{\n          zIndex: 200,\n          display: delActive ? 'block' : 'none',\n          position: 'fixed',\n          left: `${delX}px`,\n          top: `${delY}px`,\n        }}\n        deleteConfirm={deleteConfirm}\n      />\n      <Copy\n        onClick={copyAction}\n        style={{\n          zIndex: 200,\n          display: copyActive ? 'block' : 'none',\n          position: 'fixed',\n          left: `${copyX}px`,\n          top: `${copyY}px`,\n        }}\n      />\n    </>\n  );\n};\n\ninterface DeleteProps {\n  style: any;\n  deleteConfirm: () => void;\n}\n\nconst Delete = ({ style, deleteConfirm }: DeleteProps) => {\n  return (\n    <Popconfirm placement=\"right\" title=\"Are you sure ?\" okText=\"Delete\" cancelText=\"Cancel\" onConfirm={deleteConfirm}>\n      <Button style={style} type=\"primary\" icon={<DeleteFilled />} />\n    </Popconfirm>\n  );\n};\n\ninterface CopyProps {\n  style: any;\n  onClick: () => void;\n}\n\nconst Copy = ({ style, onClick }: CopyProps) => {\n  return <Button style={style} onClick={onClick} type=\"primary\" icon={<CopyFilled />} />;\n};\n","import { UndoOutlined, RedoOutlined } from '@ant-design/icons';\nimport { Button, Tooltip } from 'antd';\nimport { UNDOREDO } from '../Utils/undoRedo';\n\ninterface UndoRedoProps {\n  undoCallback: () => void;\n  redoCallback: () => void;\n}\n\nconst UndoRedo = ({ undoCallback, redoCallback }: UndoRedoProps) => {\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        padding: '8px',\n        display: 'flex',\n        flexDirection: 'column',\n        rowGap: '4px',\n        zIndex: 200,\n      }}\n    >\n      <Tooltip mouseEnterDelay={0.5} color=\"cyan\" title=\"undo\" placement=\"right\">\n        <Button\n          disabled={UNDOREDO.isUndoEmpty()}\n          onClick={undoCallback}\n          type=\"default\"\n          size=\"large\"\n          style={{ background: '#fff' }}\n          icon={<UndoOutlined />}\n        />\n      </Tooltip>\n\n      <Tooltip mouseEnterDelay={0.5} color=\"cyan\" title=\"redo\" placement=\"right\">\n        <Button\n          disabled={UNDOREDO.isRedoEmpty()}\n          onClick={redoCallback}\n          type=\"default\"\n          style={{ background: '#fff' }}\n          size=\"large\"\n          icon={<RedoOutlined />}\n        />\n      </Tooltip>\n    </div>\n  );\n};\n\nexport { UndoRedo };\n","import { useEditor } from '../../Hooks/Editor.hook';\nimport mjml2html from 'mjml-browser';\nimport css from './Editor.module.scss';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport { htmlProcessor } from '../../Utils/htmlProcessor';\nimport { Editor } from '../../Components/Mods/Editor';\nimport { Add, Remove } from '../../Utils/operations';\nimport { useDragAndDropUniqueId } from '../../Hooks/Drag.hook';\nimport '../../Assets/Css/ckeditorOverride.css';\nimport '../../Assets/Css/quillOverride.css';\nimport { InlineEditor } from '../../Components/Mods/CustomInlineEditor';\nimport styled from 'styled-components';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { useCkeditor } from '../../Hooks/Ckeditor.hook';\nimport { memo, useCallback, useEffect } from 'react';\nimport { UndoRedo } from '../../Components/UndoRedo';\nimport _ from 'lodash';\nimport { UNDOREDO } from '../../Utils/undoRedo';\nimport { logger } from '../../Utils/logger';\n\ninterface ViewProps {}\n\nconst DesignContainer = styled('div')`\n  .editor-active {\n    :focus {\n      outline: none;\n    }\n  }\n`;\n\nexport const View = (props: ViewProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getId } = useDragAndDropUniqueId();\n  const { setActive, active } = useHtmlWrapper();\n  const {\n    setDelActive,\n    copy,\n    drag: { setIsColumn, isColumn },\n  } = useCkeditor();\n  const { setCopyActive } = copy;\n\n  useEffect(() => {\n    UNDOREDO.print();\n  }, [mjmlJson]);\n\n  const undoCallback = () => {\n    const action = UNDOREDO.undoAction(mjmlJson);\n    if (action) {\n      setMjmlJson({ ...action });\n      setActive(null);\n      setDelActive(false);\n      setCopyActive(false);\n    }\n  };\n  const redoCallback = () => {\n    const action = UNDOREDO.redoAction(mjmlJson);\n    if (action) {\n      setActive(null);\n      setMjmlJson({ ...action });\n      setDelActive(false);\n      setCopyActive(false);\n    }\n  };\n\n  const onDragOver = useCallback(\n    (e: any) => {\n      if (active) {\n        setActive(null);\n      }\n      e.preventDefault();\n    },\n    [setActive, active]\n  );\n\n  const onDrop = (e: any) => {\n    e.preventDefault();\n    isColumn && setIsColumn(false);\n    let config = JSON.parse(e.dataTransfer.getData('config'));\n    if (config && config.mode && config.mode === 'move' && config['config']) {\n      // remove the item old position, before inserting in new position\n      Remove({\n        uniqueClassName: config.uniqueClassName,\n        mjmlJson,\n        setMjmlJson,\n        setActive,\n        setDelActive,\n        setCopyActive,\n        movement: true,\n      });\n      logger.info(`operation move: onDrop -> removed previous instance \n      of config :'${config.uniqueClassName}'`);\n      config = config['config'];\n    }\n    Add({\n      target: e.nativeEvent.target,\n      droppedConfig: config,\n      mjmlJson,\n      setMjmlJson,\n      uid: getId,\n    });\n  };\n\n  return (\n    <Scrollbars style={{ height: '100%' }}>\n      <Editor />\n      <InlineEditor />\n      <UndoRedo undoCallback={undoCallback} redoCallback={redoCallback} />\n      <DesignContainer\n        className={`${css.viewHolder} mjml-wrapper mjml-tag identifier-mj-body`}\n        onDrop={onDrop}\n        onDragOver={onDragOver}\n      >\n        <MjmlProcessor mjml={mjmlJson} isColumn={isColumn} />\n      </DesignContainer>\n    </Scrollbars>\n  );\n};\n\nconst MjmlProcessor = memo(({ mjml, isColumn }: { mjml: any; isColumn: boolean }) => {\n  return mjml && htmlProcessor(mjml2html(mjml).html);\n});\n","import AlignCenterOutlined from '@ant-design/icons/lib/icons/AlignCenterOutlined';\nimport AlignLeftOutlined from '@ant-design/icons/lib/icons/AlignLeftOutlined';\nimport AlignRightOutlined from '@ant-design/icons/lib/icons/AlignRightOutlined';\nimport PicCenterOutlined from '@ant-design/icons/lib/icons/PicCenterOutlined';\nimport { Button, Col, Form, Row, Tooltip } from 'antd';\nimport _ from 'lodash';\nimport { ReactNode } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\n\nconst ATTRIBUTE = 'align';\n\ninterface AlignOptions {\n  title: string;\n  prop: string;\n  component: ReactNode;\n}\n\nconst alignOptions: AlignOptions[] = [\n  { title: 'Left', prop: 'left', component: <AlignLeftOutlined /> },\n  { title: 'Justify', prop: 'justify', component: <PicCenterOutlined /> },\n  { title: 'Center', prop: 'center', component: <AlignCenterOutlined /> },\n  { title: 'Right', prop: 'right', component: <AlignRightOutlined /> },\n];\n\nexport const Align = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { active } = useHtmlWrapper();\n\n  const onClick = (align: string) => {\n    if (active && visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item && item.attributes && item.attributes) {\n        item.attributes['align'] = align;\n        const updated = _.set(mjmlJson, path, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  return visible ? (\n    <Row>\n      <Col flex=\"3\">\n        <Form.Item label=\"Align\"></Form.Item>\n      </Col>\n      <Col flex=\"2\">\n        <Row justify=\"space-between\">\n          {alignOptions.map(({ prop, component, title }, key) => {\n            return (\n              <Col key={key}>\n                <Tooltip title={title}>\n                  <Button onClick={() => onClick(prop)} type=\"ghost\" icon={component} />\n                </Tooltip>\n              </Col>\n            );\n          })}\n        </Row>\n      </Col>\n    </Row>\n  ) : null;\n};\n","import _ from 'lodash';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Form, Input } from 'antd';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEffect, useState } from 'react';\n\nconst ATTRIBUTE = 'border';\n\ninterface BorderProps {\n  activePath?: string;\n  label?: string;\n  attribute_name?: string;\n}\n\nexport const Border = ({ activePath, label, attribute_name }: BorderProps) => {\n  let attributeName = attribute_name || ATTRIBUTE;\n  const [visible, path] = useVisibility({ attribute: attributeName, customPath: activePath });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: attributeName });\n\n  const [value, setValue] = useState('');\n\n  useEffect(() => {\n    if (visible) {\n      setValue(getValue());\n    }\n  }, [visible]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n    if (visible && path && e.target.value) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[attributeName] = e.target.value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <Form.Item label={label ? label : 'Border'}>\n      <Input onChange={handleChange} value={value} onKeyDown={onKeyDown} />\n    </Form.Item>\n  ) : null;\n};\n\nconst onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n  if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n    e.currentTarget.value = '';\n  }\n};\n","import _ from 'lodash';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Form, Input } from 'antd';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\n\nconst ATTRIBUTE = 'border-radius';\n\ninterface BorderRadiusProps {\n  activePath?: string;\n}\n\nexport const BorderRadius = ({ activePath }: BorderRadiusProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE, customPath: activePath });\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (visible && e.target.value) {\n      if (e.target.value === '') {\n        e.target.value = 'none';\n      }\n      setValue(e.currentTarget.value);\n    }\n  };\n\n  const setValue = (value: string) => {\n    if (path) {\n      if (value === '') {\n        value = 'none';\n      }\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = value;\n      const json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n      e.currentTarget.value = '';\n    }\n\n    if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {\n      e.preventDefault();\n      if (visible) {\n        const attributes = _.get(mjmlJson, path + 'attributes');\n        let value = attributes['border-radius'];\n        const re = new RegExp(/^\\d+/);\n        const match = re.exec(value);\n        let matchedValue = match ? parseInt(match[0]) : 0;\n        if (e.key === 'ArrowUp') {\n          value = value.replace(/^\\d+/, matchedValue + 1);\n        } else if (e.key === 'ArrowDown' && matchedValue > 0) {\n          value = value.replace(/^\\d+/, matchedValue - 1);\n        }\n        e.currentTarget.value = value;\n        setValue(value);\n      }\n    }\n  };\n\n  let value = '';\n  if (visible) {\n    value = _.get(mjmlJson, path + 'attributes.border-radius');\n  }\n\n  return visible ? (\n    <Form.Item label=\"Border Radius\">\n      <Input onChange={handleChange} value={value} onKeyDown={onKeyDown} />\n    </Form.Item>\n  ) : null;\n};\n","import _ from 'lodash';\nimport styled from 'styled-components';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Form, Row } from 'antd';\nimport { ChromePicker } from 'react-color';\nimport { useEffect, useState } from 'react';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { logger } from '../../Utils/logger';\n\nconst ATTRIBUTE = 'container-background-color';\n\nexport const ContainerBackground = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [active, setActive] = useState(() => false);\n  const [color, setColor] = useState(() => '#ccc');\n  const { active: clicked } = useHtmlWrapper();\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n\n  useEffect(() => {\n    if (clicked && visible) {\n      try {\n        if (path) {\n          let item = _.get(mjmlJson, path);\n          if (item.mutableProperties.includes(ATTRIBUTE)) {\n            setColor(item.attributes[ATTRIBUTE]);\n          }\n        }\n      } catch (e) {\n        logger.info('got exception, hiding background mod', e);\n      }\n    }\n  }, [clicked]);\n\n  const handleColorChange = (color: any) => {\n    const hexCode = `${color.hex}${decimalToHex(color.rgb.a)}`;\n    setColor(hexCode);\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      element.attributes['container-background-color'] = hexCode;\n      let json = _.set(mjmlJson, path, element);\n\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <>\n      <Row>\n        <Col flex=\"auto\">\n          <Form.Item label=\"Container Background\"></Form.Item>\n        </Col>\n\n        <ColorPicker color={color} flex=\"none\">\n          <div className=\"swatch\" onClick={() => setActive(true)}>\n            <div className=\"color\"></div>\n          </div>\n          {active ? (\n            <div className=\"popover\">\n              <div className=\"cover\" onClick={() => setActive(false)}></div>\n              <ChromePicker disableAlpha={false} color={color} onChange={(color: any) => handleColorChange(color)} />\n            </div>\n          ) : null}\n        </ColorPicker>\n      </Row>\n    </>\n  ) : null;\n};\n\nconst decimalToHex = (alpha: number) => (alpha === 0 ? '00' : Math.round(255 * alpha).toString(16));\n\nconst ColorPicker = styled(Col)`\n  .color {\n    width: 25px;\n    height: 25px;\n    border-radius: 2px;\n    background: ${(props) => props.color};\n  }\n  .swatch {\n    padding: 5px;\n    background: #fff;\n    border-radius: 1px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .popover {\n    position: absolute;\n    z-index: 2;\n    top: -108px;\n    left: -200px;\n  }\n\n  .cover {\n    position: fixed;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n  }\n`;\n","import { useVisibility } from '../../Hooks/Attribute.hook';\nimport { Form, Input } from 'antd';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { ChangeEvent, useEffect, useState } from 'react';\nimport _ from 'lodash';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\n\nconst PROPERTY = 'content';\n\nexport const Content = () => {\n  const [visible, path] = useVisibility({ property: PROPERTY });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState('');\n  const [isReadOnly, setIsReadOnly] = useState<boolean | null>(null);\n  const [htmlBlock, setHtmlBlock] = useState(false);\n  const { active } = useHtmlWrapper();\n\n  useEffect(() => {\n    if (visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item) {\n        setValue(item.content ? item.content : '');\n\n        // maintain read only state for some attributes\n        if (item.tagName === 'mj-text') {\n          if (item.attributes && item.attributes['css-class'] && item.attributes['css-class'].includes('html-block')) {\n            setIsReadOnly(false);\n            setHtmlBlock(true);\n            return;\n          }\n          setIsReadOnly(true);\n        } else {\n          setIsReadOnly(false);\n        }\n        setHtmlBlock(false);\n      }\n    }\n  }, [visible, path]);\n\n  const handleChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\n    let value = e.currentTarget.value;\n    setValue(value);\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      // while in middle of editing, if the element is removed.\n      if (element) {\n        if (element[PROPERTY] !== value) {\n          element[PROPERTY] = value;\n          const updated = _.set(mjmlJson, path, element);\n          setMjmlJson({ ...updated });\n        }\n      }\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"Content\">\n      {htmlBlock ? (\n        <Input.TextArea rows={28} onChange={handleChange} value={value} />\n      ) : (\n        <Input.TextArea\n          disabled={isReadOnly ? isReadOnly : false}\n          readOnly={isReadOnly ? isReadOnly : false}\n          rows={3}\n          onChange={handleChange}\n          value={value}\n        />\n      )}\n    </Form.Item>\n  ) : null;\n};\n","import _ from 'lodash';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Form, Input, Row, Col } from 'antd';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\n\ninterface CordinalBorderProps {\n  activePath?: string;\n}\nexport const CordinalBorder = ({ activePath }: CordinalBorderProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [visible, path] = useVisibility({ attribute: 'border-top', customPath: activePath });\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>, direction: string) => {\n    if (visible && path && e.target.value) {\n      if (e.target.value === '') {\n        e.target.value = '';\n      }\n      setValue(direction, e.target.value);\n    }\n  };\n\n  const setValue = (direction: string, value: string) => {\n    if (path) {\n      if (value === '') {\n        value = 'none';\n      }\n      let element = _.get(mjmlJson, path);\n      element.attributes[`border-${direction}`] = value;\n      const json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>, direction: string) => {\n    if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n      e.currentTarget.value = '';\n    }\n\n    if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {\n      e.preventDefault();\n      if (visible) {\n        const attributes = _.get(mjmlJson, path + 'attributes');\n        let value = attributes['border-' + direction];\n        const re = new RegExp(/^\\d+/);\n        const match = re.exec(value);\n        let matchedValue = match ? parseInt(match[0]) : 0;\n        if (e.key === 'ArrowUp') {\n          value = value.replace(/^\\d+/, matchedValue + 1);\n        } else if (e.key === 'ArrowDown' && matchedValue > 0) {\n          value = value.replace(/^\\d+/, matchedValue - 1);\n        }\n        e.currentTarget.value = value;\n\n        setValue(direction, e.currentTarget.value);\n      }\n    }\n  };\n\n  let [valuel, valuer, valueb, valuet] = ['', '', '', ''];\n  if (visible) {\n    valuel = _.get(mjmlJson, path + 'attributes.border-left');\n    valuer = _.get(mjmlJson, path + 'attributes.border-right');\n    valuet = _.get(mjmlJson, path + 'attributes.border-top');\n    valueb = _.get(mjmlJson, path + 'attributes.border-bottom');\n  }\n\n  return visible ? (\n    <Form.Item label=\"Border Directions\">\n      <Input.Group style={{ marginBottom: '6px' }}>\n        <Row>\n          <Col span={11} offset={0}>\n            <Input\n              addonBefore=\"top\"\n              onKeyDown={(e) => onKeyDown(e, 'top')}\n              onChange={(e) => handleChange(e, 'top')}\n              value={valuet}\n            />\n          </Col>\n          <Col span={11} offset={2}>\n            <Input\n              addonBefore=\"right\"\n              onKeyDown={(e) => onKeyDown(e, 'right')}\n              onChange={(e) => handleChange(e, 'right')}\n              value={valuer}\n            />\n          </Col>\n        </Row>\n      </Input.Group>\n      <Input.Group>\n        <Row>\n          <Col span={11} offset={0}>\n            <Input\n              addonBefore=\"bottom\"\n              onKeyDown={(e) => onKeyDown(e, 'bottom')}\n              onChange={(e) => handleChange(e, 'bottom')}\n              value={valueb}\n            />\n          </Col>\n\n          <Col span={11} offset={2}>\n            <Input\n              addonBefore=\"left\"\n              onKeyDown={(e) => onKeyDown(e, 'left')}\n              onChange={(e) => handleChange(e, 'left')}\n              value={valuel}\n            />\n          </Col>\n        </Row>\n      </Input.Group>\n    </Form.Item>\n  ) : null;\n};\n","import { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { Form, Input } from 'antd';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { ChangeEvent } from 'react';\nimport _ from 'lodash';\n\nconst ATTRIBUTE = 'font-size';\n\nexport const FontSize = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    let value = e.currentTarget.value;\n    if (path && visible) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"FontSize\">\n      <Input onChange={handleChange} value={getValue()} />\n    </Form.Item>\n  ) : null;\n};\n","import _ from 'lodash';\nimport { ChangeEvent } from 'react';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Input, Row } from 'antd';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\n\nconst ATTRIBUTE = 'src';\n\nconst Img = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n  //todo: check if changing directly to mjmlJson causes perfomance impact\n  //   if so, then maintain a local state, then on change change the value first,\n  //   then by using useeffect listen for the in localvalue, then update the mjmlJson.\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    let value = e.currentTarget.value;\n    if (path && visible) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <Row>\n      <Col span={24}>\n        <Input addonBefore=\"src\" onChange={(e) => handleChange(e)} value={getValue()} />\n      </Col>\n    </Row>\n  ) : null;\n};\n\nexport { Img };\n","import { Form, Input } from 'antd';\nimport _ from 'lodash';\nimport { ChangeEvent, useEffect, useState } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { logger } from '../../Utils/logger';\nimport { UpdateValue } from '../../Utils/operations';\n\nconst ATTRIBUTE = 'inner-padding';\n\nconst InnerPadding = () => {\n  let [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState<string>();\n\n  useEffect(() => {\n    if (visible && path) {\n      const item = _.get(mjmlJson, path);\n      if (item && item.attributes && item.attributes[ATTRIBUTE]) {\n        setValue(item.attributes[ATTRIBUTE]);\n      }\n    }\n  }, [visible, path]);\n\n  useEffect(() => {\n    value && UpdateValue({ visible, path, mjmlJson, setMjmlJson, value, attribute: ATTRIBUTE });\n  }, [value]);\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const value = e.currentTarget.value;\n    logger.log('inner padding value', value);\n    if (path && visible) {\n      setValue(value);\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"Inner Padding :\">\n      <Input onChange={handleChange} type=\"text\" value={value} />\n    </Form.Item>\n  ) : null;\n};\n\nexport { InnerPadding };\n","import { Form, Input, Row, Col } from 'antd';\nimport _ from 'lodash';\nimport { ChangeEvent, useMemo } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\n\ninterface PaddingProps {\n  activePath?: string;\n}\n\nconst Padding = ({ activePath }: PaddingProps) => {\n  let [visible, path, active] = useVisibility({ attribute: 'padding', customPath: activePath });\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>, direction: string) => {\n    if (e.currentTarget.value === '') {\n      e.currentTarget.value = '0';\n    }\n    // if (!value.includes('px')) {\n    //   e.currentTarget.value = `${value}px`;\n    // }\n    setPadding(direction, e.currentTarget.value);\n  };\n\n  const setPadding = useMemo(\n    () => (direction: string, value: string) => {\n      if (path && visible) {\n        let json = {};\n\n        if (direction) {\n          let element = _.get(mjmlJson, path);\n          element.attributes[`padding-${direction}`] = value;\n          json = _.set(mjmlJson, path, element);\n          setMjmlJson({ ...json });\n        }\n      }\n    },\n    [visible, path]\n  );\n\n  //todo: optimize this function, move to useEffect, useState.\n  // its being called on every hover event.\n  const getValue = (direction: string) => {\n    let value = '';\n    //todo: debug why removing active causes crash  getValue:{@mods/pad..tsx}\n    // move it to useeffect later\n    if (path && visible && active) {\n      let element = _.get(mjmlJson, path);\n      if (!element) {\n        return;\n      }\n      value = element.attributes ? element.attributes[`padding-${direction}`] : null;\n      if (!value) {\n        value = element.attributes['padding'];\n        if (value) {\n          const [vertical, horizontal] = value.split(' ');\n          switch (direction) {\n            case 'top':\n            case 'bottom':\n              return vertical;\n            case 'left':\n            case 'right':\n              return horizontal;\n          }\n        }\n      }\n    }\n    return value;\n  };\n\n  return visible ? (\n    <Form.Item label=\"Padding :\">\n      <Input.Group style={{ marginBottom: '6px' }}>\n        <Row>\n          <Col span={11} offset={0}>\n            <Input addonBefore=\"top\" onChange={(e) => handleChange(e, 'top')} value={getValue('top')} />\n          </Col>\n          <Col span={11} offset={2}>\n            <Input addonBefore=\"right\" onChange={(e) => handleChange(e, 'right')} value={getValue('right')} />\n          </Col>\n        </Row>\n      </Input.Group>\n      <Input.Group>\n        <Row>\n          <Col span={11} offset={0}>\n            <Input addonBefore=\"bottom\" onChange={(e) => handleChange(e, 'bottom')} value={getValue('bottom')} />\n          </Col>\n\n          <Col span={11} offset={2}>\n            <Input addonBefore=\"left\" onChange={(e) => handleChange(e, 'left')} value={getValue('left')} />\n          </Col>\n        </Row>\n      </Input.Group>\n    </Form.Item>\n  ) : null;\n};\n\nexport { Padding };\n","import { Row } from 'antd';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useCkeditor } from '../Hooks/Ckeditor.hook';\nimport { useCustomEditorStatus } from '../Hooks/CustomEditor.hook';\nimport { useDragAndDropUniqueId } from '../Hooks/Drag.hook';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../Hooks/Htmlwrapper.hook';\nimport { generateUniqueIdRecursively } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { findSectionOfElement } from '../Utils/findElementsParent';\nimport { logger } from '../Utils/logger';\nimport { UNDOREDO } from '../Utils/undoRedo';\nimport { COLUMN } from './Section';\n\nconst style = {\n  display: 'flex',\n  height: '16px',\n  borderRadius: '0px',\n};\n\nconst borderRight = '1px solid rgb(85, 85, 85)';\n\nconst ColumnSelector = () => {\n  const { active } = useHtmlWrapper();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const {\n    setDelActive,\n    copy: { setCopyActive },\n  } = useCkeditor();\n  const { setActive: setCustomEditorActive } = useCustomEditorStatus();\n  const { getId } = useDragAndDropUniqueId();\n  const [visible, setVisible] = useState(false);\n  const [sectionIdentifier, setSectionIdentifier] = useState();\n\n  useEffect(() => {\n    if (active) {\n      const section = findSectionOfElement(active);\n      if (section) {\n        const [, uniqueIdentifier] = section;\n        setVisible(true);\n        setSectionIdentifier(uniqueIdentifier);\n        return;\n      }\n    }\n    setVisible(false);\n  }, [active, visible]);\n\n  const handleClick = (changeTo: string[]) => {\n    if (visible && sectionIdentifier) {\n      const find = findElementInJson(mjmlJson, sectionIdentifier);\n      if (find) {\n        const [item, path] = find;\n        if (item && path && item.children && changeTo.length > 0) {\n          const existingLength = item.children.length;\n          const convertLength = changeTo.length;\n          if (convertLength < existingLength) {\n            // todo: implement getconfirmation, that user is about to delete a column\n          }\n          let newChildren = [];\n\n          // iterate over existing children\n          for (let i = 0; i < existingLength && i < convertLength; i++) {\n            let child = _.cloneDeep(item.children[i]);\n            if (child && child.attributes) {\n              // modify width attribute, add it to newChildren\n              child.attributes.width = changeTo[i];\n              newChildren.push(child);\n            }\n          }\n\n          //iterate over new children\n          for (let i = existingLength; i < convertLength; i++) {\n            let preProcessedColumn = generateUniqueIdRecursively(_.cloneDeep(COLUMN), getId);\n            preProcessedColumn.attributes.width = changeTo[i];\n            newChildren.push(preProcessedColumn);\n          }\n\n          // update children\n          const updatedItem = { ...item, children: newChildren };\n\n          //update json\n          logger.log('column layout: ', updatedItem);\n\n          const updated = _.set(mjmlJson, path.slice(1), updatedItem);\n\n          if (updated) {\n            UNDOREDO.newAction(updated);\n            setDelActive(false);\n            setCopyActive(false);\n            setCustomEditorActive(false);\n            setMjmlJson({ ...updated });\n          }\n        }\n      }\n    }\n  };\n\n  return visible ? (\n    <>\n      <div>\n        <SectionTitle>\n          <p>1 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['100%'])} one={100} />\n      </div>\n      <div style={{ marginTop: '16px' }}>\n        <SectionTitle>\n          <p>2 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['50%', '50%'])} one={50} two={50} />\n        <Image click={() => handleClick(['39%', '59%'])} one={40} two={60} />\n        <Image click={() => handleClick(['25%', '75%'])} one={25} two={75} />\n        <Image click={() => handleClick(['60%', '40%'])} one={60} two={40} />\n        <Image click={() => handleClick(['75%', '25%'])} one={75} two={25} />\n      </div>\n      <div style={{ marginTop: '16px' }}>\n        <SectionTitle>\n          <p>3 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['33%', '33%', '33%'])} one={50} two={50} three={50} />\n        <Image click={() => handleClick(['47.5%', '5%', '47.5%'])} one={47.5} two={5} three={47.5} />\n        <Image click={() => handleClick(['25%', '25%', '50%'])} one={25} two={25} three={50} />\n        <Image click={() => handleClick(['25%', '50%', '25%'])} one={25} two={50} three={25} />\n        <Image click={() => handleClick(['50%', '25%', '25%'])} one={50} two={25} three={25} />\n      </div>\n      <div style={{ marginTop: '16px' }}>\n        <SectionTitle>\n          <p>4 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['25%', '25%', '25%', '25%'])} one={50} two={50} three={50} four={50} />\n      </div>\n    </>\n  ) : (\n    <div style={{ textAlign: 'center' }}>Select an item inside the body</div>\n  );\n};\n\nconst Image = ({\n  click,\n  one,\n  two,\n  three,\n  four,\n}: {\n  click?: (e: any) => void;\n  one: number;\n  two?: number;\n  three?: number;\n  four?: number;\n}) => {\n  return (\n    <>\n      <Row style={{ marginBottom: '12px' }}></Row>\n      <SectionImage onClick={click ? click : undefined}>\n        <div className=\"wrapper\">\n          <div className=\"border\">\n            <div style={{ ...style, flexGrow: one, borderRight: two ? borderRight : 'unset' }}></div>\n            {two ? <div style={{ ...style, flexGrow: two, borderRight: three ? borderRight : 'unset' }}></div> : null}\n            {three ? (\n              <div style={{ ...style, flexGrow: three, borderRight: four ? borderRight : 'unset' }}></div>\n            ) : null}\n            {four ? <div style={{ ...style, flexGrow: two }}></div> : null}\n          </div>\n        </div>\n      </SectionImage>\n    </>\n  );\n};\n\nconst SectionTitle = styled(Row)`\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n  p {\n    margin: 0px;\n    text-align: inherit;\n    color: rgb(85, 85, 85);\n    font-size: 14px;\n    font-weight: 600;\n  }\n`;\n\nconst SectionImage = styled(Row)`\n  background-color: rgb(252, 252, 252);\n  border: 1px solid rgb(229, 229, 229);\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: flex;\n  box-shadow: none;\n  cursor: grab;\n\n  &:hover {\n    background-color: rgb(255, 255, 255);\n    box-shadow: rgb(0 0 0 / 20%) 0px 1px 4px;\n    border-color: rgb(255, 255, 255);\n  }\n\n  .wrapper {\n    margin: 10px;\n    background-color: rgb(255, 255, 255);\n    position: relative;\n    width: 100%;\n    display: flex;\n    border-radius: 3px;\n    box-sizing: border-box;\n\n    .border {\n      border: 1px solid rgb(85, 85, 85);\n      border-radius: 3px;\n      display: flex;\n      -webkit-box-align: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n    }\n  }\n`;\n\nexport { ColumnSelector };\n","import { Form, Select } from 'antd';\nimport _ from 'lodash';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useFonts } from '../../Hooks/useFonts';\n\nconst ATTRIBUTE = 'font-family';\n\nconst { Option } = Select;\n\nexport const FontFamily = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n  const [fontlist, fontvalue] = useFonts();\n\n  const handleChange = (value: string) => {\n    if (visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item) {\n        item.attributes['font-family'] = value;\n        const updated = _.set(mjmlJson, path, item);\n        if (updated) {\n          setMjmlJson({ ...updated });\n        }\n      }\n    }\n  };\n\n  let value = '';\n\n  if (visible && path) {\n    value = getValue();\n    if (value && value.indexOf(',') > -1) {\n      value = value.split(',')[0];\n    }\n  }\n\n  return visible ? (\n    <Form.Item label=\"Font Family\">\n      <Select value={fontvalue} onChange={handleChange}>\n        {fontlist.map((name: string) => {\n          return (\n            <Option key={name} value={name}>\n              {name}\n            </Option>\n          );\n        })}\n      </Select>\n    </Form.Item>\n  ) : null;\n};\n","import { Button, Col, Form, Row, Tooltip } from 'antd';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport {\n  VerticalAlignTopOutlined,\n  VerticalAlignMiddleOutlined,\n  VerticalAlignBottomOutlined,\n} from '@ant-design/icons/lib/icons/';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport _ from 'lodash';\n\nconst ATTRIBUTE = 'vertical-align';\n\ninterface VerticalAlignProps {\n  activePath?: string;\n}\n\nexport const VerticalAlign = ({ activePath }: VerticalAlignProps) => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE, customPath: activePath });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { active } = useHtmlWrapper();\n\n  const onClick = (value: string) => {\n    if (active && visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item && item.attributes) {\n        item.attributes[ATTRIBUTE] = value;\n        const updated = _.set(mjmlJson, path, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  return visible ? (\n    <Row>\n      <Col flex=\"auto\">\n        <Form.Item label=\"Vertical Align\"></Form.Item>\n      </Col>\n      <Col>\n        <Row justify=\"space-between\" gutter={[16, 0]}>\n          <Tooltip title=\"Top\">\n            <Button onClick={() => onClick('top')} type=\"ghost\" icon={<VerticalAlignTopOutlined />} />\n          </Tooltip>\n\n          <Col>\n            <Tooltip\n              placement=\"left\"\n              title=\"Middle :Note: all columns in section must be set to middle, for this to work.\"\n            >\n              <Button onClick={() => onClick('middle')} type=\"ghost\" icon={<VerticalAlignMiddleOutlined />} />\n            </Tooltip>\n          </Col>\n\n          <Col>\n            <Tooltip title=\"Bottom\">\n              <Button onClick={() => onClick('bottom')} type=\"ghost\" icon={<VerticalAlignBottomOutlined />} />\n            </Tooltip>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  ) : null;\n};\n","import { Col, Form, Row, Input } from 'antd';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\n\nconst URL = 'background-url';\nconst SIZE = 'background-size';\nconst REPEAT = 'background-repeat';\n\nconst BackgroundImage = () => {\n  const [url, setUrl] = useState<string>('');\n  const [size, setSize] = useState<string>('');\n  const [repeat, setRepeat] = useState<string>('');\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const [urlVisibility, urlPath] = useVisibility({ attribute: URL });\n  const [sizeVisibility, sizePath] = useVisibility({ attribute: SIZE });\n  const [repeatVisiblity, repeatPath] = useVisibility({ attribute: REPEAT });\n\n  useEffect(() => {\n    if (mjmlJson) {\n      if (urlVisibility) {\n        const item = _.get(mjmlJson, urlPath);\n        item && setUrl(item.attributes[URL]);\n      }\n      if (sizeVisibility) {\n        const item = _.get(mjmlJson, sizePath);\n        item && setSize(item.attributes[SIZE]);\n      }\n      if (repeatVisiblity) {\n        const item = _.get(mjmlJson, repeatPath);\n        item && setRepeat(item.attributes[REPEAT]);\n      }\n    }\n  }, [urlVisibility, sizeVisibility, repeatVisiblity]);\n\n  if (urlVisibility === false && sizeVisibility === false && repeatVisiblity === false) {\n    return null;\n  }\n\n  const onChangeUrl = (e: any) => {\n    setUrl(e.target.value);\n    if (urlVisibility && urlPath && e.target.value) {\n      let item = _.get(mjmlJson, urlPath);\n      if (item && item.attributes) {\n        item.attributes[URL] = e.target.value;\n        const updated = _.set(mjmlJson, urlPath, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  const onChangeSize = (e: any) => {\n    setSize(e.target.value);\n    if (sizeVisibility && sizePath && e.target.value) {\n      let item = _.get(mjmlJson, urlPath);\n      if (item && item.attributes) {\n        item.attributes[SIZE] = e.target.value;\n        const updated = _.set(mjmlJson, sizePath, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  const onChangeRepeat = (e: any) => {\n    setRepeat(e.target.value);\n    if (repeatVisiblity && repeatPath && e.target.value) {\n      let item = _.get(mjmlJson, urlPath);\n      if (item && item.attributes) {\n        item.attributes[REPEAT] = e.target.value;\n        const updated = _.set(mjmlJson, repeatPath, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  return (\n    <Form.Item label=\"Background Image:\">\n      <Input.Group>\n        <Row gutter={[0, 4]}>\n          {urlVisibility ? (\n            <Col span={24}>\n              <Input addonBefore=\"url\" onChange={onChangeUrl} value={url} />\n            </Col>\n          ) : null}\n          {sizeVisibility ? (\n            <Col span={24}>\n              <Input\n                addonBefore=\"size\"\n                onChange={onChangeSize}\n                value={size}\n                placeholder=\"px/percent/'cover'/'contain'\"\n              />\n            </Col>\n          ) : null}\n          {repeatVisiblity ? (\n            <Col span={24}>\n              <Input addonBefore=\"repeat\" onChange={onChangeRepeat} value={repeat} placeholder=\"repeat\" />\n            </Col>\n          ) : null}\n        </Row>\n      </Input.Group>\n    </Form.Item>\n  );\n};\n\nexport { BackgroundImage };\n","import styled from 'styled-components';\nimport { Tabs } from 'antd';\nimport { UNDOREDO } from '../Utils/undoRedo';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../Hooks/Htmlwrapper.hook';\nimport { useEffect, useState } from 'react';\nimport { findSectionOfElement } from '../Utils/findElementsParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { Background } from './Mods/Background';\nimport { Width } from './Mods/WidthHeight';\nimport { Padding } from './Mods/Paddings';\nimport { VerticalAlign } from './Mods/VerticalAlign';\nimport { Border } from './Mods/Border';\nimport { CordinalBorder } from './Mods/CordinalBorder';\nimport { BorderRadius } from './Mods/BorderRadius';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport _ from 'lodash';\n\nconst { TabPane } = Tabs;\nconst CustomTabs = styled(Tabs)`\n  .ant-tabs-tab {\n    padding-top: 0px;\n  }\n  .ant-tabs-content {\n    height: 100%;\n  }\n\n  .mods {\n    padding: 24px 16px;\n    padding-top: 4px;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .ant-row {\n    margin-bottom: 8px;\n  }\n`;\n\nconst ColumnAttributes = () => {\n  const { mjmlJson } = useEditor();\n  const { active } = useHtmlWrapper();\n  const [columns, setActiveColumns] = useState<any>([]);\n\n  useEffect(() => {\n    if (active) {\n      const section = findSectionOfElement(active);\n      if (section) {\n        const [, uniqueSectionIdentifier] = section;\n        const find = findElementInJson(mjmlJson, uniqueSectionIdentifier);\n        if (find) {\n          let [item, path] = find;\n          path = path.slice(1);\n\n          if (item && item.children && item.children.length > 0) {\n            let _columns = [];\n            for (var i = 0; i < item.children.length; i++) {\n              if (item.children[i].tagName === 'mj-column') {\n                _columns.push(`${path}.children[${i}]`);\n              }\n            }\n            if (!_.isEqual(columns, _columns)) {\n              setActiveColumns(_columns);\n            }\n            return;\n          }\n        }\n      }\n    }\n    setActiveColumns([]);\n  }, [active]);\n\n  return active && columns.length > 0 ? (\n    <CustomTabs\n      centered\n      tabBarGutter={2}\n      defaultActiveKey=\"0\"\n      style={{ height: '100%' }}\n      destroyInactiveTabPane={false}\n    >\n      {columns &&\n        columns.map((column: any, index: number) => {\n          return (\n            <TabPane tab={`column ${index + 1}`} key={index}>\n              <Scrollbars style={{ height: '100%' }} autoHide={true}>\n                <div\n                  className=\"mods\"\n                  onMouseDown={(e) => {\n                    UNDOREDO.newAction(mjmlJson);\n                  }}\n                  onBlur={(e) => {\n                    UNDOREDO.newAction(mjmlJson);\n                  }}\n                >\n                  <Width activePath={column} />\n                  <VerticalAlign activePath={column} />\n                  <Padding activePath={column} />\n\n                  <Background activePath={column} />\n                  <Background\n                    label={'Inner Background:'}\n                    overrideAttribute=\"inner-background-color\"\n                    activePath={column}\n                  />\n                  <BorderRadius activePath={column} />\n                  <Border activePath={column} />\n                  <CordinalBorder activePath={column} />\n                </div>\n              </Scrollbars>\n            </TabPane>\n          );\n        })}\n    </CustomTabs>\n  ) : (\n    <div style={{ textAlign: 'center', marginTop: '24px' }}>Select an item inside the body</div>\n  );\n};\n\nexport { ColumnAttributes };\n","import { Col, Input, Row } from 'antd';\nimport FormItem from 'antd/lib/form/FormItem';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\n\nconst ATTRIBUTE = 'line-height';\n\nconst LineHeight = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState<string>('100%');\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n\n  useEffect(() => {\n    if (visible && path) {\n      let value = getValue();\n      setValue(value);\n    }\n  }, [visible, path]);\n\n  const onChange = (e: any) => {\n    setValue(e.target.value);\n    if (visible && path && e && e.target) {\n      if (typeof e.target.value === 'number' && e.target.value < 0) {\n        e.target.value = 0;\n      }\n      SetValue(e.target.value.toString(), path, mjmlJson, setMjmlJson);\n    }\n  };\n\n  const addonBeforeClick = () => {\n    changeValue(visible, value, mjmlJson, path, setValue, setMjmlJson, 'dec');\n  };\n\n  const addonAfterClick = () => {\n    changeValue(visible, value, mjmlJson, path, setValue, setMjmlJson, 'inc');\n  };\n\n  return visible ? (\n    <FormItem>\n      <Row>\n        <Col flex=\"auto\">Line Height:</Col>\n\n        <Col flex=\"none\">\n          <IncrementDecrementInput\n            onChange={onChange}\n            addonBefore={<span onClick={addonBeforeClick}>-</span>}\n            addonAfter={<span onClick={addonAfterClick}>+</span>}\n            value={value}\n            style={{ width: `${value ? value.toString().length + 12 : 12}ch ` }}\n          />\n        </Col>\n      </Row>\n    </FormItem>\n  ) : null;\n};\n\nconst IncrementDecrementInput = styled(Input)`\n  .ant-input-group-addon {\n    cursor: pointer;\n    user-select: none;\n    padding:0px;\n    &:hover {\n      color: #40a9ff;\n    }\n    span{\n        padding 0 11px;\n    }\n  }\n`;\n\nconst changeValue = (\n  visible: boolean | null,\n  value: string,\n  mjmlJson: any,\n  path: string,\n  setValue: (arg: string) => void,\n  setMjmlJson: (arg: any) => void,\n  type: 'inc' | 'dec'\n) => {\n  if (visible && value) {\n    let existingValue: string | number = value;\n    let copy = value;\n    let increment;\n    if (existingValue.includes('%')) {\n      increment = type === 'inc' ? +10 : -10;\n      existingValue = existingValue.split('%')[0];\n      existingValue = parseInt(existingValue);\n    } else {\n      increment = type === 'inc' ? +1 : -1;\n      existingValue = parseInt(existingValue);\n    }\n    const toSearch = existingValue;\n    let valueIncrementNumber = Math.max(existingValue + increment, 0);\n    const valueToSet = copy.replace(toSearch.toString(), valueIncrementNumber.toString());\n    setValue(valueToSet);\n    SetValue(valueToSet.toString(), path, mjmlJson, setMjmlJson);\n  }\n};\n\nconst SetValue = (valueToSet: string, path: string, mjmlJson: any, setMjmlJson: (arg: any) => void) => {\n  let item = _.get(mjmlJson, path);\n  if (item) {\n    if (item.attributes) {\n      item.attributes[ATTRIBUTE] = valueToSet;\n      const updated = _.set(mjmlJson, path, item);\n      if (updated) {\n        setMjmlJson({ ...updated });\n      }\n    }\n  }\n};\n\nexport { LineHeight };\n","import { Scrollbars } from 'react-custom-scrollbars-2';\nimport { Align } from '../../Components/Mods/Align';\nimport { Background } from '../../Components/Mods/Background';\nimport { Border } from '../../Components/Mods/Border';\nimport { BorderRadius } from '../../Components/Mods/BorderRadius';\nimport { ContainerBackground } from '../../Components/Mods/ContainerBackground';\nimport { Content } from '../../Components/Mods/Content';\nimport { CordinalBorder } from '../../Components/Mods/CordinalBorder';\nimport { FontSize } from '../../Components/Mods/FontSize';\nimport { Img } from '../../Components/Mods/Img';\nimport { InnerPadding } from '../../Components/Mods/InnerPadding';\nimport { Link } from '../../Components/Mods/Link';\nimport { Padding } from '../../Components/Mods/Paddings';\nimport { Height, Width } from '../../Components/Mods/WidthHeight';\nimport styled from 'styled-components';\nimport css from './Editor.module.scss';\nimport { Drawer, Tabs } from 'antd';\nimport { ColumnSelector } from '../../Components/ColumnSelector';\nimport { FontFamily } from '../../Components/Mods/FontFamily';\nimport { UNDOREDO } from '../../Utils/undoRedo';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { VerticalAlign } from '../../Components/Mods/VerticalAlign';\nimport { BackgroundImage } from '../../Components/Mods/BackgroundImage';\nimport { ColumnAttributes } from '../../Components/ColumnAttributes';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { useEffect, useRef, useState } from 'react';\nimport { LineHeight } from '../../Components/Mods/LineHeight';\nimport { BodyAttributes } from '../../Components/BodyAttributes';\n\nconst { TabPane } = Tabs;\n\nconst CustomTabs = styled(Tabs)`\n  .ant-tabs-content {\n    height: 100%;\n  }\n  .ant-tabs-tab {\n    padding: 8px 16px !important;\n  }\n  .ant-tabs-tabpane {\n    padding-right: 0px !important;\n  }\n`;\n\nexport const Attributes = () => {\n  const { mjmlJson } = useEditor();\n  const { active } = useHtmlWrapper();\n  const [isColumn, setIsColumn] = useState(false);\n\n  useEffect(() => {\n    if (active && active.classList && active.className.includes('mj-column')) {\n      setIsColumn(true);\n    }\n    isColumn && setIsColumn(false);\n  }, [active]);\n\n  return (\n    <CustomTabs\n      tabPosition=\"right\"\n      defaultActiveKey=\"2\"\n      style={{ height: '100%' }}\n      destroyInactiveTabPane={true}\n      title={'Attributes'}\n      size=\"small\"\n      tabBarGutter={1}\n    >\n      {/* <TabPane tab=\"Attributes\" key=\"1\">\n        <Scrollbars style={{ height: '100%' }} autoHide={true}>\n          <div\n            className={css.mods}\n            onMouseDown={(e) => {\n              UNDOREDO.newAction(mjmlJson);\n            }}\n            onBlur={(e) => {\n              UNDOREDO.newAction(mjmlJson);\n            }}\n          >\n            {isColumn ? (\n              <div style={{ textAlign: 'center' }}>\n                The selected Item is a Column, to modify properties <h2> check \"Column Properties\" Tab</h2>\n              </div>\n            ) : (\n              <>\n                <Width />\n                <Height />\n                <Align />\n                <VerticalAlign />\n                <Content />\n                <LineHeight />\n                <FontSize />\n                <FontFamily />\n                <Padding />\n                <InnerPadding />\n                <ContainerBackground />\n                <Background />\n                <BackgroundImage />\n                <Border />\n                <Border label=\"Border Width\" attribute_name=\"border-width\" />\n                <Border label=\"Border Style\" attribute_name=\"border-style\" />\n                <Background label=\"Border Color\" overrideAttribute=\"border-color\" />\n                <CordinalBorder />\n                <BorderRadius />\n                <Link />\n                <Img />\n              </>\n            )}\n          </div>\n        </Scrollbars>\n      </TabPane> */}\n\n      <TabPane tab={<span style={{ fontSize: '12px' }}>layout</span>} key=\"2\">\n        <Scrollbars style={{ height: '100%' }} autoHide={true}>\n          <div className={css.columns}>\n            <ColumnSelector />\n          </div>\n        </Scrollbars>\n      </TabPane>\n      <TabPane\n        tab={\n          <>\n            <span style={{ fontSize: '12px' }}>layout</span>\n            <br />\n            <span style={{ fontSize: '12px' }}>config</span>\n          </>\n        }\n        key=\"3\"\n      >\n        <Scrollbars style={{ height: '100%' }} autoHide={true}>\n          <ColumnAttributes />\n        </Scrollbars>\n      </TabPane>\n      <TabPane\n        tab={\n          <>\n            <span style={{ fontSize: '12px' }}>body</span>\n            <br />\n            <span style={{ fontSize: '12px' }}>config</span>\n          </>\n        }\n        key=\"4\"\n      >\n        <Scrollbars style={{ height: '100%' }} autoHide={true}>\n          <BodyAttributes />\n        </Scrollbars>\n      </TabPane>\n    </CustomTabs>\n  );\n};\n\nexport const OnlyAttributesDrawer = () => {\n  const { mjmlJson } = useEditor();\n  const { active, setActive } = useHtmlWrapper();\n  const [isDisabled, setIsDisabled] = useState(false);\n  const [visible, setVisible] = useState(false);\n  const [init, setInit] = useState(false);\n\n  const onClose = () => {\n    setVisible(false);\n  };\n\n  useEffect(() => {\n    // wierd bug in antd\n    if (active && !init) {\n      setInit(true);\n    }\n\n    if (\n      active &&\n      ((active.classList && active.className.includes('mj-column')) ||\n        (active.classList && active.className.includes('mj-body')))\n    ) {\n      setIsDisabled(true);\n    } else {\n      isDisabled && setIsDisabled(false);\n    }\n  }, [active]);\n\n  useEffect(() => {\n    if (!isDisabled && active) {\n      setVisible(true);\n    } else {\n      setVisible(false);\n    }\n  }, [isDisabled, active]);\n\n  return init ? (\n    <Drawer\n      destroyOnClose={true}\n      width={'100%'}\n      getContainer={false}\n      title={\n        <div style={{ textAlign: 'center' }}>\n          <span>Attributes</span>\n        </div>\n      }\n      style={{ position: 'absolute', height: '100%' }}\n      onClose={onClose}\n      visible={visible}\n      maskClosable={false}\n      mask={false}\n      bodyStyle={{\n        padding: '8px 0px',\n      }}\n    >\n      <Scrollbars style={{ height: '100%' }} autoHide={true}>\n        <div\n          className={css.mods}\n          onMouseDown={(e) => {\n            UNDOREDO.newAction(mjmlJson);\n          }}\n          onBlur={(e) => {\n            UNDOREDO.newAction(mjmlJson);\n          }}\n        >\n          <Width />\n          <Height />\n          <Align />\n          <VerticalAlign />\n          <Content />\n          <LineHeight />\n          <FontSize />\n          <FontFamily />\n          <Padding />\n          <InnerPadding />\n          <ContainerBackground />\n          <Background />\n          <BackgroundImage />\n          <Border />\n          <Border label=\"Border Width\" attribute_name=\"border-width\" />\n          <Border label=\"Border Style\" attribute_name=\"border-style\" />\n          <Background label=\"Border Color\" overrideAttribute=\"border-color\" />\n          <CordinalBorder />\n          <BorderRadius />\n          <Link />\n          <Img />\n        </div>\n      </Scrollbars>\n    </Drawer>\n  ) : null;\n};\n","import css from './UiWrapper.module.scss';\n\nexport const UiWrapper = ({ background, label }: { background: string; label: string }) => {\n  return (\n    <div className={css.wrapper}>\n      <div className={`${css.container} ${css[background]}`}></div>\n      <span>{label}</span>\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = ['align', 'background-color', 'border', 'border-bottom', 'border-left', 'border-radius', 'border-right', 'border-top', 'color', 'container-background-color', 'css-class', 'font-family', 'font-size', 'font-style', 'font-weight', 'height', 'href', 'inner-padding', 'letter-spacing', 'line-height', 'padding', 'padding-bottom', 'padding-left', 'padding-right', 'padding-top', 'rel', 'target', 'text-align', 'text-decoration', 'text-transform', 'title', 'vertical-align', 'width'];\n\n// prettier-ignore\nconst properties_with_default_values = {\"align\": \"center\", \"background-color\": \"#414141\", \"border\": \"none\", \"border-bottom\": \"\", \"border-left\": \"\", \"border-radius\": \"3px\", \"border-right\": \"\", \"border-top\": \"\", \"color\": \"#ffffff\", \"container-background-color\": \"\", \"css-class\": \"\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"\", \"font-weight\": \"normal\", \"height\": \"\", \"href\": \"\", \"inner-padding\": \"10px 25px\", \"letter-spacing\": \"\", \"line-height\": \"120%\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"rel\": \"\", \"target\": \"_blank\", \"text-align\": \"none\", \"text-decoration\": \"none\", \"text-transform\": \"none\", \"title\": \"\", \"vertical-align\": \"middle\", \"width\": \"\"}\n\n// prettier-ignore\nconst assigned_default_values  = {\"align\": \"center\", \"background-color\": \"#414141\", \"border\": \"none\", \"border-radius\": \"3px\", \"color\": \"#ffffff\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-weight\": \"normal\", \"inner-padding\": \"10px 25px\", \"line-height\": \"120%\", \"padding\": \"10px 25px\", \"target\": \"_blank\", \"text-align\": \"none\", \"text-decoration\": \"none\", \"text-transform\": \"none\", \"vertical-align\": \"middle\"}\n\nexport const Button = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const config = {\n    tagName: 'mj-button',\n    attributes: {\n      ...assigned_default_values,\n      'css-class': 'mjml-tag identifier-mj-button',\n    },\n    children: [],\n    content: 'button',\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: any) => {\n    dragStart(e, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"button\" label=\"Button\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { FONTS_CONFIG } from './Mods/FontConfig';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = ['color', 'font-family', 'font-size', 'font-style', 'font-weight', 'line-height', 'letter-spacing', 'height', 'text-decoration', 'text-transform', 'align', 'container-background-color', 'padding', 'padding-top', 'padding-bottom', 'padding-left', 'padding-right', 'css-class'];\n\n// prettier-ignore\nconst properties_with_default_values = {\"color\": \"#000000\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"\", \"font-weight\": \"\", \"line-height\": \"1\", \"letter-spacing\": \"none\", \"height\": \"\", \"text-decoration\": \"\", \"text-transform\": \"\", \"align\": \"left\", \"container-background-color\": \"\", \"padding\": \"10px 25px\", \"padding-top\": \"\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"css-class\": \"\"};\n\n// prettier-ignore\nconst assigned_default_values  = {\"color\": \"#000000\", \"font-size\": \"13px\", \"line-height\": \"1\", \"letter-spacing\": \"none\", \"align\": \"center\", \"padding\": \"10px 25px\"};\n//note to self: removed fontFamily default value.\n\nexport const Text = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-text',\n    attributes: {\n      ...assigned_default_values,\n      align: 'left',\n      'padding-left': '0px',\n      'padding-right': '0px',\n      'css-class': 'mjml-tag identifier-mj-text',\n    },\n    content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque quis dolor auctor.',\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"text\" label=\"Text\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = [\"align\", \"alt\", \"border\", \"border-top\", \"border-bottom\", \"border-left\", \"border-right\", \"border-radius\", \"container-background-color\", \"css-class\", \"fluid-on-mobile\", \"height\", \"href\", \"name\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"rel\", \"sizes\", \"src\", \"srcset\", \"target\", \"title\", \"usemap\", \"width\"]\n\n// prettier-ignore\nconst properties_with_default_values = {\"align\": \"center\", \"alt\": \"\", \"border\": \"none\", \"border-top\": \"none\", \"border-bottom\": \"none\", \"border-left\": \"none\", \"border-right\": \"none\", \"border-radius\": \"\", \"container-background-color\": \"\", \"css-class\": \"\", \"fluid-on-mobile\": \"\", \"height\": \"auto\", \"href\": \"\", \"name\": \"\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"rel\": \"\", \"sizes\": \"\", \"src\": \"\", \"srcset\": \"\", \"target\": \"_blank\", \"title\": \"\", \"usemap\": \"\", \"width\": \"100%\"}\n\n// prettier-ignore\nconst assigned_default_values = {\"align\": \"center\", \"border\": \"none\", \"border-top\": \"none\", \"border-bottom\": \"none\", \"border-left\": \"none\", \"border-right\": \"none\", \"height\": \"auto\", \"padding\": \"10px 25px\", \"target\": \"_blank\", \"width\": \"100%\"}\n\nexport const Image = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-image',\n    attributes: {\n      ...assigned_default_values,\n      'css-class': 'mjml-tag identifier-mj-image',\n      width: 'auto',\n      padding: '0px 8px',\n      src: 'https://dev.bluepie.in/dnde.png',\n    },\n    children: [],\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"image\" label=\"Image\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = [\"container-background-color\", \"css-class\", \"height\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\"]\n\n// prettier-ignore\nconst properties_with_default_values = {\"container-background-color\": \"\", \"css-class\": \"\", \"height\": \"20px\", \"padding\": \"none\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\"}\n\n// prettier-ignore\nconst assigned_default_values = {\"height\": \"20px\", \"padding\": \"none\"}\n\nexport const Spacer = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-spacer',\n    attributes: {\n      ...assigned_default_values,\n      'css-class': 'mjml-tag identifier-mj-spacer',\n    },\n    children: [],\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"spacer\" label=\"Spacer\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\nexport const Html = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-text',\n    attributes: {\n      'css-class': 'mjml-tag identifier-mj-html html-block',\n      padding: '0px',\n    },\n    mutableProperties: ['font-family'],\n    content: `\n    <table border=\"1\" style=\"width:100%; border-collapse:collapse\">\n    <tr style=\"font-weight:bold\">\n      <td>S. No</td> \n      <td>Items</td>\n      <td>Quantity</td>\n      <td align=\"center\">Price</td>\n    </tr>\n    <tr>\n      <td>1</td>\n      <td>egg</td>\n      <td>24</td>\n      <td align=\"center\">$10.00</td>\n    </tr>\n    <tr>\n      <td>2</td>\n      <td>milk</td>\n      <td>5</td>\n      <td align=\"center\">$8</td>\n    </tr>\n    <tr>\n      <td>3</td>\n      <td>curd</td>\n      <td>8</td>\n      <td align=\"center\">$8</td>\n    </tr>\n    </table>\n    `,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"html\" label=\" Html\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = [\"border-color\", \"border-style\", \"border-width\", \"container-background-color\", \"css-class\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"width\", \"align\"]\n\n// prettier-ignore\nconst properties_with_default_values = {\"border-color\": \"#000000\", \"border-style\": \"solid\", \"border-width\": \"4px\", \"container-background-color\": \"\", \"css-class\": \"\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"width\": \"100%\", \"align\": \"center\"}\n\n// prettier-ignore\nconst assigned_default_values = {\"border-color\": \"#000000\", \"border-style\": \"solid\", \"border-width\": \"4px\", \"padding\": \"10px 25px\", \"width\": \"100%\", \"align\": \"center\"}\n\nexport const Divider = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-divider',\n    attributes: {\n      ...assigned_default_values,\n      padding: '0px',\n      'css-class': 'mjml-tag identifier-mj-divider',\n    },\n    children: [],\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n  // access type, etc from comp nd set to context\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"divider\" label=\"Divider\" />\n    </div>\n  );\n};\n","import { dragStart } from '../Utils/dragStart';\nimport { UiWrapper } from './UiWrapper';\n\n// prettier-ignore\nconst social_properties = [\"align\", \"border-radius\", \"color\", \"css-class\", \"container-background-color\", \"font-family\", \"font-size\", \"font-style\", \"font-weight\", \"icon-height\", \"icon-size\", \"inner-padding\", \"line-height\", \"mode\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"icon-padding\", \"text-padding\", \"text-decoration\"]\n\n// prettier-ignore\nconst social_properties_with_default_values = {\"align\": \"center\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"css-class\": \"\", \"container-background-color\": \"\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"inner-padding\": \"4px\", \"line-height\": \"22px\", \"mode\": \"horizontal\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"text-decoration\": \"none\"}\n\n// prettier-ignore\nconst social_assigned_default_values = {\"align\": \"center\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"inner-padding\": \"4px\", \"line-height\": \"22px\", \"mode\": \"horizontal\", \"padding\": \"10px 25px\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"text-decoration\": \"none\"}\n\n// prettier-ignore\nconst social_element_properties = [\"align\", \"alt\", \"background-color\", \"border-radius\", \"color\", \"css-class\", \"font-family\", \"font-size\", \"font-style\", \"font-weight\", \"href\", \"icon-height\", \"icon-size\", \"line-height\", \"name\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"icon-padding\", \"text-padding\", \"sizes\", \"src\", \"srcset\", \"rel\", \"target\", \"title\", \"text-decoration\", \"vertical-align\"]\n\n// prettier-ignore\nconst social_element_properties_with_default_values = {\"align\": \"center\", \"alt\": \"none\", \"background-color\": \"Each social name has its own default\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"css-class\": \"\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"href\": \"none\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"line-height\": \"22px\", \"name\": \"N/A\", \"padding\": \"4px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"sizes\": \"\", \"src\": \"Each social name has its own default\", \"srcset\": \"\", \"rel\": \"\", \"target\": \"_blank\", \"title\": \"none\", \"text-decoration\": \"none\", \"vertical-align\": \"middle\"}\n\n// prettier-ignore\nconst social_element_assigned_default_values = {\"align\": \"center\", \"alt\": \"none\", \"background-color\": \"Each social name has its own default\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"href\": \"none\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"line-height\": \"22px\", \"name\": \"N/A\", \"padding\": \"4px\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"src\": \"Each social name has its own default\", \"target\": \"_blank\", \"title\": \"none\", \"text-decoration\": \"none\", \"vertical-align\": \"middle\"}\n\nconst social_element_config = {\n  tagName: 'mj-social-element',\n  attributes: {\n    'css-class': 'mjml-tag identifier-mj-social-element',\n  },\n  mutableProperties: social_element_properties,\n};\n\nexport const Social = () => {\n  const config = {\n    tagName: 'mj-social',\n    attributes: {\n      'css-class': 'mjml-tag identifier-mj-social',\n    },\n    children: [\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'facebook-noshare',\n          href: 'https://github.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/facebook.png',\n        },\n      },\n\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'twitter-noshare',\n          href: 'https://twitter.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/twitter.png',\n        },\n      },\n\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'youtube-noshare',\n          href: 'https://github.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/youtube.png',\n        },\n      },\n\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'github',\n          href: 'https://github.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/github.png',\n        },\n      },\n    ],\n    mutableProperties: social_properties,\n  };\n\n  const onDragStart = (e: any) => {\n    dragStart(e, config);\n  };\n\n  return (\n    <div onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"social\" label=\"Social\" />\n    </div>\n  );\n};\n","import { useCkeditor } from '../Hooks/Ckeditor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { COLUMN, SECTION } from './Section';\nimport { UiWrapper } from './UiWrapper';\n\nconst SectionV2 = () => {\n  const config = { ...SECTION, children: [COLUMN] };\n  const {\n    drag: { setIsColumn },\n  } = useCkeditor();\n\n  const onDragStart = (e: any) => {\n    setIsColumn(true);\n    dragStart(e, config);\n  };\n  return (\n    <div onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"section\" label=\"Section\" />\n    </div>\n  );\n};\n\nexport { SectionV2 };\n","import { Col, Collapse, Row } from 'antd';\nimport { Button } from '../../Components/Button';\nimport { Text } from '../../Components/Text';\nimport { CaretDownOutlined } from '@ant-design/icons';\nimport css from './Editor.module.scss';\nimport '../../Assets/Css/antoveride.scss';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport { Image } from '../../Components/Image';\nimport { Spacer } from '../../Components/Spacer';\nimport { Html } from '../../Components/Html';\nimport { Divider } from '../../Components/Divider';\nimport { Section } from '../../Components/Section';\nimport { Social } from '../../Components/Social';\nimport { SectionV2 } from '../../Components/SectionV2';\n\nconst { Panel } = Collapse;\n\nconst Header = ({ title }: { title: string }) => {\n  return <p className={css.title}>{title}</p>;\n};\n\nexport const ComponentBank = () => {\n  return (\n    <Scrollbars style={{ height: '100%' }} autoHide={true}>\n      {/* <div style={{ padding: '8px', textAlign: 'center', fontSize: '16px', fontWeight: 'bold' }}>\n        <span>Components</span>\n      </div> */}\n      {/* <Collapse\n        expandIconPosition={'right'}\n        bordered={false}\n        defaultActiveKey={['1', '2']}\n        style={{ backgroundColor: 'rgb(255,255,255)' }}\n        expandIcon={({ isActive }) => <CaretDownOutlined rotate={isActive ? 0 : 180} />}\n      >\n        <Panel header={<Header title=\"Drag & Drop Section\" />} key=\"1\">\n          <Section />\n        </Panel> */}\n      {/* <Panel header={<Header title=\"Drag & Drop Content\" />} key=\"2\"> */}\n      <div className={css.components}>\n        <SectionV2 />\n        <Button />\n        <Text />\n        <Image />\n        <Spacer />\n        <Divider />\n        <Html />\n        <Social />\n      </div>\n      {/* </Panel> */}\n      {/* </Collapse> */}\n    </Scrollbars>\n  );\n};\n","import { message } from 'antd';\n\nconst success = (msg: string) => {\n  message.success(msg);\n};\n\nconst error = (msg: string) => {\n  message.error(msg);\n};\n\nconst warning = (msg: string) => {\n  message.warning(msg);\n};\n\nexport { success, error, warning };\n","import { message } from 'antd';\nimport { logger } from './logger';\nconst sgMail = require('@sendgrid/mail');\n\nconst sendMail = (to: string, html: string) => {\n  sgMail.setApiKey(process.env.SENDGRID_API_KEY);\n  const msg = {\n    to,\n    from: 'admin@bluepie.com', // Change to your verified sender\n    subject: 'Test Design',\n    text: 'check your design with this mail',\n    html: html,\n  };\n  sgMail\n    .send(msg)\n    .then(() => {\n      logger.log('Email sent');\n      message.loading('sending mail...', 2).then(() => message.success('mail sent!'));\n    })\n    .catch((error: any) => {\n      message.error('error sending mail');\n      logger.error(error);\n    });\n};\n\nexport { sendMail };\n","import { Modal, Radio } from 'antd';\nimport { RadioChangeEvent } from 'antd/lib/radio';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport './Preview.module.css';\n\nconst DESKTOP_WIDTH = '800px';\nconst MOBILE_WIDTH = '323px';\n\nconst FullscreenModal = styled(Modal).attrs({ title: 'Preview' })`\n  .ant-modal {\n    max-width: unset !important;\n    margin: unset !important;\n  }\n  .ant-modal-centered::before {\n    content: unset !important;\n  }\n  .ant-modal-content {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n  .ant-modal-body {\n    margin: 0px auto;\n  }\n`;\n\nconst PreviewMode = styled.div`\n  position: absolute;\n  bottom: 24px;\n  left: 24px;\n`;\n\ninterface PreviewProps {\n  visible: boolean;\n  visibleChange: (visible: boolean) => void;\n  inframeContent: string;\n}\n\nexport const Preview = ({ visible, visibleChange, inframeContent }: PreviewProps) => {\n  const [mode, setMode] = useState('desktop');\n\n  const onChange = (e: RadioChangeEvent) => {\n    if (e.target.value) {\n      setMode(e.target.value);\n    }\n  };\n\n  return (\n    <FullscreenModal\n      visible={visible}\n      onCancel={() => visibleChange(false)}\n      onOk={() => visibleChange(false)}\n      width={'unset'}\n      style={{ top: '0px', maxWidth: 'unset', paddingBottom: '0px', height: '100%' }}\n      bodyStyle={{ height: '100%' }}\n      maskStyle={{ height: '100%' }}\n      destroyOnClose={true}\n      footer={null}\n    >\n      <PreviewMode>\n        <ModeSelect onChange={onChange} value={mode} />\n      </PreviewMode>\n      {inframeContent ? (\n        <iframe\n          title=\"Preview\"\n          style={{ margin: '0px auto' }}\n          width={mode === 'desktop' ? DESKTOP_WIDTH : MOBILE_WIDTH}\n          height=\"100%\"\n          srcDoc={inframeContent}\n        />\n      ) : null}\n    </FullscreenModal>\n  );\n};\n\ninterface ModeSelectProps {\n  onChange: (e: RadioChangeEvent) => void;\n  value: string;\n}\n\nconst ModeSelect = ({ onChange, value }: ModeSelectProps) => {\n  return (\n    <>\n      <Radio.Group\n        onChange={onChange}\n        value={value}\n        options={[\n          { label: 'desktop', value: 'desktop' },\n          { label: 'mobile', value: 'mobile' },\n        ]}\n        buttonStyle=\"solid\"\n        optionType=\"button\"\n      />\n    </>\n  );\n};\n","import { View } from './View';\nimport css from './Editor.module.scss';\nimport { Attributes, OnlyAttributesDrawer } from './Attributes';\nimport { ComponentBank } from './ComponentBank';\nimport { Button, PageHeader, Layout, Modal, Input, Row, Col, Popconfirm } from 'antd';\nimport { success } from '../../Components/Messages';\nimport mjml2html from 'mjml-browser';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { sendMail } from '../../Utils/sendMail';\nimport { useEffect, useState } from 'react';\nimport { Preview } from './Preview';\nimport { exportJson } from '../../Utils/mjmlProcessor';\nimport _ from 'lodash';\nimport { generatePreview } from '../../Utils/previewGenerator';\nimport { UNDOREDO } from '../../Utils/undoRedo';\nimport { logger } from '../../Utils/logger';\nimport { Prompt } from 'react-router';\nconst { Content } = Layout;\nconst { confirm } = Modal;\n\nexport const Editor = () => {\n  const { mjmlJson } = useEditor();\n  const [preview, setPreview] = useState(false);\n  const [isBlockingRoute, setIsBlockingRoute] = useState(false);\n\n  useEffect(() => {\n    // reset undo redo actions on each new load\n    UNDOREDO.reset();\n  }, []);\n\n  useEffect(() => {\n    if (UNDOREDO.undo.length > 1 || UNDOREDO.redo.length > 1) {\n      setIsBlockingRoute(true);\n      return;\n    }\n    setIsBlockingRoute(false);\n  }, [UNDOREDO.undo, UNDOREDO.redo]);\n\n  const copyHTMLAsClipBoard = (e: any) => {\n    e.preventDefault();\n    const html = mjml2html(mjmlJson).html;\n    navigator.clipboard.writeText(html);\n    logger.log('html', html);\n    success('Copied to clipboard & logged in devtools ');\n  };\n\n  const copyPreviewImage = async (e: any) => {\n    e.preventDefault();\n    const html = mjml2html(mjmlJson).html;\n    navigator.clipboard.writeText(await generatePreview(html));\n    success('Preview Image Copied to clipboard');\n  };\n\n  const copyJsonInClipBoard = (e: any) => {\n    e.preventDefault();\n    const to_copy = JSON.stringify(exportJson(_.cloneDeep(mjmlJson)));\n    navigator.clipboard.writeText(to_copy);\n    logger.log('json', to_copy);\n\n    success('Copied to Clipboard & logged in devtools ');\n  };\n\n  return (\n    <Row style={{ height: '100%', width: '100%' }} justify=\"center\">\n      <Prompt when={isBlockingRoute} message={() => 'Are you sure you want to leave, your changes will be lost'} />\n      <Col lg={24} xl={0}>\n        <div style={{ textAlign: 'center', padding: '40px', paddingTop: '10%' }}>\n          <h3>Sorry, You need a device with a larger screen to perform editing, atleast '{'>'}=1200px'</h3>\n        </div>\n      </Col>\n      <Col xs={0} xl={24}>\n        <Preview\n          visible={preview}\n          visibleChange={(flag) => setPreview(flag)}\n          inframeContent={preview ? mjml2html(mjmlJson).html : ''}\n        />\n        <Layout style={{ height: '100%' }}>\n          <PageHeader\n            ghost={false}\n            onBack={() => window.history.back()}\n            title=\"dnde\"\n            subTitle=\"\"\n            style={{ borderBottom: '1px solid #e8e8e8' }}\n            extra={[\n              <>\n                {/* <SendTestMail key=\"4\" />\n              <Button key=\"5\" onClick={copyPreviewImage}>\n                Copy Preview Image\n              </Button> */}\n                <Button key=\"3\" onClick={() => setPreview(true)}>\n                  Preview\n                </Button>\n                <Button key=\"2\" onClick={copyHTMLAsClipBoard}>\n                  Copy as html\n                </Button>\n                <Button key=\"1\" onClick={copyJsonInClipBoard}>\n                  Copy as json\n                </Button>\n              </>,\n            ]}\n          ></PageHeader>\n          <Content>\n            <div className={css.editor}>\n              <div className={css.bank}>\n                <ComponentBank />\n              </div>\n              <div className={css.view}>\n                <View />\n              </div>\n              <div className={css.attributes} style={{ position: 'relative' }}>\n                <OnlyAttributesDrawer />\n                <Attributes />\n              </div>\n            </div>\n          </Content>\n        </Layout>\n      </Col>\n    </Row>\n  );\n};\n\nconst SendTestMail = () => {\n  const { mjmlJson } = useEditor();\n  //todo: investigate onChange behaviour here ~sendTestMail\n  const [mail, SetMail] = useState('');\n  const onBlur = (e: any) => {\n    SetMail(e.currentTarget.value);\n  };\n\n  const msg = () =>\n    confirm({\n      title: 'Email',\n      icon: null,\n      content: <Input onBlur={onBlur} />,\n      onOk: () => {\n        mail && sendMail(mail, mjml2html(mjmlJson).html);\n      },\n    });\n\n  return (\n    <Button key=\"2\" type=\"primary\" onClick={msg}>\n      Send Test Mail\n    </Button>\n  );\n};\n","import { Editor } from './Editor';\nimport { DNDContext } from '../../Context/DragAndDrop.context';\nimport { EDContext } from '../../Context/Editor.context';\nimport { Ckeditor } from '../../Context/Ckeditor.context';\nimport { HtmlContextProvider } from '../../Context/Htmlwrapper.context';\nimport { QuillEditor } from '../../Context/Quill.context';\nimport { CustomEditorProvider } from '../../Context/CustomEditor.context';\n\nconst wrapContext = () => (\n  <HtmlContextProvider>\n    <CustomEditorProvider>\n      <QuillEditor>\n        <Ckeditor>\n          <DNDContext>\n            <EDContext>\n              <Editor />\n            </EDContext>\n          </DNDContext>\n        </Ckeditor>\n      </QuillEditor>\n    </CustomEditorProvider>\n  </HtmlContextProvider>\n);\n\nexport default wrapContext;\n","import { Routing } from './index.route';\n\nexport default Routing;\n","import { Switch, Route, Redirect } from 'react-router-dom';\nimport { List } from './List';\nimport Editor from './Editor';\n\nconst Routing = () => {\n  return (\n    <Switch>\n      <Route exact path={['', '/list']} component={List} />\n      <Route path=\"/template/:templateId\" component={Editor} />\n      <Route path=\"*\">\n        <Redirect to=\"/\" />\n      </Route>\n    </Switch>\n  );\n};\n\nexport { Routing };\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  templates: [\n    {\n      id: 24234234,\n      preview: 'https://picsum.photos/320/550',\n    },\n    {\n      id: 4535345,\n      preview: 'https://picsum.photos/320/400',\n    },\n    {\n      id: 976824,\n      preview: 'https://picsum.photos/320/600',\n    },\n  ],\n};\nconst slice = createSlice({\n  name: 'templates',\n  initialState,\n  reducers: {},\n});\n\nexport const { reducer: templateListReducer } = slice;\n","import { configureStore } from '@reduxjs/toolkit';\nimport { FC } from 'react';\nimport { DndeApi } from '../Api/api';\nimport { templateListReducer } from './list';\n\nimport { Provider } from 'react-redux';\n\nconst store = configureStore({\n  reducer: { [DndeApi.reducerPath]: DndeApi.reducer, templateList: templateListReducer },\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(DndeApi.middleware),\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n\nexport const StoreProvider: FC = ({ children }) => {\n  return <Provider store={store}>{children}</Provider>;\n};\n","import React from 'react';\nimport { HashRouter } from 'react-router-dom';\nimport Pages from './Pages';\nimport 'antd/dist/antd.css';\nimport 'quill/dist/quill.snow.css';\nimport './App.scss';\nimport { StoreProvider } from './Store/store';\nimport { Modal } from 'antd';\n\nfunction App() {\n  return (\n    <StoreProvider>\n      <HashRouter\n        getUserConfirmation={async (message, callback) => {\n          const userConfirm = await new Promise<boolean>((resolve) => {\n            Modal.confirm({\n              title: message,\n              onOk: () => resolve(true),\n              onCancel: () => resolve(false),\n            });\n          });\n\n          callback(userConfirm);\n        }}\n      >\n        <div className=\"my-app\">\n          <Pages />\n        </div>\n      </HashRouter>\n    </StoreProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MyApp from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <MyApp />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Editor_layout__2Y-AK\",\"editor\":\"Editor_editor__qGS4j\",\"bank\":\"Editor_bank__3JqEw\",\"attributes\":\"Editor_attributes__32n0a\",\"components\":\"Editor_components__38eSg\",\"mods\":\"Editor_mods__3ZWIb\",\"columns\":\"Editor_columns__1Yrk0\",\"iconsContainer\":\"Editor_iconsContainer__KxyJq\",\"view\":\"Editor_view__eaZst\",\"viewHolder\":\"Editor_viewHolder__3pzWy\",\"title\":\"Editor_title__24LyS\"};"],"sourceRoot":""}